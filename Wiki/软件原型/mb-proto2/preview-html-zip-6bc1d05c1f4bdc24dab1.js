(()=>{var Dn={18356:(I,F,n)=>{"use strict";n.d(F,{lQ:()=>kn,Qb:()=>Pn,od:()=>Cn});var E=n(87587),a=n(71114),P=n(17200),_=n(4978),i=n(35433),S=n(71101);const x={};function s(u,R){typeof u=="object"&&(R=u,u=void 0),R=R||{};const G=(0,P.H)(u,R.path||"/socket.io"),re=G.source,q=G.id,de=G.path,we=x[q]&&de in x[q].nsps,me=R.forceNew||R["force new connection"]||R.multiplex===!1||we;let he;return me?he=new _.d(re,R):(x[q]||(x[q]=new _.d(re,R)),he=x[q]),G.query&&!R.query&&(R.query=G.queryKey),he.socket(G.path,R)}Object.assign(s,{Manager:_.d,Socket:i.s,io:s,connect:s});var g=n(63828),c=n(81697),p=n(60074),f=n(71090);const m=2*1e3,d=16*1e3,B=32*1e3,k=()=>{},U=u=>{(0,p.Q)("SKT-QUE",u)},C=()=>({destroy:k,reset:k,emitAsync:h,emitLossy:k,reqRoomAsync:()=>Promise.resolve(),getIsConnected:()=>!0,getSocketId:()=>"",getReadyPromise:()=>Promise.resolve(),getOffsetMsec:()=>0,DUMMY:!0}),h=async(u,R)=>({type:u,payload:R,isDummy:!0}),v=u=>{let{query:{uId:R,fURL:G=globalThis.location.href.slice(0,128),uTag:re=c.ck,vTag:q=f.i},lossyListenerMap:de={},queueListenerMap:we={},socketUrl:me=globalThis.location.origin,socketPath:he=c.z3,usePolling:ge=!1}=u;const Q=(0,g.hF)();let oe,z=(0,E.vH)(),H=0,Y=b,ce=null;const ke=()=>{oe!==void 0&&(oe.close(),oe=void 0,z=(0,E.vH)(),je=!1,ce&&clearTimeout(ce),ce=null)},Ne=()=>{ke();const pe=new _.d(me,{path:he,query:{uId:R,fURL:G,uTag:re,vTag:q},transports:ge?["polling","websocket"]:["websocket"],reconnectionDelay:Math.round((m+d)/2),reconnectionDelayMax:B,randomizationFactor:(d-m)/(d+m),closeOnBeforeunload:!1}).socket(c.Or);pe.on("connect_error",Ee=>{console.log("[socket] connect_error",Ee),Ee.message.includes(c.Jc)&&(ke(),Q.dispatchEvent({type:c.E$,payload:{error:Ee}})),Q.dispatchEvent({type:c.Rm,payload:{error:Ee}})}),pe.on("connect",async()=>{console.log("[socket] connect");{const Ee=Date.now(),De=await Pe(c.hD),Se=Date.now();H=De-(Ee+Se)*.5}Y!==b&&await Pe(c.Cu,Y),ce=(0,a.Q3)(()=>{!oe||!oe.connected||je||Ne()},(10+Math.random()*10)*60*1e3),console.log("[socket] ready"),Q.dispatchEvent({type:c.FC}),z.resolve()});{let Ee=Promise.resolve();const De=Se=>{const Be=Ee.then(Se);return Ee=Be.then(k,U),Be};Q.clear();for(const[Se,Be]of Object.entries(de))pe.on(Se,Le=>Be({type:Se,payload:Le})),Q.addEventListener(Se,Le=>{let{payload:W}=Le;return Be({type:Se,payload:W})});for(const[Se,Be]of Object.entries(we))pe.on(Se,Le=>De(()=>Be({type:Se,payload:Le}))),Q.addEventListener(Se,Le=>{let{payload:W}=Le;return De(()=>Be({type:Se,payload:W}))})}oe=pe};let je=!1;const Pe=(Ie,pe)=>new Promise(Ee=>{oe.emit(Ie,pe,Ee),je=!0}).then(Ee=>{je=!1;const{error:De,result:Se}=Ee;if(De!==void 0)throw Object.assign(new Error(typeof De=="object"&&De.message||"SKT-USR error"),De);return Se}),Ce=(Ie,pe)=>{oe.volatile.emit(Ie,pe)},Ae=async Ie=>{await Pe(c.Cu,Ie),Y=Ie};return Ne(),{destroy:ke,reset:Ne,emitAsync:Pe,emitLossy:Ce,reqRoomAsync:Ae,getIsConnected:()=>oe?oe.connected:!1,getSocketId:()=>oe?oe.id:"",getReadyPromise:()=>z.promise,getOffsetMsec:()=>H}},b=[[],[],[]];var A=n(4423),j=n(6515),X=n(93701),ie=n(52910),Z=n(91320),ee=n(66234),N=n(76336),$=n(21630);const ye=0,ue={cDebugMin:ye,cCmtPack:ye+1,cCmtThread:ye+2,cCmtContent:ye+3,cDebugMax:35},V=(0,$.$)("cmt-type",ue),te=V.pack("cCmtPack"),fe=V.pack("cCmtThread"),Fe=V.pack("cCmtContent"),Je=new Set(["cCmtPack","cCmtThread","cCmtContent"]),tt=new Set([te,fe,Fe]);var Te=n(80693);const dt={unstyled:0,"header-one":1,"header-two":2,"header-three":3,"ordered-list-item":4,"unordered-list-item":5,atomic:6},_t=(0,$.$)("DraftBlockType",dt),yt={left:0,center:1,right:2,justify:3},rt=(0,$.$)("DraftAlignment",yt),Et={LINK:0,IMAGE:1},ht=(0,$.$)("DraftEntityMapType",Et),bt={MUTABLE:0,IMMUTABLE:1,SEGMENTED:2},Ye=(0,$.$)("DraftEntityMapMutability",bt),Ue={_blank:0,_self:1},nt=(0,$.$)("DraftLinkTargetOption",Ue),kt=u=>{const R={};return Object.keys(u).forEach(G=>{const{type:re,mutability:q,data:de}=u[G],we=[ht.pack(re),Ye.pack(q)],me=[];re==="LINK"?(we.push(nt.pack(de.targetOption)),me.push(de.url||"")):re==="IMAGE"&&(we.push((0,ee.xd)(de.width),rt.pack(de.alignment)),me.push(de.src||"",de.alt||"")),R["e/"+G]=[we.join(N.Kt),...me]}),R},mt=u=>{const R={};for(const G of Object.keys(u)){if(!G.startsWith("e/"))continue;const re=G.split("e/")[1],[q,...de]=u[G],[we,me,he,ge]=q.split(N.Kt),Q=ht.parse(we),oe=Ye.parse(me);R[re]=Q==="LINK"?{type:Q,mutability:oe,data:{url:de[0],targetOption:nt.parse(he)}}:{type:Q,mutability:oe,data:{src:de[0],alt:de[1],width:(0,ee.nZ)(he),alignment:rt.parse(ge)}}}return R},pt=u=>{const R={};return Object.keys(u).forEach(G=>{const{text:re,type:q,depth:de,inlineStyleRanges:we,entityRanges:me,data:{textAlign:he,textIndent:ge,paraSpacing:Q}}=u[G],oe=[_t.packDef(q,"unstyled"),(0,ee.xd)(de),he?rt.pack(he):"",ge!==void 0?(0,ee.xd)(ge):"",Q!==void 0?(0,Z.DF)(Q):""];R["b/"+G]=[oe.join(N.Kt),re,we.map(z=>{let{offset:H,length:Y,style:ce}=z;return wt(H,Y,ce)}),me.map(z=>{let{offset:H,length:Y,key:ce}=z;return at(H,Y,ce)})]}),R},at=(u,R,G)=>""+(0,ee.xd)(u)+N.Kt+(0,ee.xd)(R)+N.Kt+(0,ee.xd)(G),Mt=u=>{const R=u.indexOf(N.Kt),G=u.indexOf(N.Kt,R+1);return[(0,ee.nZ)(u.slice(0,R)),(0,ee.nZ)(u.slice(R+1,G)),(0,ee.nZ)(u.slice(G+1))]},wt=(u,R,G)=>""+(0,ee.xd)(u)+N.Kt+(0,ee.xd)(R)+N.Kt+G,Ct=u=>{const R=u.indexOf(N.Kt),G=u.indexOf(N.Kt,R+1);return[(0,ee.nZ)(u.slice(0,R)),(0,ee.nZ)(u.slice(R+1,G)),u.slice(G+1)]},Pt=u=>{const R={};for(const G of Object.keys(u)){if(!G.startsWith("b/"))continue;const re=G.split("b/")[1],[q,de,we,me]=u[G],[he,ge,Q,oe,z]=q.split(N.Kt),H={};Q!==""&&(H.textAlign=rt.parse(Q)),oe!==""&&(H.textIndent=(0,ee.nZ)(oe)),z!==""&&z!==void 0&&(H.paraSpacing=(0,Z.Ci)(z)),R[re]={text:de,type:_t.parse(he),depth:(0,ee.nZ)(ge),inlineStyleRanges:we.map(Y=>{const[ce,ke,Ne]=Ct(Y);return{offset:ce,length:ke,style:Ne}}),entityRanges:me.map(Y=>{const[ce,ke,Ne]=Mt(Y);return{offset:ce,length:ke,key:Ne}}),data:H}}return R},St=u=>{let{message:R}=u;const{blocks:G={},entityMap:re={}}=R;return{...pt(G),...kt(re)}},Rt=u=>({message:{blocks:Pt(u),entityMap:mt(u)}}),jt=u=>({T:V.pack(u.type),IC:[(0,ee.xd)(u.index),(0,ee.hc)(u.ctime)].join(N.Kt)}),xt=u=>{const[R,G]=u.IC.split(N.Kt);return{type:V.parse(u.T),index:(0,ee.nZ)(R),ctime:(0,ee.sO)(G)}},Ft=u=>({...jt(u),R:u.refKey}),Ut=u=>({...xt(u),refKey:u.R}),O=u=>({...jt(u),...St(u),xy:(0,Z.jq)(u.x,u.y),wh:(0,Z.jq)(u.w,u.h),z:(0,Z.DF)(u.z),userInfo:u.userInfo,userId:(0,Z.DF)(u.userId),mtime:(0,ee.hc)(u.mtime),isCompleted:(0,Te.aY)(u.isCompleted),canvasVec2:u.canvasVec2?{x:(0,Z.DF)(u.canvasVec2.x),y:(0,Z.DF)(u.canvasVec2.y)}:u.canvasVec2,canvasCid:u.canvasCid,threadType:u.threadType}),L=u=>{const[R,G]=(0,Z.dn)(u.xy),[re,q]=(0,Z.dn)(u.wh),de=u.canvasVec2?(0,Z.Ci)(u.canvasVec2.x):void 0,we=u.canvasVec2?(0,Z.Ci)(u.canvasVec2.y):void 0,me=(0,Z.Ci)(u.z);return{...xt(u),...Rt(u),x:R,y:G,w:re,h:q,z:me,mtime:(0,ee.sO)(u.mtime),userInfo:u.userInfo,userId:(0,Z.Ci)(u.userId),isCompleted:(0,Te.YI)(u.isCompleted),canvasCid:u.canvasCid,threadType:u.threadType,canvasVec2:de&&we?{x:de,y:we}:void 0}},J=u=>({...jt(u),...St(u),mtime:(0,ee.hc)(u.mtime),userInfo:u.userInfo}),le=u=>({...xt(u),...Rt(u),mtime:(0,ee.sO)(u.mtime),userInfo:u.userInfo}),Oe=u=>{try{switch(u.T){case void 0:return u;case te:return Ut(u);case fe:return L(u);case Fe:return le(u);default:throw new Error("invalid attr: "+u.T+" -> "+V.parse(u.T))}}catch(R){throw(0,p.Q)("toP2CHA badDat",R,u),R}},Ke=u=>{try{switch(u.type){case void 0:return u;case"cCmtPack":return Ft(u);case"cCmtThread":return O(u);case"cCmtContent":return J(u);default:throw new Error("invalid attr: "+u.type)}}catch(R){throw(0,p.Q)("toP2CCA badDat",R,u),R}};var ot=n(9390);const ct=(u,R)=>{const G=me=>{const he=u(me);return he===void 0?[]:he.sub.map(ge=>u(ge))},re=(0,ot.Ir)(me=>me.sub.map(he=>u(he))),q=(me,he)=>{const ge=u(me);ge!==void 0&&(he(ge)||ge.sub.length!==0&&re(ge,he))};return{getHotItem:u,getSubHotItemList:G,walkHotItemSubtree:q,isTrashed:me=>(0,j.z4)(me,R.getFlatTree()),__devHotTree:function(me){me===void 0&&(me=j.$3);const he=new Map,ge=Q=>{let oe=he.get(Q);return oe===void 0&&he.set(Q,oe={}),oe};return q(me,Q=>{ge(Q.sup)[Q.key]=Q.hotAttr,Q.sub.length!==0&&(ge(Q.sup)[Q.key+" SUB"]=ge(Q.key))}),ge(u(me).sup)}}};var Xe=n(53705),Ve=n(93834),qe=n(96293),Re=n(2150),ut=n(60264);const ft=(u,R,G)=>{const re=z=>{if(z===void 0||z.length===0)return;const H=new Set;for(const ce of z)H.add(ce.key),ce.type==="I"&&H.add(ce.keySup);const Y=(0,j.O2)([...H].filter(j.w3),G.getFlatTree());u({type:ut.K,payload:Y})},q=z=>{const H=[],Y=z(H);return re(G.applyDiff(H)),Y},de=z=>q(H=>{const Y=[],ce=z(Y);for(const ke of Y)ke.type==="update"?ge(ke.hotItem,H):ke.type==="delete"&&Q(ke.key,H);return ce}),we=function(){const z=[],H=[];let Y,ce=!1;for(var ke=arguments.length,Ne=new Array(ke),je=0;je<ke;je++)Ne[je]=arguments[je];for(const Pe of Ne){Y=Pe(z);const Ce=G.applyDiff(z);Ce!==void 0&&(H.push(...Ce),ce?G.combineLastUndo():ce=!0)}return re(H),Y},me=function(){for(var z=arguments.length,H=new Array(z),Y=0;Y<z;Y++)H[Y]=arguments[Y];const ce=H.map(ke=>Ne=>{const je=[],Pe=ke(je);for(const Ce of je)Ce.type==="update"?ge(Ce.hotItem,Ne):Ce.type==="delete"&&Q(Ce.key,Ne);return Pe});return we(...ce)},he=(z,H)=>{for(const Y of Object.keys(z)){const ce=z[Y],ke=H[Y];ce!==ke&&(0,Xe.$N)(ce)&&(0,Xe.$N)(ke)&&JSON.stringify(ce)===JSON.stringify(ke)&&(z[Y]=ke)}},ge=(z,H)=>{const Y=(0,j.c6)(z.key,G.getFlatTree());if(Y===void 0)H.push({type:Re.P6,key:z.key,keySup:z.sup}),H.push({type:Re.q$,key:z.key,attrDiff:Ke(z.hotAttr)});else{Y.sup!==z.sup&&H.push({type:Re.P6,key:z.key,keySup:z.sup});const ce=Ke(z.hotAttr);he(ce,Y.attr);const ke=(0,qe.O)(ce,Y.attr);ke!==void 0&&H.push({type:Re.q$,key:z.key,attrDiff:ke})}},Q=(z,H)=>{G.getFlatItem(z)&&H.push({type:Re.P6,key:z,keySup:j.bx})},oe=(z,H,Y)=>{G.getFlatItem(z)&&G.getFlatItem(H)&&Y.push({type:Re.P6,key:z,keySup:H})};return{_edit:q,_editAction:de,_editBatch:we,_editActionBatch:me,onRemotePatchList:z=>{const H=[];for(const Y of z){const ce=G.applyDiffNoUndo(Y.diffList,Y.clock);ce!==void 0&&H.push(...ce)}re(H)},updateHotItem:z=>q(H=>{ge(z,H)}),updateHotItemBatch:z=>q(H=>{for(const Y of z)ge(Y,H)}),deleteHotItem:z=>q(H=>{Q(z,H)}),deleteHotItemBatch:z=>q(H=>{for(const Y of z)Q(Y,H)}),moveHotItem:(z,H)=>q(Y=>{oe(z,H,Y)}),moveHotItemBatch:z=>q(H=>{for(const[Y,ce]of z)oe(Y,ce,H)}),editHotItemBatch:z=>q(H=>{for(const Y of z)Y.type==="update"?ge(Y.hotItem,H):Y.type==="delete"&&Q(Y.key,H)}),updateHotAttrMerge:(z,H)=>q(Y=>{const ce=R(z);if(ce===void 0)throw new Error("no item: "+z);ge((0,Ve.iA)(ce,"hotAttr",{...ce.hotAttr,...H}),Y)}),updateHotAttrKV:(z,H,Y)=>q(ce=>{const ke=R(z);if(ke===void 0)throw new Error("no item: "+z);ge((0,Ve.iA)(ke,"hotAttr",(0,Ve.iA)(ke.hotAttr,H,Y)),ce)}),canUndo:G.canUndo,canRedo:G.canRedo,combineMergeMark:G.combineMergeMark,combineMerge:G.combineMerge,undo:()=>{re(G.undo())},redo:()=>{re(G.redo())}}},gt=u=>{const R=(0,g.Dt)(),G=R.subscribe,re=R.unsubscribe,q=Lt(u),de=ct(q,u),we=()=>_n(u.getFlatTree),me=ft(R.send,q,u),{_edit:he,_editAction:ge,_editBatch:Q,_editActionBatch:oe,...z}=me;return{subscribe:G,unsubscribe:re,...de,createRoCmtStore:we,...z}},Lt=u=>R=>{const G=u.getFlatTree().get(R);if(G===void 0)return;const re=u.getOCache(G);return re.hotItem===void 0&&(re.hotItem={key:G.key,sup:G.sup,sub:G.sub,hotAttr:Oe(G.attr)}),re.hotItem},_n=u=>{const R=(0,ie.A)(u(),(0,A.LQ)({})),G=()=>R.getFlatTree()!==u(),re=()=>R.sync(u()),q=Lt(R),de=ct(q,R);return{hasUpdate:G,syncUpdate:re,...de}};var vt=n(58161),Yt=n(82940),Dt=n(12313),mn=n(14501);const Zt=async function(u,R){R===void 0&&(R={});const G=await(0,Dt.UT)((0,Dt.wP)("",u,R),fetch);return console.log("Flpak: "+u+" "+(0,mn.Qf)(G)),G},Rn=async function(u,R){return R===void 0&&(R={}),fetchFlpakSkipBAsync(getLocalPakgetUrl("",u,R),fetch)},jn=u=>{let[R,G,re]=u;const q=parseFlatTree(gunzipStringFromArrayBuffer(R.tre));for(const{pbx:de}of G){const we=gunzipStringFromArrayBuffer(de);for(const me of fromPbxPchChain(we))reducePchMutate(q,me)}for(const{pch:de}of re)reducePchMutate(q,de);return q};var pn=n(30388);const an=u=>{const[R,G,re]=u,q=()=>(0,j.Z0)((0,Yt.rm)(R.tre)),de=function(Q){Q===void 0&&(Q=-1);const oe=[];for(const{pbx:z,t10s:H}of G){if(H<Q)continue;const Y=(0,Yt.rm)(z);for(const ce of(0,vt.sd)(Y))oe.push(ce)}for(const{pch:z,t10s:H}of re)H<Q||oe.push(z);return oe},we=function(Q){Q===void 0&&(Q=-1);const oe=[];for(const z of de(Q))oe.push((0,Re.G8)(z));return oe},me=function(Q){Q===void 0&&(Q=-1);const oe=[];for(const z of de(Q)){const{clock:H,diffList:Y}=(0,Re.G8)(z);oe.push([(0,A.I_)(H).slice(5),Y,z])}return oe};return{getParsedTre:q,getPchList:de,getPatchList:we,getReadablePatchList:me,filterReadablePatchList:function(Q,oe){return oe===void 0&&(oe=-1),me(oe).filter(z=>{let[,H,Y]=z;return Y.includes(Q)})},getMergedReadablePatchList:function(Q,oe){Q===void 0&&(Q=-1),oe===void 0&&(oe=16);const z=[];let H={timePrefix:"",countDI:0,countDA:0,userIdSet:new Set};const Y=ce=>{H.timePrefix!==ce&&(H.timePrefix!==""&&z.push(H.timePrefix.slice(5)+"..Z I*"+(H.countDI||"-")+" A*"+(H.countDA||"-")+" ["+[...H.userIdSet].join(",")+"]"),H={timePrefix:ce,countDI:0,countDA:0,userIdSet:new Set})};for(const{clock:[ce,ke],diffList:Ne}of we(Q)){const je=new Date(ce).toISOString().slice(0,oe);Y(je),H.userIdSet.add(ke);for(const{type:Pe}of Ne)Pe===Re.P6?H.countDI++:H.countDA++}return Y(""),z},flpak:u}},Xt=u=>Math.floor(u/10/1e3),un=u=>{const[R]=(0,Re.$i)(u);return Xt(R)},dn=u=>{let[R,G,re]=u;return re.length!==0?re[re.length-1].t10s:G.length!==0?G[G.length-1].t10s:R.t10s};var Nt=n(50781),zt=n(71902);const Gt=(u,R)=>{let G=!1,re=0,q=0;const de=new Map;let we=[],me,he,ge,Q;const oe=()=>{he===void 0&&console.log("sync|onSocketConnect")},z=pe=>{let[Ee,,De]=pe;if(Ee!==u)return!1;const Se=(0,vt.Ue)(De);for(const Be of Se)we.push([Be,un(Be),!1]);return ge!==void 0&&ge(Se.map(Be=>(0,Re.G8)(Be))),!0},H=async(pe,Ee)=>{if(he!==void 0)throw new Error("no re-init flatStore");me=pe,Q=Ee;const De=await Q(u);{const Le="INSP-INIT-FLPAK";location.hash.includes(Le)&&Object.assign(globalThis,{[Le+"/"+u]:{...an(De),__flpakKey:u,__name:R}})}re=dn(De);const Se=await(0,Dt.Ys)(zt.V,De);let Be=j.DO;{const Le="BYPASS-FLPAK";location.hash.includes(Le)&&(Be=W=>console.warn("["+Le+"|vFT]",W))}for(const[Le,W,Me]of we)!Me&&re>=W||(0,vt.kA)(Se,Le);Be(Se),he=(0,ie.A)(Se,pe,(Le,W,Me)=>{if(G&&console.log("flat|onPatch",{diffList:Le,clock:W,isLocal:Me}),we.push([(0,Re.ZC)({diffList:Le,clock:W}),Xt(W[0]),Me]),Me)return;const[et,$e,st,Tt]=W;q=Math.max(q,et);const lt=(0,A.kY)($e,st);if(me.selfCCK===lt)throw new Error("unexpected selfCck: "+lt);const Ot=de.get(lt)||-1;if(Ot>=Tt)throw new Error("bad editId for cck: "+lt+", last: "+Ot+", new: "+Tt);de.set(lt,Tt)},(Le,W)=>{console.log("flat|requestResync",{error:Le,message:W})}),ge=Le=>{for(const W of Le)he.applyDiffNoUndo(W.diffList,W.clock)}},Y=pe=>{ge=pe},ce=()=>me,ke=()=>he,Ne=async function(pe){pe===void 0&&(pe="");try{if(!he||!re||!Ce())return;const Ee=he.getFlatTree(),[De,Se]=await(0,Dt.TC)(zt.V,Ee);await(0,Nt.au)("//FSS/"+R+"/"+u,new Blob([Se],{type:"application/octet-stream"}),{message:pe,treRawSize:De,treSize:Se.byteLength})}catch(Ee){console.warn("saveSOS",pe,Ee)}},je=async()=>{try{const pe=await(0,Nt.IF)("//FSS/"+R+"/"+u);if(pe.length){console.warn("[loadSOS] found "+pe.length+" record");const{data:Ee,extra:De}=pe[0];console.warn("[loadSOS] load record from "+new Date(De.time).toISOString());const Se=await(0,pn.H)(Ee),Be=await(0,Dt.$U)(zt.V,Se);return console.warn("[loadSOS] record tree: "+Be.size),{tree:Be,...De}}}catch(pe){console.warn("loadSOS",pe)}},Pe=async()=>{try{return await(0,Nt.Af)("//FSS/"+R+"/"+u)}catch(pe){console.warn("freeSOS",pe)}},Ce=()=>{for(const[,,pe]of we)if(pe)return!0;return!1};return{flpakKey:u,name:R,__setIsDev:pe=>{G=pe},onSocketConnect:oe,onRemotePayloadSave:z,bind:H,useExtORPL:Y,getClockStore:ce,getFlatStore:ke,saveSOS:Ne,loadSOS:je,freeSOS:Pe,hasPatch:Ce,preSettlePatch:()=>{const pe=[];for(const[Ee,,De]of we)De&&pe.push(Ee);return pe},postSettlePatch:pe=>{we=we.filter(Ee=>{let[De,Se,Be]=Ee;return!Be||!pe.includes(De)})}}},hn=(u,R)=>{let G,re;return{flpakKey:u,name:"[DUMMY]"+R,__setIsDev:q=>{},onSocketConnect:()=>{},onRemotePayloadSave:q=>{let[de,,we]=q;return!1},bind:async(q,de)=>{if(re!==void 0)throw new Error("no re-init flatStore");G=q,re=(0,ie.A)((0,j.ZR)(),q)},useExtORPL:q=>{},getClockStore:()=>G,getFlatStore:()=>re,saveSOS:async q=>{},loadSOS:async()=>{},freeSOS:async()=>0,hasPatch:()=>!1,preSettlePatch:()=>[],postSettlePatch:q=>{}}};var fn=n(91458);const gn=Z.jq,yn=Z.dn,En=u=>{const R=new Map;let G=!1,re,q=()=>"";const de=()=>{R.clear(),he()};let we=0;const me=Pe=>{const Ce={socketId:Pe,index:we++,lastCurAt:0,cur:void 0,lastStatAt:0,stat:void 0};return R.set(Pe,Ce),Ce},he=(0,E.My)(async()=>{if(await(0,a.Kb)(2*1e3),re===void 0)return;const Pe=[];for(const{socketId:Ae,lastStatAt:Ie}of R.values())Ie!==0&&Pe.push(Ae);const Ce=await re([u,Pe]);for(const[Ae,Ie,pe]of Ce){const Ee=R.get(Ae)||me(Ae);Ee.lastStatAt=Date.now(),Ee.stat=[Ie,pe]}z=3}).trigger,ge=Pe=>{let[Ce,Ae,Ie]=Pe;const[pe,Ee]=yn(Ie),De=[pe,Ee,Ae],Se=R.get(Ce)||me(Ce);Se.lastCurAt=Date.now(),Se.cur=De,Se.lastStatAt===0?he():G=!0},Q=Pe=>{let[Ce,Ae]=Pe;const Ie=R.has(Ae);Ce===0&&Ie?R.delete(Ae):Ce===1&&!Ie&&(me(Ae),he())};let oe=["",NaN,NaN],z=0;const H=function(Pe){Pe===void 0&&(Pe=oe[0]);for(const{socketId:Ce,cur:Ae}of R.values())if(Ae&&Ae[2]===Pe&&Ce!==q())return!0;return!1};return{flpakKey:u,__curStatMap:R,onSocketConnect:de,onRemoteCur:ge,onRemoteSocket:Q,hasOtherUser:H,tryPackCur:function(Pe,Ce,Ae){if(Ce===void 0&&(Ce=Z.nl),Ae===void 0&&(Ae=Z.nl),!(R.size<2)){if(oe[0]!==Pe)z=3;else if(!z&&oe[0]===Pe&&oe[1]===Ce&&oe[2]===Ae)return;if(oe=[Pe,Ce,Ae],!(!H(Pe)&&!z))return z&&z--,[u,Pe,gn(Ce,Ae)]}},bind:async(Pe,Ce)=>{if(re!==void 0)throw new Error("no re-init flatStore");re=Pe,q=Ce,he()},getSocketStat:()=>{const Pe=q(),Ce=[];for(const{socketId:Ae,stat:Ie}of R.values()){if(Ie===void 0)continue;const[pe,Ee]=Ie;Pe===Ae?Ce.unshift([Ae,pe,Ee]):Ce.push([Ae,pe,Ee])}return Ce},getCurStat:Pe=>{const Ce=q(),Ae=[];for(const{socketId:Ie,index:pe,cur:Ee,stat:De}of R.values()){if(Ce===Ie||Ee===void 0||De===void 0)continue;const[Se,Be,Le]=Ee;if(Le!==Pe||Se===Z.nl)continue;const[W,Me]=De;Ae.push([pe,Se,Be,W,Me])}return Ae},pollChange:()=>G?(G=!1,!0):!1}},bn=u=>({flpakKey:u,onSocketConnect:()=>{},onRemoteCur:Q=>{let[oe,z,H]=Q},onRemoteSocket:Q=>{let[oe,z]=Q},hasOtherUser:Q=>!1,tryPackCur:(Q,oe,z)=>{},bind:async(Q,oe)=>{},getSocketStat:()=>[],getCurStat:Q=>[],pollChange:()=>!1}),$t=()=>{};let Qt=!1;const kn=u=>{Qt=u},qt="dat",Mn="cmt",wn="mkt:dat",Cn=async u=>{let{flpakKey:R,userId:G,uTag:re,token:q,passwd:de,isDummyCmt:we=!1,isAllowDat:me=!1,isAllowCmt:he=!1,isAllowCur:ge=!1,afterStoreCreate:Q=$t,__fetchFlpakAsync:oe=Zt,onTransferError:z=$t,onReadOnlyError:H=function(W,Me){return Me===void 0&&(Me=""),console.warn(W,Me)}}=u;const Y=Gt(R,qt),ce=(we?hn:Gt)((0,fn.a6)(R),Mn),ke=(ge?En:bn)(R);await Q({fssDat:Y});const Ne=async(W,Me)=>{await Y.saveSOS("OTE|"+W+"|"+Me),await z(W,Me)},je=G?v({query:{uId:String(G),uTag:re},usePolling:Qt,lossyListenerMap:{[c.GF]:W=>{const{payload:Me}=W;ke.onRemoteCur(Me)}},queueListenerMap:{[c.E$]:W=>{const{error:Me}=W;console.log("flat-ws drop-client",Me),Ne("4XX",Me)},[c.Rm]:W=>{const{error:Me}=W;console.log("flat-ws error",Me),Ne("5XX",Me)},[c.FC]:()=>{console.log("flat-ws (re)connected"),Y.onSocketConnect(),ce.onSocketConnect(),ke.onSocketConnect()},[c.nB]:W=>{const{payload:Me}=W;console.log("flat-ws save:",Me),Y.onRemotePayloadSave(Me)||ce.onRemotePayloadSave(Me)||console.log("drop save payload:",Me)},[c.FK]:W=>{const{payload:Me}=W;console.log("flat-ws room cursor:",Me),ke.onRemoteSocket(Me)}}}):C();await Promise.all([(async()=>{await je.getReadyPromise()})(),(async()=>{await je.reqRoomAsync([me?[R]:[],he?[R]:[],ge?[R]:[]])})()]);const Pe=async(W,Me,et)=>{try{return await oe(W,{token:q,passwd:de,skipTTre:String(Me||""),skipTPbxList:(et||[]).join("")})}catch($e){const st=Kt($e);throw(0,p.Q)("fFS "+st,$e),await Ne(st,$e),$e}};await Promise.all([Y.bind((0,A.LQ)({userId:G,mtimeOffset:je.getOffsetMsec()}),Pe).catch(W=>{throw(0,p.Q)("bindDat",W),W}),ce.bind((0,A.LQ)({userId:G,mtimeOffset:je.getOffsetMsec()}),Pe).catch(W=>{throw(0,p.Q)("bindCmt",W),W}),ke.bind(async W=>await je.emitAsync(c.tE,W),je.getSocketId).catch(W=>{throw(0,p.Q)("bindCur",W),W})]);const Ce=new Error("[tracked-error]"),Ae=async(W,Me)=>{if(!W.hasPatch())return;const et=W.preSettlePatch(),$e=(0,vt.S0)((0,vt.Mg)(et));Me!==!0&&(H(W.name===qt?"Dat":"Cmt","RO|"+W.name+"|"+W.flpakKey+" #"+et.length),$e.length=0);for(let st=0,Tt=$e.length;st<Tt;st++){const lt=$e[st];try{await je.emitAsync(c.Tm,[W.flpakKey,lt.length,(0,vt.Cd)(lt)])}catch(Ot){const en=Kt(Ot);throw(0,p.Q)("saveFss "+en,Ot,W.name,W.flpakKey,st+1+"/"+Tt,lt),await Ne(en,Ot),Ce}}W.postSettlePatch(et)},Ie=(0,E.My)(async()=>(0,E.n7)(async()=>{await Ae(Y,me),await Ae(ce,he),await Y.freeSOS(),!ke.hasOtherUser()&&await(0,a.Kb)(5*1e3)},42*1e3),W=>{if(W===Ce)return;const Me=Kt(W);(0,p.Q)("lFFss "+Me,W),Promise.resolve(Ne(Me,W)).catch(et=>{(0,p.Q)("lFFss "+Me+" Err",et)})});setInterval(Ie.trigger,2*1e3),ge&&setInterval(()=>ke.onSocketConnect(),20*60*1e3);const pe=Y.getFlatStore(),Ee=(0,X.p)(Y.getFlatStore());Y.useExtORPL(Ee.onRemotePatchList);const De=gt(ce.getFlatStore());ce.useExtORPL(De.onRemotePatchList);const Se=()=>Y.hasPatch()||ce.hasPatch(),Be=(0,E.zH)(async()=>(0,E.rP)(async()=>{let W=0;for(;Se();)Ie.trigger(),await Ie.getRunningPromise(),await(0,a.Kb)(Math.max(W*.5,5)*1e3),W++})),Le=()=>globalThis.MB.getSelectionItems()[0].key;return{fssDat:Y,fssCmt:ce,cssCur:ke,flatSocket:je,flatStore:pe,sdkStore:Ee,cmtStore:De,sendCur:(W,Me,et)=>{if(ge===!0){const $e=ke.tryPackCur(W,Me,et);$e&&je.emitLossy(c.sv,$e)}else ge==="RO"&&H("Cur","")},hasSave:Se,saveAsync:Be,triggerSave:W=>{Ie.trigger(),W&&Be().then(W)},triggerFlushLocalPatch:Ie.trigger,theTree:function(W){return W===void 0&&(W=j.$3),console.log((0,j.im)(pe.getFlatTree(),W))},hotTree:function(W){return W===void 0&&(W=j.$3),console.log(Ee.__devHotTree(W))},slctTree:function(W){return W===void 0&&(W=Le()),console.log(Ee.__devHotTree(W))},upTree:function(W,Me){return W===void 0&&(W=Le()),Me===void 0&&(Me=j.$3),console.log(Ee.findUpHotItemList(W,Me))},cmtTree:function(W){return W===void 0&&(W=j.$3),console.log(De.__devHotTree(W))}}},Kt=u=>{const R=u&&u.status;return R>=400&&R<500?"4XX":String(u).toLowerCase().includes("timeout")?"Tot":"5XX"},Pn=async u=>{let{flpakKey:R,token:G,passwd:re}=u;const q=Gt(R,wn),de=async(he,ge,Q)=>Zt(he,{token:G,passwd:re,skipTTre:String(ge||""),skipTPbxList:(Q||[]).join("")});await q.bind((0,A.LQ)({}),de);const we=q.getFlatStore(),me=(0,X.p)(q.getFlatStore());return{fssDat:q,flatStore:we,sdkStore:me}}},19786:(I,F,n)=>{"use strict";n.d(F,{O:()=>a,q:()=>P});var E=n(4423);const a=(_,i,S)=>{const x=new Set(Object.keys(_));for(const s of Object.keys(i)){x.delete(s);const g=_[s];if(g===void 0&&Object.prototype.hasOwnProperty.call(_,s))throw new Error('attr "'+s+'" value: undefined'+(S?" | "+S:""));if(g===null)throw new Error('attr "'+s+'" value: null'+(S?" | "+S:""));const c=i[s];(0,E.W_)(c,S)}if(x.size!==0)throw new Error('extra attr: "'+[...x].join(",")+'"'+(S?" | "+S:""))},P=(_,i)=>{const S={};for(const x of Object.keys(_))S[x]=i;return S}},52910:(I,F,n)=>{"use strict";n.d(F,{A:()=>_});var E=n(3233),a=n(32313),P=n(16331);const _=function(S,x,s,g){s===void 0&&(s=()=>{}),g===void 0&&(g=()=>{});const c=(C,h,v)=>{if(C.length===0)return;s(C,h,v);const b=[];try{const A=(0,E.W8)(S,C,h,b);if(A===void 0)return;S=A}catch(A){throw g(A,"FlatStore|applyDiff"),A}return b},p=(0,a.o)(),{popUndo:f,popRedo:m,addUndo:d,addUndoResetRedo:B,addRedo:k,...U}=(0,P.B)();return{sync:C=>{S=C,p.resetOOCache()},...p,getFlatTree:()=>S,getFlatItem:C=>S.get(C),applyDiff:C=>B(c(C,x.stepClock(),!0)),applyDiffOptiUDL:C=>{const h=c(C,x.stepClock(),!0);return(0,E.kB)(S,h),B(h)},applyDiffNoUndo:(C,h)=>c(C,h,!1),...U,undo:()=>{const C=f();if(C!==void 0)return k(c(C,x.stepClock(),!0))},redo:()=>{const C=m();if(C!==void 0)return d(c(C,x.stepClock(),!0))}}},i=function(S,x,s){s===void 0&&(s=()=>{});const g=(U,C)=>{if(U.length===0)return;s(U,C,!1),applyTreeDiffMutate(S,U,C,void 0)&&c.resetOOCache()},c=createFlatStoreCache(),{popUndo:p,popRedo:f,addUndo:m,addUndoResetRedo:d,addRedo:B,...k}=createFlatStoreUndo();return{sync:U=>{S=U,c.resetOOCache()},...c,getFlatTree:()=>S,getFlatItem:U=>S.get(U),applyDiff:U=>g(U,x.stepClock()),applyDiffOptiUDL:U=>g(U,x.stepClock()),applyDiffNoUndo:(U,C)=>g(U,C),...k,undo:()=>{},redo:()=>{}}}},91458:(I,F,n)=>{"use strict";n.d(F,{a6:()=>P,cQ:()=>a});const E="_cmt",a=g=>g.endsWith(E),P=g=>{if(a(g))throw new Error("bad datKey: "+g);return""+g+E},_=g=>{if(!a(g))throw new Error("bad cmtKey: "+g);return g.slice(0,-E.length)},i="_cur",S=g=>g.endsWith(i),x=g=>{if(S(g))throw new Error("bad datKey: "+g);return""+g+i},s=g=>{if(!S(g))throw new Error("bad curKey: "+g);return g.slice(0,-i.length)}},12313:(I,F,n)=>{"use strict";n.d(F,{$U:()=>U,TC:()=>k,UT:()=>m,Ys:()=>C,wP:()=>c});var E=n(11972),a=n(93834),P=n(68348),_=n(70177),i=n(31810),S=n(4423),x=n(71913),s=n(6515),g=n(58161);const c=function(X,ie,Z){return Z===void 0&&(Z={}),X+"/flpak/w-pakget/"+ie+"?"+new URLSearchParams(f(Z))},p=function(X,ie,Z){return Z===void 0&&(Z={}),X+"/local/flpak/w-pakget/"+ie+"?"+new URLSearchParams(f(Z))},f=X=>(0,a.lw)(X,ie=>!!ie),m=async(X,ie)=>{const Z=await ie(X);if(Z.status!==200){const Te=await Z.text();throw Object.assign(new Error("error fetch flpak: "+X+" ["+Z.status+"] "+Te),{status:Z.status})}const ee=await Z.arrayBuffer(),[N,$]=(0,_.qV)(ee),ye=(0,i.CZ)(N),ue=ee.slice($),[V,te,fe,Fe,Je]=JSON.parse(ye),tt=(0,P.tj)(ue,Je);return[V===null?void 0:{t10s:V[0],size:V[1],tre:tt.shift()},te.map(Te=>{let[dt,_t]=Te;return{t10s:dt,size:_t,pbx:tt.shift()}}),fe.map(Te=>({t10s:Te,pch:(0,i.CZ)(tt.shift())})),new Date(Fe)]},d=(0,i.Wj)(x.ox),B=d[0],k=async(X,ie)=>{let Z=0;const ee=[];(0,s.OQ)(ie,$=>{Z+=$.length+1,ee.push((0,i.Wj)($).buffer,d.buffer)}),Z-=1,ee.length-=1;const N=new Uint8Array((0,P.v_)(ee));return[Z,(await X.gzipU8AAsync(N)).buffer]},U=async function(X,ie,Z){Z===void 0&&(Z=S.gL);const ee=await X.gunzipU8AAsync(new Uint8Array(ie));let N=0;const $=()=>{if(N>=ee.length)return;let ye=ee.indexOf(B,N);ye===-1&&(ye=ee.length);const ue=(0,i.CZ)(ee.subarray(N,ye));return N=ye+1,ue};return(0,s.B8)($,Z)},C=async(X,ie)=>{let[Z,ee,N]=ie;const $=Date.now();let ye=Date.now();const ue=function(Fe){Fe===void 0&&(Fe=""),!(Date.now()<ye+8*1e3)&&(ye=Date.now(),console.warn("!slow! "+Fe+" ("+(0,E.XV)(Date.now()-$)+")"))},V=await U(X,Z.tre);ue("tre");let te=0,fe=ee.length;for(const{pbx:Fe}of ee){const Je=(0,i.CZ)(await X.gunzipU8AAsync(new Uint8Array(Fe)));for(const tt of(0,g.sd)(Je))(0,g.kA)(V,tt);fe--,te+=Je.length,ue("pbx, "+(0,E.Ec)(te)+" patched, "+fe+" left")}for(const{pch:Fe}of N)(0,g.kA)(V,Fe);return ue("pch"),V},h=async(X,ie)=>{let Z=0;const ee=[];for(;Z<=ie.length;){const $=ie.slice(Z,Z+v);ee.push(encodeUTF8(toPbxPchChain($)).buffer),Z+=v}const N=concatArrayBuffer(ee);return[N.byteLength,(await X.gzipU8AAsync(new Uint8Array(N))).buffer]},v=512,b=async(X,ie,Z,ee)=>{const N=await C(X,ie);return tryFlatTreeGCMutate(N,Z,ee),k(X,N)},A=X=>{let[ie,Z,ee]=X;return[{tre:fromNodejsBuffer(ie.tre)},Z.map(N=>({pbx:fromNodejsBuffer(N.pbx)})),ee]},j=X=>{let[ie,Z,ee,N]=X;return[ie?{...ie,tre:fromNodejsBuffer(ie.tre)}:void 0,Z.map($=>({...$,pbx:fromNodejsBuffer($.pbx)})),ee,N]}},93701:(I,F,n)=>{"use strict";n.d(F,{p:()=>p});var E=n(63828),a=n(52910),P=n(4423),_=n(91893),i=n(34896),S=n(18820),x=n(34012),s=n(73486),g=n(74701),c=n(8114);const p=B=>{const k=(0,E.Dt)(),U=k.subscribe,C=k.unsubscribe,{setPCXYConfigMap:h,unpatchHotAttr:v,getSourceHotItem:b,getHotItem:A}=m(B),j=(0,S.b)(A,B),X=()=>d(B.getFlatTree),ie=(0,x.d)(j,B),Z=(0,s.H)(k.send,v,A,j.getHotItemTL,j._unpaaatchToHotAttr,B),{_edit:ee,_editAction:N,_editBatch:$,_editActionBatch:ye,...ue}=Z,V=(0,g.e)(j,Z,B),te=(0,g.Q)(j,Z,V,B);return{subscribe:U,unsubscribe:C,setPCXYConfigMap:h,getSourceHotItem:b,...j,...ie,createRoSdkStore:X,...ue,...V,...te}},f=B=>{const{getSourceHotItem:k}=m(B),U=(ee,N)=>N,C=createAccessFuncPack(k,B),h=createEditFuncPack(void 0,U,k,C.getHotItemTL,C._unpaaatchToHotAttr,B),{_edit:v,_editAction:b,_editBatch:A,_editActionBatch:j,...X}=h,ie=createEditPlusFuncPack(C,h,B),Z=createEditPlusPlusFuncPack(C,h,ie,B);return{...C,...X,...ie,...Z}},m=B=>{let k;const U=b=>{k!==b&&(k=b,B.resetOOCache())},C=(b,A)=>k===void 0||A.type!=="rResCanvas"||k[b]===void 0?A:(0,c.vJ)(A,k[b]),h=b=>{if(b===void 0)throw new Error("[gSHI] bad key");const A=(0,i.fY)(b,B.getFlatTree());if(A===void 0)return;const j=B.getOCache(A);return j.hotItem===void 0&&(j.hotItem={key:A.key,sup:A.sup,sub:A.sub,hotAttr:(0,_.gn)(A.attr)}),j.hotItem};return{setPCXYConfigMap:U,unpatchHotAttr:C,getSourceHotItem:h,getHotItem:b=>{const A=h(b);if(A===void 0||k===void 0||A.hotAttr.type!=="rResCanvas"||k[b]===void 0)return A;const j=B.getOOCache(k,A);return j.pcxyHI===void 0&&(j.pcxyHI=(0,c.l4)(A,k)),j.pcxyHI}}},d=B=>{const k=(0,a.A)(B(),(0,P.LQ)({})),U=()=>k.getFlatTree()!==B(),C=()=>k.sync(B()),{getHotItem:h}=m(k),v=(0,S.b)(h,k);return{hasUpdate:U,syncUpdate:C,...v}}},80263:(I,F,n)=>{"use strict";n.d(F,{G1:()=>_,Sr:()=>a});var E=n(73752);const a=i=>(0,E.Gf)("/api/payment/v4/coupon/workspace_guide_2203_coupon",{space_type:i}),P=()=>fetchGetJSON("/api/web/v3/initial"),_=i=>(0,E.Gf)("/api/web/v3/account/workspace_guide_days",{org_cid:i})},50397:(I,F,n)=>{"use strict";n.d(F,{E:()=>P});var E=n(73752);const a=()=>fetchGetJSON("/api/web/v3/guide/guide_data"),P=_=>(0,E._Z)("/api/web/v3/guide/workspace_guides",{guide:{workspace_guides:_}})},95485:(I,F,n)=>{"use strict";n.d(F,{$p:()=>U,By:()=>Z,Yo:()=>C,cN:()=>v});var E=n(87587),a=n(35517),P=n(18356),_=n(49842),i=n(26886),S=n(74982),x=n(60074),s=n(98388),g=n(67817),c=n(94223),p=n(43980),f=n(18890),m=n.n(f),d=n(60264),B=n(28016),k=n(91839);ENV.IS_SKT_HTTP&&(0,P.lQ)(!0),(0,x.d)(p.uT,p.n_);const U=async(N,$)=>{console.warn("[onTransferError]",N,$),N==="Tot"||N==="5XX"?MB.notice&&MB.notice({text:I18N.Common.offline_alert,duration:32*1e3,showClose:!0,priority:1,type:"super"}):N==="4XX"&&$&&/403/.test($.message)?MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.cant_edit,confirmText:I18N.dModule.exit_editing,desc:I18N.dModule.cant_edit_desc}).then(()=>MB.global.onBackButtonClick()):N==="4XX"&&$&&/401/.test($.message)?(window.onbeforeunload=void 0,MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(()=>(0,a.av)())):N==="4XX"?(window.onbeforeunload=void 0,MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(()=>(0,a.av)())):await MB.global.popupHelper.alertAsyncBlocked({desc:window.I18N.dModule.unknown_error.replace(/%s/i,status),isHTML:!0})},C=async(N,$)=>{console.warn("[onReadOnlyError]",N,$),N!=="Cur"&&MB.notice&&MB.notice({text:I18N.Common.offline_alert,duration:5*1e3,showClose:!0,priority:1})},h=N=>{let{sendCur:$}=N;const ye=(0,E.P2)(()=>{try{const ue=(0,i.UF)();if(!ue)return;const{current:{currentScreen:V},screencontainer:{cursorPos:te}}=ue,fe=V&&(V.cid||V.key);if(!fe)return;const{x:Fe,y:Je}=te||{};$(fe,Fe,Je)}catch(ue){console.error("cssCur push error",ue)}},.05*1e3,!0);setInterval(ye,5*1e3),document.addEventListener("pointermove",ye,{passive:!0})},v=function(N,$){var ye,ue,V,te,fe,Fe,Je,tt;$===void 0&&($=rootSdk);const Te=(0,i.UF)();if(!(!Te||!MB.action)){if(Te.rightnav.screenSelection[0]&&N.includes(Te.rightnav.screenSelection[0])&&((ye=$.sdkStore.getHotItem(Te.rightnav.screenSelection[0]))==null?void 0:ye.sup)==="B@trash"&&(MB.action("entry:activate:root-project:home-screen"),MB.notice({text:"\u5F53\u524D\u9009\u4E2D\u753B\u5E03\u5DF2\u88AB\u6B63\u5728\u534F\u540C\u7684\u6210\u5458\u5220\u9664",type:"warning"})),Te.mode.basketEditor.item&&N.includes(Te.mode.basketEditor.item)&&((ue=$.sdkStore.getHotItem(Te.mode.basketEditor.item))==null?void 0:ue.sup)==="@@T"){var dt;MB.action("entry:exit:edit:basket"),MB.notice({text:"\u5F53\u524D\u7F16\u8F91\u52A8\u6001\u7EC4\u4EF6\u5DF2\u88AB\u6B63\u5728\u534F\u540C\u7684\u6210\u5458\u5220\u9664",type:"warning"}),N[1]&&((dt=$.sdkStore.getSubHotItemList(N[1]))==null?void 0:dt.length)===0&&(MB.action("entry:exit:edit:basket"),N[0]&&$.sdkStore.deleteHotItem(N[0]))}if(Te.mode.basketEditor.refPage&&N.includes(Te.mode.basketEditor.refPage)&&((V=$.sdkStore.getHotItem(Te.mode.basketEditor.refPage))==null?void 0:V.sup)==="@@T"){var _t;if(MB.action("entry:exit:edit:basket"),MB.notice({text:"\u5F53\u524D\u7F16\u8F91\u6BCD\u7248\u5DF2\u88AB\u6B63\u5728\u534F\u540C\u7684\u6210\u5458\u5220\u9664",type:"warning"}),((_t=$.sdkStore.getSubHotItemList(Te.mode.basketEditor.refPage))==null?void 0:_t.length)===0){const Ye=$.sdkStore.findAllBasketFRBPage(Te.mode.basketEditor.refPage);$.sdkStore.deleteHotItemBatch([...Ye.map(Ue=>Ue.key),Te.mode.basketEditor.refPage])}}if(((te=$.sdkStore.getHotItem(N[0]))==null?void 0:te.hotAttr.type)==="rResBunch"&&((fe=$.sdkStore.getHotItem(N[0]))==null?void 0:fe.hotAttr.bunch)==="rbPage")if(!Te.rightnav.screenDataMap[N])MB.action("entry:update:screen:list");else{const Ye=Te.rightnav.screenDataMap[N],Ue=$.sdkStore.getHotItem(N[0]);if(Ue&&!m()(Ue==null?void 0:Ue.hotAttr,Ye==null?void 0:Ye.hotAttr)){var yt,rt,Et;(Ye==null||(yt=Ye.hotAttr)==null?void 0:yt.name)!==(Ue==null||(rt=Ue.hotAttr)==null?void 0:rt.name)&&MB.action("entry:update:screen:list");const nt=Te==null||(Et=Te.current)==null?void 0:Et.currentPage;(nt==null?void 0:nt.cid)===(Ue==null?void 0:Ue.key)&&MB.action("entry:update:current:screen-mata",{screenMeta:{cid:Ue==null?void 0:Ue.key,sup:Ue==null?void 0:Ue.sup,sub:Ue==null?void 0:Ue.sub,...Ue==null?void 0:Ue.hotAttr},updateWidgetTreeData:!1})}}if((Fe=Te.table)!=null&&Fe.selectTableCellInfo&&N[0]===((Je=Te.table)==null||(Je=Je.widget)==null?void 0:Je.key)&&((tt=$.sdkStore.getHotItem(N[0]))==null?void 0:tt.hotAttr.type)==="wTable")if($.sdkStore.isTrashed(N[0]))MB.action("entry:clear:selection"),MB.action("table:update:info",{selectTableCellInfo:null,isShowTableMenu:!1,widget:null,isEditTable:!1}),MB.f.isEditTable=!1;else{var ht,bt;const{selectionLeftTopInfo:{x:Ye,y:Ue},selectionRightBottomInfo:{x:nt,y:kt}}=(ht=Te.table)==null?void 0:ht.selectTableCellInfo,mt=$.sdkStore.getHotItem(N[0]);if(mt!=null&&(bt=mt.hotAttr)!=null&&bt.tableData){const{hotAttr:{tableData:{columns:pt,rows:at}}}=mt;let Mt=Ye,wt=Ue,Ct=nt,Pt=kt;Ye>pt.length-1&&(Mt=pt.length-1),nt>pt.length-1&&(Ct=pt.length-1),Ue>at.length-1&&(wt=at.length-1),kt>at.length-1&&(Pt=at.length-1);const St={...Te.table.widget,...mt.hotAttr};(0,B.G)({widget:St,x1:Mt,y1:wt,x2:Ct,y2:Pt})}}MB.action("entry:rebuild:screen-widget-tree")}},b=(0,E.P2)(N=>{v(N)},.5*1e3),A={repaint:N=>{let{type:$,payload:ye}=N;$===S.K&&b(ye)}},j=(0,E.P2)(()=>{!(0,i.UF)()||!MB.action||MB.action("entry:comment:rebuild:commentList")},.5*1e3),X={repaint:N=>{let{type:$,payload:ye}=N;$===d.K&&j()}},ie=async N=>{let{projectBasicCid:$}=N;try{const{userId:ye,flatKey:ue}=await fetchGetJSON("/api/flat/web_v1/proj2-edit-info?prj2Cid="+$);return{userId:ye,flatKey:ue}}catch(ye){await apiErrorModals(ye)}},Z=async(N,$)=>{try{const ue=await(0,P.od)(N),V=ue.sdkStore.createRoSdkStore();Object.assign(globalThis,{...ue,rootSdk:ue,roSdkStore:V}),(0,_.s_)()||h(ue),ue.sdkStore.subscribe(A.repaint),ue.cmtStore.subscribe(X.repaint),$&&(0,_.mK)()&&(0,k.B)(ue.flatStore,$)}catch(ue){var ye;const V=ue?Number(ue.status)||Number((ye=ue.toString().split("status")[1])==null||(ye=ye.split(":")[1])==null?void 0:ye.split(",")[0])||401:void 0;console.warn("[initRootSdk]",ue,V),(0,x.Q)("initRootSdk",ue,{status:V,sdkOption:N,projectBasic:$}),await(0,a.Vz)({status:V}),await new Promise(()=>{})}},ee=N=>async $=>{let{fssDat:ye}=$;try{const ue=await ye.loadSOS();if(!ue)return;console.warn("[afterStoreCreate] found unsaved proj tree",ue);const V=await MB.global.popupHelper.confirmAsync({isClose:!0,isHTML:!0,title:"\u6062\u590D\u6570\u636E",desc:["<p>\u68C0\u6D4B\u5230\u672A\u6210\u529F\u4FDD\u5B58\u5230\u4E91\u7AEF\u7684\u6587\u4EF6\u6570\u636E\uFF0C\u6700\u540E\u8BB0\u5F55\u65F6\u95F4\u4E3A\uFF1A"+getFormatDateString(new Date(ue.time).getTime(),"","-")+"\u3002</p>","<p>\u662F\u5426\u6062\u590D\u6570\u636E\u5230\u65B0\u6587\u4EF6\uFF1F</p>"].join(""),confirmText:"\u6062\u590D",cancelText:"\u53D6\u6D88"});if(toSentry("loadSOS",void 0,{isKeep:!!V,time:ue.time}),V){const{clientData:{upperCid:te}}=await newFlpakFromTree(ue.tree,N.team_cid,{...N,name:N.name+"-\u6062\u590D\u6570\u636E"});await ye.freeSOS(),refreshLocationHref("/proto/design/"+te)}else await ye.freeSOS()}catch(ue){console.warn("[afterStoreCreate]",ue)}}},16426:(I,F,n)=>{"use strict";n.d(F,{YN:()=>m,om:()=>f});var E=n(95485),a=n(18356),P=n(73752),_=n(7776),i=n(74982),S=n(26886),x=n(87587);const s=async d=>{const[[B,k],[U,C]]=await Promise.all([(async()=>{const{project_basic:h,project_metas:[v]}=await fetchGetJSON("/api/upper/web_v1/basics/"+d);return[h,v]})(),(async()=>{const{userId:h,flatKey:v}=await getFlatEditData({projectBasicCid:d});return console.log("[p2edit] uId="+h+" key="+v+" pbCid="+d),[h,v]})()]);return await initRootSdk({userId:U,flpakKey:C,afterStoreCreate:getAfterStoreCreate(B),onTransferError,onReadOnlyError,isAllowDat:!0,isAllowCmt:!0,isAllowCur:!0},B),{projectBasic:B,projectMeta:k}},g=async d=>{const{market_template:B,project_metas:[k]}=await requestResourcesDetailData(d);return await initRootSdk({userId:void 0,flpakKey:k.cid,isAllowDat:!0,isAllowCmt:!0,isAllowCur:!0,onTransferError,onReadOnlyError},B),{projectBasic:B,projectMeta:k}},c={repaint:d=>{let{type:B,payload:k}=d;B===i.K&&p(k)}},p=(0,x.P2)(d=>{const B=(0,S.UF)();if(!B||!MB.action)return;const k=B.popups.base.currentPopupPanel,U=B.current.currentOrg,C=B.current.currentUser,h=B.mode.editingOrgComboMode,v=B.mode.editingUserComboMode;if(k!=="builtin"&&!(C&&v)&&!(U&&h))return;const b=B.popups.widget.navIndex;if(v||h){const Z=v?userSdk:orgSdk;if(!Z)return;(0,E.cN)(d,Z)}else if(C&&b===1&&userSdk){var A,j;((A=userSdk.sdkStore.getHotItem(d[0]))==null?void 0:A.hotAttr.type)==="rResBunch"&&((j=userSdk.sdkStore.getHotItem(d[0]))==null?void 0:j.hotAttr.bunch)==="rbPage"&&MB.action("entry:load:user:combo:group:list")}else if(U&&b===2&&orgSdk){var X,ie;((X=orgSdk.sdkStore.getHotItem(d[0]))==null?void 0:X.hotAttr.type)==="rResBunch"&&((ie=orgSdk.sdkStore.getHotItem(d[0]))==null?void 0:ie.hotAttr.bunch)==="rbPage"&&MB.action("entry:load:org:combo:group:list")}},.5*1e3),f=async d=>{let{project_meta_cid:B,userId:k,repaint:U}=d;try{const C=await(0,a.od)({userId:k,flpakKey:B,isDummyCmt:!0,isAllowDat:!0,onTransferError:E.$p,onReadOnlyError:E.Yo});return U&&C.sdkStore.subscribe(c.repaint),C}catch(C){console.warn("[initComboStore]",C)}},m=d=>(0,P.EE)("/api/upper/web_v1/design/initial?project_cid="+d)},99990:(I,F,n)=>{"use strict";n.d(F,{$B:()=>Et,BG:()=>g,F7:()=>te,H3:()=>wt,HP:()=>yt,IS:()=>xt,Im:()=>E.Im,J5:()=>ee,KI:()=>dt,KQ:()=>k,My:()=>Ct,NK:()=>Pt,P3:()=>ye,Qs:()=>Je,RI:()=>B,RO:()=>Mt,Tz:()=>pt,Vp:()=>kt,W:()=>h,X6:()=>Fe,Xr:()=>d,_5:()=>Ut,a$:()=>m,be:()=>Z,bt:()=>X,cD:()=>Ue,iq:()=>mt,kk:()=>Ft,qr:()=>ht,rM:()=>V,rw:()=>Te,sE:()=>St,tr:()=>Rt,uB:()=>Ye,uo:()=>j,ur:()=>$});var E=n(7776),a=n(73752),P=n(76985),_=n(35517),i=n(11230);const S=(O,L)=>{const J=new Error("[NO SENTRY] "+O);return Object.assign(J,L),J},x=(O,L)=>fetchGetJSON("/api/upper/web_v1/design/readonly_initial?access_token="+O+"&password="+L),s=async(O,L)=>{const J="/api/flat/web_v1/preview/initial?access_token="+O+"&view_mode="+L,le=await fetch(J,{credentials:"same-origin"}),Oe=await le.json();if(le.status!==200)throw S("[fetchGetHead] failed with "+le.status+": "+J,{status:le.status,error_type:Oe==null?void 0:Oe.error_type});return Oe},g=(O,L)=>(0,a.IP)("/api/upper/web_v1/basics/"+O,{...L}),c=()=>fetchGetJSON("/api/web/v3/configuration/design_activity"),p=()=>fetchGetJSON("/api/web/v3/configuration/square_topic"),f=()=>fetchGetJSON("/api/web/v3/configuration/workspace"),m=async()=>{let O=[];try{const L=await(0,a.EE)("/api/library/v4/recent_keywords");L!=null&&L.keywords&&(O=L==null?void 0:L.keywords)}catch(L){await(0,_.Vz)(L)}return O},d=()=>(0,a._E)("/api/library/v4/recent_keywords"),B=O=>(0,a.Mn)("/api/library/v4/recent_keywords",{keyword:O}),k=async()=>{if((0,i.p)())return U();{var O;let L;try{L=await(0,a.EE)("/api/library/v3/project_upper/user_combo_groups")}catch(J){return await(0,_.Vz)(J),{}}return{userComboGroupList:(O=L)==null?void 0:O.user_combo_groups}}},U=async()=>{var O;let L;try{L=await(0,a.EE)("/api/library/v3/project_upper/org_combo_groups?org_cid="+MB.user.solo_org.cid)}catch(J){return await(0,_.Vz)(J),{}}return{userComboGroupList:(O=L)==null?void 0:O.org_combo_groups}},C=O=>fetchPutJSON("/api/proto7/web_v1/screen_aligns/"+O.cid,{...O}),h=async O=>{var L;let{orgCid:J}=O,le;try{le=await(0,a.EE)("/api/library/v3/project_upper/org_combo_groups?org_cid="+J)}catch(Oe){return await(0,_.Vz)(Oe),{}}return{orgComboGroupList:(L=le)==null?void 0:L.org_combo_groups}},v=async O=>{const{project_metas:L,screen_metas:J,screen_glues:le,market_template:Oe,icon_group:Ke}=await requestResourcesDetailData(O),{category:ot}=Oe,ct=ot===COMBO_GROUP;if(ot===ICON_GROUP){const{title:Ve,source:qe}=Ke,Re=await fetchGetJSON(qe),ut=ICON_LIBRARY_TYPE_MAP[Ve]||"svg",{iconGroupData:ft,iconData:gt}=getLibraryIconInfoFromRequestData(Re,ut);return{marketTemplate:Oe,iconGroupData:ft,iconData:gt}}else{const Ve=[];if(ct){const qe={};J.forEach(Re=>{qe[Re.screen_glue_cid]=Re.cid});for(const Re of le){const{cid:ut,name:ft,project_meta_cid:gt}=Re;Ve.push({cid:ut,name:ft,type:Oe.category,projectBasicCid:Oe.cid,projectMetaCid:gt,screenGlue:Re,screenMetaCid:qe[Re.cid]||""})}}else{const qe=le.find(Re=>Re.type==="project-main");for(const Re of J){const{cid:ut,name:ft,project_meta_cid:gt,screen_glue_cid:Lt}=Re;qe.cid===Lt&&Ve.push({cid:ut,name:ft,type:Oe.category,projectBasicCid:Oe.cid,projectMetaCid:gt,screenGlue:qe,screenMetaCid:ut})}}return{marketTemplate:Oe,marketTemplateItemList:Ve,projectMetaList:L,screenGlueList:le,screenMetaList:J}}},b=async()=>{const O=await requestUserStarredList(COMBO_GROUP),L=await requestUserStarredList(ICON_GROUP),J=await requestUserStarredList(SCREEN_LIST),le=O.concat(L).concat(J),Oe=le.filter(Xe=>{let{category:Ve}=Xe;return[COMBO_GROUP,SCREEN_LIST].includes(Ve)}),Ke=le.filter(Xe=>{let{category:Ve}=Xe;return Ve===ICON_GROUP}),ot=new Map,ct=new Map;for(const Xe of le){const{category:Ve,cid:qe}=Xe;Ve===ICON_GROUP?ct.set(qe,Xe):ot.set(qe,Xe)}return{marketTemplateList:Oe,iconLibraryList:Ke,marketTemplateListMap:ot,iconLibraryListMap:ct}},A=O=>{let{marketTemplateCid:L}=O;return fetchDeleteHead("/api/community/v1/market_template/use/"+L)},j=async O=>{const{icon_group:L,market_template:J}=await(0,E.Mv)(O.cid),{source:le,title:Oe}=L||{},Ke=await(0,a.EE)(le),ot=P.em[Oe]||"svg",{iconGroupData:ct,iconData:Xe}=(0,P._7)(Ke,ot);return{iconGroupData:ct,iconData:Xe,marketTemplate:J}},X=async()=>{if((0,i.p)())return ie();try{const{asset_groups:O}=await(0,a.sE)("/api/library/v3/asset_data/me/asset_groups");return{userAssetGroupList:O}}catch(O){await(0,_.Vz)(O)}},ie=async()=>{const O=MB.user.solo_org.cid;try{const{asset_groups:L}=await(0,a.sE)("/api/library/v3/asset_data/org/asset_groups?org_cid="+O);return{userAssetGroupList:L}}catch(L){await(0,_.Vz)(L)}},Z=async O=>{let{orgCid:L}=O;try{const{asset_groups:J}=await(0,a.sE)("/api/library/v3/asset_data/org/asset_groups?org_cid="+L);return{orgAssetGroupList:J}}catch(J){await(0,_.Vz)(J)}},ee=async O=>{if((0,i.p)())return N(O);try{const{asset:L,user_asset:J}=await(0,a.NS)("/api/library/v3/asset_data/me/search_by_url",{image_url:O});return{asset:L,user_asset:J}}catch(L){await(0,_.Vz)(L)}},N=async O=>{const L=MB.user.solo_org.cid;try{const{asset:J,org_asset:le}=await(0,a.NS)("/api/library/v3/asset_data/org/search_by_url",{image_url:O,org_cid:L});return{asset:J,user_asset:le}}catch(J){await(0,_.Vz)(J)}},$=async(O,L)=>{try{const{asset:J,org_asset:le}=await(0,a.NS)("/api/library/v3/asset_data/org/search_by_url",{image_url:O,org_cid:L});return{asset:J,org_asset:le}}catch(J){await(0,_.Vz)(J)}},ye=async O=>{if((0,i.p)())return ue(O);try{const{user_asset_group:L}=await(0,a.bX)("/api/library/v4/users/asset_groups/"+O.cid,{...O});return{user_asset_group:L}}catch(L){await(0,_.Vz)(L)}},ue=async O=>{const L=MB.user.solo_org.cid;try{const{org_asset_group:J}=await(0,a.bX)("/api/library/v4/orgs/asset_groups/"+O.cid,{...O,org_cid:L});return{user_asset_group:J}}catch(J){await(0,_.Vz)(J)}},V=async O=>{try{const{org_asset_group:L}=await(0,a.bX)("/api/library/v4/orgs/asset_groups/"+O.cid,{...O});return{org_asset_group:L}}catch(L){await(0,_.Vz)(L)}},te=async O=>{if((0,i.p)())return fe(O);try{return await(0,a.bX)("/api/library/v3/asset_data/me/assets/"+O.asset_cid,{...O})}catch(L){await(0,_.Vz)(L)}},fe=async O=>{try{return await(0,a.bX)("/api/library/v3/orgs/assets/"+O.cid+"?org_cid="+O.org_cid,{...O})}catch(L){await(0,_.Vz)(L)}},Fe=async O=>{try{return await(0,a.bX)("/api/library/v3/orgs/assets/"+O.cid+"?org_cid="+O.org_cid,{...O})}catch(L){await(0,_.Vz)(L)}},Je=async O=>{let{cid:L,name:J,groupCid:le}=O;if((0,i.p)())return tt({cid:L,name:J,groupCid:le});try{await(0,a.NS)("/api/library/v3/asset_data/me/assets",{cid:L,name:J,group_cid:le})}catch(Oe){await(0,_.Vz)(Oe)}},tt=async O=>{let{cid:L,name:J,groupCid:le}=O;const Oe=MB.user.solo_org.cid;try{await(0,a.NS)("/api/library/v3/orgs/assets?org_cid="+Oe,{cid:L,name:J,group_cid:le})}catch(Ke){await(0,_.Vz)(Ke)}},Te=async O=>{let{orgCid:L,cid:J,name:le,groupCid:Oe}=O;try{const Ke=await(0,a.NS)("/api/library/v3/orgs/assets",{cid:J,org_cid:L,name:le,group_cid:Oe});return Ke==null?void 0:Ke.cid}catch(Ke){await(0,_.Vz)(Ke)}},dt=async O=>{let{user_asset_group_cid:L,org_cid:J,org_asset_group_cid:le}=O;if((0,i.p)())return _t({user_asset_group_cid:L,org_cid:J,org_asset_group_cid:le});try{return(0,a.NS)("/api/library/v3/asset_data/org/asset_group_from_user",{user_asset_group_cid:L,org_cid:J,org_asset_group_cid:le})}catch(Oe){await(0,_.Vz)(Oe)}},_t=async O=>{let{user_asset_group_cid:L,org_cid:J,org_asset_group_cid:le}=O;try{return(0,a.NS)("/api/library/v3/asset_data/org/asset_group_from_user",{user_asset_group_cid:L,org_cid:J,org_asset_group_cid:le})}catch(Oe){await(0,_.Vz)(Oe)}},yt=async O=>{if((0,i.p)())return rt(O);try{const{user_asset_group:L,user_assets:J}=await(0,a.sE)("/api/library/v3/asset_data/me/asset_groups/"+O);return{user_asset_group:L,userAssets:J}}catch(L){await(0,_.Vz)(L)}},rt=async O=>{try{const{org_asset_group:L,org_assets:J}=await(0,a.sE)("/api/library/v3/orgs/asset_groups/"+O);return{user_asset_group:L,userAssets:J}}catch(L){await(0,_.Vz)(L)}},Et=async O=>{try{const{org_asset_group:L,org_assets:J}=await(0,a.sE)("/api/library/v3/orgs/asset_groups/"+O);return{org_asset_group:L,orgAssets:J}}catch(L){await(0,_.Vz)(L)}},ht=async O=>{(0,i.p)()?await bt(O):await(0,a._E)("/api/library/v3/asset_data/me/assets/"+O.cid)},bt=async O=>{await(0,a._E)("/api/library/v3/orgs/assets/"+O.cid+"?org_cid="+O.org_cid)},Ye=async O=>{await(0,a._E)("/api/library/v3/orgs/assets/"+O.cid+"?org_cid="+O.org_cid)},Ue=async O=>{(0,i.p)()?await nt(O):await(0,a._E)("/api/library/v3/asset_data/me/asset_groups/"+O)},nt=async O=>{await(0,a._E)("/api/library/v3/orgs/asset_groups/"+O)},kt=async O=>{await(0,a._E)("/api/library/v3/orgs/asset_groups/"+O)},mt=O=>(0,a._Z)("/preferences/update",{...O}),pt=async(O,L)=>{if((0,i.p)())return at(O,L);try{return await(0,a.bX)("/api/library/v4/users/asset_groups/"+O,{...L})}catch(J){await(0,_.Vz)(J)}},at=async(O,L)=>{const J=MB.user.solo_org.cid;try{return await(0,a.bX)("/api/library/v4/orgs/asset_groups/"+O,{...L,org_cid:J})}catch(le){await(0,_.Vz)(le)}},Mt=O=>async(L,J)=>{try{const le={...J,org_cid:O};return await(0,a.bX)("/api/library/v4/orgs/asset_groups/"+L,{...le})}catch(le){await(0,_.Vz)(le)}},wt=async(O,L)=>{let J=null;try{const le=await(0,a.sE)("/api/community/v1/workspace?category="+O+"&plabel="+L);le!=null&&le.market_templates&&(J=le==null?void 0:le.market_templates)}catch(le){await(0,_.Vz)(le)}return J},Ct=async O=>{let L=null;try{const J=await(0,a.EE)("/flpak/w-p2wsearch?"+O);J!=null&&J.data&&(L=J)}catch(J){await(0,_.Vz)(J)}return L},Pt=async O=>{let L=null;try{const J=await(0,a.EE)("/flpak/w-p2meta/"+O);J!=null&&J.length&&(L=J)}catch(J){await(0,_.Vz)(J)}return L},St=async O=>{let{currentComboPanel:L,projectMetaCid:J}=O;try{await(0,a.Gf)("/flpak/w-migrate-"+L+"-combo-group/"+J+"?mode=normal")}catch(le){await(0,_.Vz)(le)}},Rt=async O=>{let{projectBasicCid:L}=O;try{const{userId:J,flatKey:le}=await(0,a.EE)("/api/flat/web_v1/proj2-edit-info?prj2Cid="+L);return{userId:J,flatKey:le}}catch(J){await(0,_.Vz)(J)}},jt=async O=>{let{projectBasicCid:L,accessToken:J,password:le}=O;try{const{userId:Oe,flatKey:Ke}=await fetchGetJSON("/api/flat/web_v1/proj2-preview-info?prj2Cid="+L+"&access_token="+J+"&password="+le);return{userId:Oe,flatKey:Ke}}catch(Oe){await apiErrorModals(Oe)}},xt=O=>(0,a.EE)("/api/dashboard/v5/orgs/"+O),Ft=async O=>{const{project:L}=await(0,a.EE)("/api/dashboard/v5/projects/"+O);return L},Ut=async O=>(0,a.EE)("/api/upper/web_v1/basics/statstics/"+O)},91839:(I,F,n)=>{"use strict";n.d(F,{B:()=>B,V:()=>m});var E=n(3954),a=n(49777),P=n(2150),_=n(71913),i=n(95060),S=n(6515),x=n(66234),s=n(11685),g=n(35125),c=n(30906),p=n(3175);const f={iphone_14_pro_max:54,iphone_14_pro:54,iphone_13_pro_max:44,iphone_13_pro:44,iphone_11_pro_max:44,iphone_11_pro:44,iphone_8_plus:20,iphone_8:20,Huawei_p8:24,Huawei_p40:24,google_pixel_2:24,google_pixel_2_xl:24,ipad_mini:24,ipad_pro_11:24,ipad_pro_12:24},m=k=>{let U=!1,C=!1,h="";if(k.hotAttr.device==="customize"){for(const b of["android","iphone","ipad"])for(const[A,j]of Object.entries(E[b]))if(j.height===k.hotAttr.h&&j.width===k.hotAttr.w){if(U=!0,h=b,b==="iphone"||b==="ipad"){const X=E.iphone.iphone_8,ie=E.iphone.iphone_8_plus;X.width===k.hotAttr.w&&X.height===k.hotAttr.h||ie.width===k.hotAttr.w&&ie.height===k.hotAttr.h?C=!1:C=!0}break}}else for(const b of["android","iphone","ipad"])if(E[b][k.hotAttr.device]){U=!0,h=b,(b==="iphone"||b==="ipad")&&(["iphone_8","iphone_8_plus"].includes(k.hotAttr.device)||(C=!0));break}let v;if(U){v=[];let b;h==="ipad"||h==="iphone"?b=c._.wIphoneXSB(I18N.w.wIphoneXSB):b=c._.wAndroidSB(I18N.w.android_status_bar),b.h=f[k.hotAttr.device]||44,b.w=k.hotAttr.w,b.x=k.hotAttr.w/2,b.y=b.h/2,b.zIndex=6,b.fixPosTo="top";const A={key:(0,_.Tl)(),hotAttr:b,sup:k.key,sub:[]};v.push(A)}if(C){let b=c._.wRect(I18N.w.tab_bar);b={...b,zIndex:7,fixPosTo:"bottom",fill:{fillIsVisible:!0,fill:"solid",solidColor:4177066239},border:{bdrIsVisible:!1,bdrColor:4278190080,bdrWidth:1,bdrStyle:"solid"},borderRadius:4,borderVisibility:{bdrIsVisibleT:!0,bdrIsVisibleL:!0,bdrIsVisibleB:!0,bdrIsVisibleR:!0}},b.h=21,b.w=k.hotAttr.w,b.x=k.hotAttr.w/2,b.y=k.hotAttr.h-b.h/2;const A={key:(0,_.Tl)(),hotAttr:b,sup:k.key,sub:[]};v.push(A);let j=c._.wRect(I18N.w.wRect);j={...j,zIndex:8,fixPosTo:"bottom",fill:{fillIsVisible:!0,fill:"solid",solidColor:255},borderRadius:3,border:{bdrIsVisible:!1,bdrColor:3149642751,bdrWidth:1,bdrStyle:"solid"}},j.h=5,j.w=134,j.x=k.hotAttr.w/2,j.y=b.y;const X={key:(0,_.Tl)(),hotAttr:j,sup:k.key,sub:[]};v.push(X)}return v},d=(k,U)=>{var C,h;const{model:v,height:b,width:A,attr:j}=U,X=(0,_.Tl)("rbp");if((0,g.ff)(k,{key:X,sup:a.X3,attr:(0,g.cr)(I18N.LeftSidePanel.page,1,v,A,b,(C=j==null?void 0:j.orientation)!=null?C:"portrait")}),v==="iphone_13_pro"&&(h=(0,p.zi)())!=null&&h.isToShow)return k;const ie=c._[s.l.Canvas](I18N.LeftSidePanel.artboard+" 1",5,A/2,b/2,A,b,v),Z=(0,i.f4)(ie),ee=(0,_.Tl)("rc");k.push({type:P.P6,key:ee,keySup:X}),k.push({type:P.q$,key:ee,attrDiff:Z});const N=m({hotAttr:ie,key:ee});if(N!==void 0){for(const $ of N)k.push({type:P.P6,key:$.key,keySup:$.sup}),k.push({type:P.q$,key:$.key,attrDiff:$.hotAttr});N.length===1?k.push({type:P.q$,key:ee,attrDiff:{shh:(0,x.xd)(N[0].hotAttr.h)}}):k.push({type:P.q$,key:ee,attrDiff:{shh:(0,x.xd)(N[0].hotAttr.h),sfh:(0,x.xd)(N[1].hotAttr.h)}})}return k},B=(k,U)=>{if(k.getFlatTree().get("B@main").sub.length===0){const C=d([],U);k.applyDiff(C),k.resetUndo()}else if(!k.getFlatTree().get("B@ref-mind")){const C=[];C.push({type:P.P6,key:a.T3,keySup:S.$3}),C.push({type:P.q$,key:a.T3,attrDiff:(0,g.oE)("rbRefMind")}),k.applyDiff(C),k.resetUndo()}}},4091:(I,F,n)=>{"use strict";n.d(F,{S3:()=>a,kC:()=>i,ky:()=>_,mp:()=>S,pX:()=>E});const E="/proto",a=s=>E+"/"+s,P=s=>{const g=/^\/proto\/design\/(?:([^/]+?))$/i.exec(s);return g?g[1]:new Error("project cid error")},_=s=>{let{search:g,pathname:c}=s;return c.includes("/sharing")?c.includes("dashboard")||c.includes("htmlzip")?c.split("/").at(-3):c.includes("embed/v2")?location.pathname.split("/").at(-4):c.split("/").at(-2):new URLSearchParams(g).get("token")||/^\/proto\/([^/]+?)(?:\/forum|\/uichina|\/embed|\/embed\/v2|\/htmlzip|\/sharing|\/ro)?\/?$/i.exec(c)[1]},i="/p2mkt_view",S=s=>i+"/"+s,x=s=>/^\/p2mkt_view\/(?:([^/]+?))$/i.exec(s)[1]},77321:(I,F,n)=>{"use strict";n.d(F,{Jy:()=>x,U2:()=>_,Xs:()=>S,hd:()=>s,s0:()=>i});var E=n(59387),a=n(1823),P=n(29184);let _=function(g){return g.OrgPrototypePageNumber="OrgPrototypePageNumber",g.OrgVersionNumber="OrgVersionNumber",g.OrgMaxPicSize="OrgMaxPicSize",g.SoloPrototypePageNumber="SoloPrototypePageNumber",g.SoloMaxPicSize="SoloMaxPicSize",g.SoloToOrgFeature="SoloToOrgFeature",g.MaxSharingCount="MaxSharingCount",g}({});const i=g=>{const c=(0,P.F)();return a.PA[g][c]},S={[_.OrgPrototypePageNumber]:a.X4.CanvasOrPagesCount,[_.OrgVersionNumber]:a.X4.ProjectVersionsCount,[_.OrgMaxPicSize]:a.X4.ImgCapacity,[_.SoloToOrgFeature]:a.X4.ProjectVersionsCount,[_.MaxSharingCount]:a.X4.ProjectShareLinksCount,[_.SoloPrototypePageNumber]:a.X4.CanvasOrPagesCount,[_.SoloMaxPicSize]:a.X4.ImgCapacity},x={[_.OrgPrototypePageNumber]:{payEntrance:"\u7F16\u8F91\u533A-v8_\u56E2\u961F_\u753B\u5E03\u8D85\u9650_\u5F39\u7A97",checkoutPlace:"workspace-v8_org_page_limit_popup"},[_.OrgVersionNumber]:{payEntrance:"\u7F16\u8F91\u533A-v8_\u56E2\u961F_\u7248\u672C\u8D85\u9650_\u5347\u7EA7",checkoutPlace:"workspace-v8_fileversion_org_upgrade"},[_.OrgMaxPicSize]:{payEntrance:"\u7F16\u8F91\u533A-v8_\u4E0A\u4F20\u56FE\u7247\u5BB9\u91CF\u8D85\u9650",checkoutPlace:"workspace-v8_upload_pic_limit"},[_.SoloMaxPicSize]:{payEntrance:"\u7F16\u8F91\u533A-v8_\u4E0A\u4F20\u56FE\u7247\u5BB9\u91CF\u8D85\u9650",checkoutPlace:"workspace-v8_upload_pic_limit"},[_.SoloPrototypePageNumber]:{payEntrance:"\u7F16\u8F91\u533A-v8_\u4E2A\u4EBA_\u753B\u5E03\u8D85\u9650_\u5F39\u7A97",checkoutPlace:"workspace-v8_solo_page_limit_popup"},[_.SoloToOrgFeature]:{payEntrance:"\u7F16\u8F91\u533A-\u7248\u672C\u8BB0\u5F55_\u5347\u7EA7\u7248\u672C",checkoutPlace:"workspace-v8_fileversion_org_upgrade"},[_.MaxSharingCount]:{payEntrance:"\u7F16\u8F91\u533A-\u591A\u94FE\u63A5\u5206\u4EAB_\u5347\u7EA7\u7248\u672C",checkoutPlace:"workspace-linkshare_limit"}},s=g=>{let{limitType:c,user:p,org:f}=g;const{maxScreenCount:m,maxProjectVersionCount:d,maxPicBytes:B,maxSharingCount:k}=(0,E.tD)(p,f);switch(c){case _.OrgPrototypePageNumber:case _.SoloPrototypePageNumber:return"\u65B0\u5EFA\u8D85"+m+"\u753B\u5E03";case _.OrgVersionNumber:return"\u539F\u578B\u7F16\u8F91\u533A\u65B0\u5EFA>"+d+"\u4E2A\u7248\u672C";case _.OrgMaxPicSize:return"\u4E0A\u4F20>"+B/1024/1024+"MB\u7684\u56FE\u7247";case _.MaxSharingCount:return"\u539F\u578B\u5185\u9AD8\u7EA7\u5206\u4EAB>"+k+"\u4E2A";case _.SoloMaxPicSize:return"\u4E0A\u4F20>"+B+"MB\u7684\u56FE\u7247";case _.SoloToOrgFeature:return"\u539F\u578B\u5185\u70B9\u51FB\u7248\u672C\u8BB0\u5F55"}}},75507:(I,F,n)=>{"use strict";n.d(F,{FS:()=>f,NQ:()=>p,qK:()=>c});var E=n(53375),a=n.n(E),P=n(92728),_=n(85322),i=n(80461),S=n(68543);const x=()=>MB.getSelectionItems().length===0;let s=!1,g;const c={keys:{tab:()=>{if(document.activeElement===document.body)return!1},enter:()=>{MB.action("entry:enter:key"),(0,i.k)("enter")},f2:()=>{MB.action("entry:enter:key"),(0,i.k)("f2")},"command+shift+h":()=>{MB.action("entry:toggle:visible"),(0,i.k)("command+shift+h")},"ctrl+shift+h":()=>{MB.action("entry:toggle:visible"),(0,i.k)("ctrl+shift+h")},left:()=>{MB.action("entry:arrow:key",{direction:"x",rate:-1}),(0,i.k)("left")},"alt+left":()=>{MB.action("entry:arrow:key",{direction:"x",rate:-1}),(0,i.k)("alt+left")},right:()=>{MB.action("entry:arrow:key",{direction:"x",rate:1}),(0,i.k)("right")},"alt+right":()=>{MB.action("entry:arrow:key",{direction:"x",rate:1}),(0,i.k)("alt+right")},up:()=>{MB.action("entry:arrow:key",{direction:"y",rate:-1}),(0,i.k)("up")},"alt+up":()=>{MB.action("entry:arrow:key",{direction:"y",rate:-1}),(0,i.k)("alt+up")},down:()=>{MB.action("entry:arrow:key",{direction:"y",rate:1}),(0,i.k)("down")},"alt+down":()=>{MB.action("entry:arrow:key",{direction:"y",rate:1}),(0,i.k)("alt+down")},"shift+left":()=>{MB.action("entry:arrow:key",{direction:"x",rate:-10}),(0,i.k)("shift+left")},"alt+shift+left":()=>{MB.action("entry:arrow:key",{direction:"x",rate:-10}),(0,i.k)("alt+shift+left")},"shift+right":()=>{MB.action("entry:arrow:key",{direction:"x",rate:10}),(0,i.k)("shift+right")},"alt+shift+right":()=>{MB.action("entry:arrow:key",{direction:"x",rate:10}),(0,i.k)("alt+shift+right")},"shift+up":()=>{MB.action("entry:arrow:key",{direction:"y",rate:-10}),(0,i.k)("shift+up")},"alt+shift+up":()=>{MB.action("entry:arrow:key",{direction:"y",rate:-10}),(0,i.k)("alt+shift+up")},"shift+down":()=>{MB.action("entry:arrow:key",{direction:"y",rate:10}),(0,i.k)("shift+down")},"alt+shift+down":()=>{MB.action("entry:arrow:key",{direction:"y",rate:10}),(0,i.k)("alt+shift+down")},"command+c":()=>{x()||(MB.action("entry:copy:items"),MB.action("entry:copy:items:properties"),(0,P.BK)(),(0,i.k)("command+c"))},"ctrl+c":()=>{x()||(MB.action("entry:copy:items"),MB.action("entry:copy:items:properties"),(0,P.BK)(),(0,i.k)("ctrl+c"))},"command+d":()=>{x()||(MB.action("entry:duplicate:items",{shift:!1}),(0,i.k)("command+d"))},"ctrl+d":()=>{x()||(MB.action("entry:duplicate:items",{shift:!1}),(0,i.k)("ctrl+d"))},"command+shift+d":()=>{x()||(MB.action("entry:duplicate:items",{shift:!0}),(0,i.k)("command+shift+d"))},"ctrl+shift+d":()=>{x()||(MB.action("entry:duplicate:items",{shift:!0}),(0,i.k)("ctrl+shift+d"))},"command+shift+v":()=>{MB.action("entry:paste:items:at",{clientPos:{clientX:MB.clientX,clientY:MB.clientY}}),(0,i.k)("command+shift+v")},"ctrl+shift+v":()=>{MB.action("entry:paste:items:at",{clientPos:{clientX:MB.clientX,clientY:MB.clientY}}),(0,i.k)("ctrl+shift+v")},"command+x":()=>{x()||(MB.action("entry:cut:items"),(0,P.BK)(),(0,i.k)("command+x"))},"ctrl+x":()=>{x()||(MB.action("entry:cut:items"),(0,P.BK)(),(0,i.k)("ctrl+x"))},backspace:()=>{MB.action("entry:delete:selected-items"),MB.action("enter:comment:shortcut:del"),(0,i.k)("backspace")},del:()=>{MB.action("entry:delete:selected-items"),MB.action("enter:comment:shortcut:del"),(0,i.k)("delete")},"command+shift+l":()=>{MB.action("entry:toggle:lock"),(0,i.k)("command+shift+l")},"ctrl+shift+l":()=>{MB.action("entry:toggle:lock"),(0,i.k)("ctrl+shift+l")},"command+g":()=>{MB.action("entry:group:items"),(0,i.k)("command+g")},"ctrl+g":()=>{MB.action("entry:group:items"),(0,i.k)("ctrl+g")},"command+shift+g":()=>{MB.action("entry:ungroup:items"),(0,i.k)("command+shift+g")},"ctrl+shift+g":()=>{MB.action("entry:ungroup:items"),(0,i.k)("ctrl+shift+g")},"command+alt+l":()=>{MB.action("entry:align:items",{direction:"left"}),(0,i.k)("command+alt+l")},"ctrl+alt+l":()=>{MB.action("entry:align:items",{direction:"left"}),(0,i.k)("ctrl+alt+l")},"command+alt+c":()=>{MB.action("entry:align:items",{direction:"center"}),(0,i.k)("command+alt+c")},"ctrl+alt+c":()=>{MB.action("entry:align:items",{direction:"center"}),(0,i.k)("ctrl+alt+c")},"command+alt+r":()=>{MB.action("entry:align:items",{direction:"right"}),(0,i.k)("command+alt+r")},"ctrl+alt+r":()=>{MB.action("entry:align:items",{direction:"right"}),(0,i.k)("ctrl+alt+r")},"command+alt+t":()=>{MB.action("entry:align:items",{direction:"top"}),(0,i.k)("command+alt+t")},"ctrl+alt+t":()=>{MB.action("entry:align:items",{direction:"top"}),(0,i.k)("ctrl+alt+t")},"command+alt+m":()=>{MB.action("entry:align:items",{direction:"middle"}),(0,i.k)("command+alt+m")},"ctrl+alt+m":()=>{MB.action("entry:align:items",{direction:"middle"}),(0,i.k)("ctrl+alt+m")},"command+alt+b":()=>{MB.action("entry:align:items",{direction:"bottom"}),(0,i.k)("command+alt+b")},"ctrl+alt+b":()=>{MB.action("entry:align:items",{direction:"bottom"}),(0,i.k)("ctrl+alt+b")},"command+alt+h":()=>{MB.action("entry:distribute:items",{direction:"horizontal"}),(0,i.k)("command+alt+h")},"ctrl+alt+h":()=>{MB.action("entry:distribute:items",{direction:"horizontal"}),(0,i.k)("ctrl+alt+h")},"command+alt+u":()=>{MB.action("entry:distribute:items",{direction:"vertical"}),(0,i.k)("command+alt+u")},"ctrl+alt+u":()=>{MB.action("entry:distribute:items",{direction:"vertical"}),(0,i.k)("ctrl+alt+u")},"command+alt+up":()=>{MB.action("entry:items:forward"),(0,i.k)("command+alt+up")},"ctrl+alt+up":()=>{MB.action("entry:items:forward"),(0,i.k)("ctrl+alt+up")},"command+alt+down":()=>{MB.action("entry:items:backward"),(0,i.k)("command+alt+down")},"ctrl+alt+down":()=>{MB.action("entry:items:backward"),(0,i.k)("ctrl+alt+down")},"command+shift+up":()=>{MB.action("entry:items:send:front"),(0,i.k)("command+shift+up")},"ctrl+shift+up":()=>{MB.action("entry:items:send:front"),(0,i.k)("ctrl+shift+up")},"command+shift+down":()=>{MB.action("entry:items:send:back"),(0,i.k)("command+shift+down")},"ctrl+shift+down":()=>{MB.action("entry:items:send:back"),(0,i.k)("ctrl+shift+down")},"command+;":()=>{MB.action("entry:expand:all:screen"),(0,i.k)("command+;")},"ctrl+;":()=>{MB.action("entry:expand:all:screen"),(0,i.k)("ctrl+;")},"command+'":()=>{MB.action("entry:unexpand:all:screen"),(0,i.k)("command+''")},"ctrl+'":()=>{MB.action("entry:unexpand:all:screen"),(0,i.k)("ctrl+'")},"`":()=>{(0,i.k)("`")},"\xB7":()=>{(0,i.k)("`")},"[, ]":()=>{a()().isBefore("2021-11-12 23:59:59")&&MB.notice({text:I18N.Common.brackets_key_update_tips.replace("%key%",'<span class="key">'+((0,S.ED)()?"Ctrl":"\u2318")+"</span>")}),(0,i.k)("[, ]")},"command+[":()=>{MB.action("entry:toggle:left-nav-panel"),(0,i.k)("command+[")},"ctrl+[":()=>{MB.action("entry:toggle:left-nav-panel"),(0,i.k)("ctrl+[")},"command+]":()=>{MB.action("entry:toggle:right-panel"),(0,i.k)("command+]")},"ctrl+]":()=>{MB.action("entry:toggle:right-panel"),(0,i.k)("ctrl+]")},"command+p":()=>{MB.action("entry:preview:root-or-current:project"),(0,i.k)("command+p")},"ctrl+p":()=>{MB.action("entry:preview:root-or-current:project"),(0,i.k)("ctrl+p")},"command+s":()=>{MB.global.experienceLoginModalHelper("isSave")||MB.action("entry:start:saving"),(0,i.k)("command+s")},"ctrl+s":()=>{MB.global.experienceLoginModalHelper("isSave")||MB.action("entry:start:saving"),(0,i.k)("ctrl+s")},1:()=>{MB.action("entry:number:key",{key:1}),(0,i.k)("1")},2:()=>{MB.action("entry:number:key",{key:2}),(0,i.k)("2")},3:()=>{MB.action("entry:number:key",{key:3}),(0,i.k)("3")},4:()=>{MB.action("entry:number:key",{key:"4"}),(0,i.k)("4")},5:()=>{MB.action("entry:number:key",{key:5}),(0,i.k)("5")},6:()=>{MB.action("entry:number:key",{key:6}),(0,i.k)("6")},7:()=>{MB.action("entry:number:key",{key:7}),(0,i.k)("7")},8:()=>{ENV.IS_FEAT_AI&&(MB.action("entry:number:key",{key:8}),(0,i.k)("8"))},"command+a":()=>{MB.action("entry:select:all"),(0,i.k)("command+a")},"ctrl+a":()=>{MB.action("entry:select:all"),(0,i.k)("ctrl+a")},esc:()=>{MB.action("entry:escape:key"),(0,i.k)("esc")},"command+z":()=>{MB.action("entry:undo-stack:undo"),(0,i.k)("command+z")},"ctrl+z":()=>{MB.action("entry:undo-stack:undo"),(0,i.k)("ctrl+z")},"command+shift+z":()=>{MB.action("entry:undo-stack:redo"),(0,i.k)("command+shift+z")},"ctrl+shift+z":()=>{MB.action("entry:undo-stack:redo"),(0,i.k)("ctrl+shift+z")},"command+=":()=>{MB.action("entry:design:zoom:in"),(0,i.k)("command+=")},"ctrl+=":()=>{MB.action("entry:design:zoom:in"),(0,i.k)("ctrl+=")},"command+numpad_add":()=>{MB.action("entry:design:zoom:in"),(0,i.k)("command+numpad_add")},"ctrl+numpad_add":()=>{MB.action("entry:design:zoom:in"),(0,i.k)("ctrl+numpad_add")},"command+-":()=>{MB.action("entry:design:zoom:out"),(0,i.k)("command+-")},"ctrl+-":()=>{MB.action("entry:design:zoom:out"),(0,i.k)("ctrl+-")},"command+numpad_subtract":()=>{MB.action("entry:design:zoom:out"),(0,i.k)("command+numpad_subtract")},"ctrl+numpad_subtract":()=>{MB.action("entry:design:zoom:out"),(0,i.k)("ctrl+numpad_subtract")},"command+0":()=>{MB.action("entry:set:scale",{scale:100}),(0,i.k)("command+0")},"ctrl+0":()=>{MB.action("entry:set:scale",{scale:100}),(0,i.k)("ctrl+0")},"command+numpad_0":()=>{MB.action("entry:set:scale",{scale:100}),(0,i.k)("command+numpad_0")},"ctrl+numpad_0":()=>{MB.action("entry:set:scale",{scale:100}),(0,i.k)("ctrl+numpad_0")},"command+1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,i.k)("command+1")},"ctrl+1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,i.k)("ctrl+1")},"command+numpad_1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,i.k)("command+numpad_1")},"ctrl+numpad_1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,i.k)("ctrl+numpad_1")},"command+2":()=>{MB.action("entry:design:zoom:selection"),(0,i.k)("command+2")},"ctrl+2":()=>{MB.action("entry:design:zoom:selection"),(0,i.k)("ctrl+2")},"command+numpad_2":()=>{MB.action("entry:design:zoom:selection"),(0,i.k)("command+numpad_2")},"ctrl+numpad_2":()=>{MB.action("entry:design:zoom:selection"),(0,i.k)("ctrl+numpad_2")},"command+alt+a":()=>{MB.action("entry:isShowSticky:toggle"),(0,i.k)("command+alt+a")},"ctrl+alt+a":()=>{MB.action("entry:isShowSticky:toggle"),(0,i.k)("ctrl+alt+a")},"command+f":()=>{MB.action("entry:findReplacePanel:toggle:show"),(0,i.k)("command+f")},"ctrl+f":()=>{MB.action("entry:findReplacePanel:toggle:show"),(0,i.k)("ctrl+f")},"command+alt+v":()=>{x()||(MB.action("entry:paste:items:properties"),(0,i.k)("command+alt+v"))},"ctrl+alt+v":()=>{x()||(MB.action("entry:paste:items:properties"),(0,i.k)("ctrl+alt+v"))},"command+b":()=>{MB.action("entry:set:text:attr:by:key",{attr:"boldType"}),(0,i.k)("command+b \u9009\u4E2D\u6574\u4F53")},"ctrl+b":()=>{MB.action("entry:set:text:attr:by:key",{attr:"boldType"}),(0,i.k)("command+b \u9009\u4E2D\u6574\u4F53")},"command+i":()=>{MB.action("entry:set:text:attr:by:key",{attr:"italic"}),(0,i.k)("command+i \u9009\u4E2D\u6574\u4F53")},"ctrl+i":()=>{MB.action("entry:set:text:attr:by:key",{attr:"italic"}),(0,i.k)("command+i \u9009\u4E2D\u6574\u4F53")},"command+u":()=>{MB.action("entry:set:text:attr:by:key",{attr:"underline"}),(0,i.k)("command+u \u9009\u4E2D\u6574\u4F53")},"ctrl+u":()=>{MB.action("entry:set:text:attr:by:key",{attr:"underline"}),(0,i.k)("command+u \u9009\u4E2D\u6574\u4F53")},"command+shift+s":()=>{MB.action("entry:set:text:attr:by:key",{attr:"lineThrough"}),(0,i.k)("command+shift+s \u9009\u4E2D\u6574\u4F53")},"ctrl+shift+s":()=>{MB.action("entry:set:text:attr:by:key",{attr:"lineThrough"}),(0,i.k)("command+shift+s \u9009\u4E2D\u6574\u4F53")},"command+shift+.":()=>{MB.action("entry:set:text:attr:by:key",{attr:"fontSize",action:"increase"}),(0,i.k)("command+shift+. \u9009\u4E2D\u6574\u4F53")},"ctrl+shift+.":()=>{MB.action("entry:set:text:attr:by:key",{attr:"fontSize",action:"increase"}),(0,i.k)("command+shift+. \u9009\u4E2D\u6574\u4F53")},"command+shift+,":()=>{MB.action("entry:set:text:attr:by:key",{attr:"fontSize",action:"decrease"}),(0,i.k)("command+shift+, \u9009\u4E2D\u6574\u4F53")},"ctrl+shift+,":()=>{MB.action("entry:set:text:attr:by:key",{attr:"fontSize",action:"decrease"}),(0,i.k)("command+shift+, \u9009\u4E2D\u6574\u4F53")},"shift+/":()=>{MB.action("entry:shortcut:undoable:items:set:attr:border")},i:()=>{if(window.EyeDropper){s?(s=!1,g.abort("double press i")):(s=!0,g=new AbortController,new window.EyeDropper().open({signal:g.signal}).then(k=>{let{sRGBHex:U}=k;s=!1,MB.action("entry:i:key",{color:U})}).catch(k=>{console.error(k),s=!1})),(0,i.k)("i");return}const{name:d,version:B}=MB.browserInfo;if(["Chrome","Edge"].includes(d)&&B<=95||d==="Opera"&&B<=81){MB.notice({text:"\u5F53\u524D\u6D4F\u89C8\u5668\u7248\u672C\u4E0D\u652F\u6301\u53D6\u8272\u5668\u5FEB\u6377\u952E"});return}MB.notice({text:"\u5F53\u524D\u6D4F\u89C8\u5668\u4E0D\u652F\u6301\u53D6\u8272\u5668\u5FEB\u6377\u952E"})},"alt+1":()=>{MB.action("entry:directory:nav:key",{key:1}),(0,i.k)("alt+1")},"alt+2":()=>{MB.action("entry:directory:nav:key",{key:2}),(0,i.k)("alt+2")},c:()=>{MB.action("entry:comment:toggle"),MB.action("entry:ST:STMode:disable"),MB.action("elbow:update",{isInElbowMode:!1}),(0,i.k)("c")},e:()=>{MB.action("entry:elbow:isInElbowMode:toggle"),MB.action("entry:ST:STMode:disable"),MB.action("set:quick-create-widget",{widget:null})}},priority:_.e7.Normal,isGlobal:!1},p={keys:{"command+[":()=>{MB.action("entry:toggle:left-nav-panel"),(0,i.k)("command+[")},"ctrl+[":()=>{MB.action("entry:toggle:left-nav-panel"),(0,i.k)("ctrl+[")},"command+]":()=>{MB.action("entry:toggle:right-panel"),(0,i.k)("command+]")},"ctrl+]":()=>{MB.action("entry:toggle:right-panel"),(0,i.k)("ctrl+]")},esc:()=>{MB.action("entry:escape:key"),(0,i.k)("esc")},"command+=":()=>{MB.action("entry:design:zoom:in"),(0,i.k)("command+=")},"ctrl+=":()=>{MB.action("entry:design:zoom:in"),(0,i.k)("ctrl+=")},"command+numpad_add":()=>{MB.action("entry:design:zoom:in"),(0,i.k)("command+numpad_add")},"ctrl+numpad_add":()=>{MB.action("entry:design:zoom:in"),(0,i.k)("ctrl+numpad_add")},"command+-":()=>{MB.action("entry:design:zoom:out"),(0,i.k)("command+-")},"ctrl+-":()=>{MB.action("entry:design:zoom:out"),(0,i.k)("ctrl+-")},"command+numpad_subtract":()=>{MB.action("entry:design:zoom:out"),(0,i.k)("command+numpad_subtract")},"ctrl+numpad_subtract":()=>{MB.action("entry:design:zoom:out"),(0,i.k)("ctrl+numpad_subtract")},"command+0":()=>{MB.action("entry:set:scale",{scale:100}),(0,i.k)("command+0")},"ctrl+0":()=>{MB.action("entry:set:scale",{scale:100}),(0,i.k)("ctrl+0")},"command+numpad_0":()=>{MB.action("entry:set:scale",{scale:100}),(0,i.k)("command+numpad_0")},"ctrl+numpad_0":()=>{MB.action("entry:set:scale",{scale:100}),(0,i.k)("ctrl+numpad_0")},"command+1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,i.k)("command+1")},"ctrl+1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,i.k)("ctrl+1")},"command+numpad_1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,i.k)("command+numpad_1")},"ctrl+numpad_1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,i.k)("ctrl+numpad_1")},"command+2":()=>{MB.action("entry:design:zoom:selection"),(0,i.k)("command+2")},"ctrl+2":()=>{MB.action("entry:design:zoom:selection"),(0,i.k)("ctrl+2")},"command+numpad_2":()=>{MB.action("entry:design:zoom:selection"),(0,i.k)("command+numpad_2")},"ctrl+numpad_2":()=>{MB.action("entry:design:zoom:selection"),(0,i.k)("ctrl+numpad_2")},"command+f":()=>{MB.action("entry:findReplacePanel:toggle:show"),(0,i.k)("command+f")},"ctrl+f":()=>{MB.action("entry:findReplacePanel:toggle:show"),(0,i.k)("ctrl+f")},c:()=>{MB.action("entry:comment:toggle",{onlyView:!0}),(0,i.k)("c")},"alt+1":()=>{MB.action("entry:directory:nav:key",{key:1}),(0,i.k)("alt+1")},"alt+2":()=>{MB.action("entry:directory:nav:key",{key:2}),(0,i.k)("alt+2")},"command+p":()=>{MB.action("entry:preview:root-or-current:project"),(0,i.k)("command+p")},"ctrl+p":()=>{MB.action("entry:preview:root-or-current:project"),(0,i.k)("ctrl+p")}},priority:_.e7.Normal,isGlobal:!1},f={keys:{esc:()=>{MB.action("entry:escape:key"),(0,i.k)("esc")},"command+=":()=>{MB.action("entry:design:zoom:in"),(0,i.k)("command+=")},"ctrl+=":()=>{MB.action("entry:design:zoom:in"),(0,i.k)("ctrl+=")},"command+numpad_add":()=>{MB.action("entry:design:zoom:in"),(0,i.k)("command+numpad_add")},"ctrl+numpad_add":()=>{MB.action("entry:design:zoom:in"),(0,i.k)("ctrl+numpad_add")},"command+-":()=>{MB.action("entry:design:zoom:out"),(0,i.k)("command+-")},"ctrl+-":()=>{MB.action("entry:design:zoom:out"),(0,i.k)("ctrl+-")},"command+numpad_subtract":()=>{MB.action("entry:design:zoom:out"),(0,i.k)("command+numpad_subtract")},"ctrl+numpad_subtract":()=>{MB.action("entry:design:zoom:out"),(0,i.k)("ctrl+numpad_subtract")},"command+0":()=>{MB.action("entry:set:scale",{scale:100}),(0,i.k)("command+0")},"ctrl+0":()=>{MB.action("entry:set:scale",{scale:100}),(0,i.k)("ctrl+0")},"command+numpad_0":()=>{MB.action("entry:set:scale",{scale:100}),(0,i.k)("command+numpad_0")},"ctrl+numpad_0":()=>{MB.action("entry:set:scale",{scale:100}),(0,i.k)("ctrl+numpad_0")},"command+1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,i.k)("command+1")},"ctrl+1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,i.k)("ctrl+1")},"command+numpad_1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,i.k)("command+numpad_1")},"ctrl+numpad_1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,i.k)("ctrl+numpad_1")}},priority:_.e7.Normal,isGlobal:!1},m={keys:{"command+[":()=>{MB.action("entry:toggle:left-nav-panel"),(0,i.k)("command+[")},"ctrl+[":()=>{MB.action("entry:toggle:left-nav-panel"),(0,i.k)("ctrl+[")},"command+]":()=>{MB.action("entry:toggle:right-panel"),(0,i.k)("command+]")},"ctrl+]":()=>{MB.action("entry:toggle:right-panel"),(0,i.k)("ctrl+]")},esc:()=>{MB.action("entry:escape:key"),(0,i.k)("esc")},"command+=":()=>{MB.action("entry:design:zoom:in"),(0,i.k)("command+=")},"ctrl+=":()=>{MB.action("entry:design:zoom:in"),(0,i.k)("ctrl+=")},"command+numpad_add":()=>{MB.action("entry:design:zoom:in"),(0,i.k)("command+numpad_add")},"ctrl+numpad_add":()=>{MB.action("entry:design:zoom:in"),(0,i.k)("ctrl+numpad_add")},"command+-":()=>{MB.action("entry:design:zoom:out"),(0,i.k)("command+-")},"ctrl+-":()=>{MB.action("entry:design:zoom:out"),(0,i.k)("ctrl+-")},"command+numpad_subtract":()=>{MB.action("entry:design:zoom:out"),(0,i.k)("command+numpad_subtract")},"ctrl+numpad_subtract":()=>{MB.action("entry:design:zoom:out"),(0,i.k)("ctrl+numpad_subtract")},"command+0":()=>{MB.action("entry:set:scale",{scale:100}),(0,i.k)("command+0")},"ctrl+0":()=>{MB.action("entry:set:scale",{scale:100}),(0,i.k)("ctrl+0")},"command+numpad_0":()=>{MB.action("entry:set:scale",{scale:100}),(0,i.k)("command+numpad_0")},"ctrl+numpad_0":()=>{MB.action("entry:set:scale",{scale:100}),(0,i.k)("ctrl+numpad_0")},"command+1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,i.k)("command+1")},"ctrl+1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,i.k)("ctrl+1")},"command+numpad_1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,i.k)("command+numpad_1")},"ctrl+numpad_1":()=>{MB.action("entry:zoom:fit:scale:offset"),(0,i.k)("ctrl+numpad_1")},"command+2":()=>{MB.action("entry:design:zoom:selection"),(0,i.k)("command+2")},"ctrl+2":()=>{MB.action("entry:design:zoom:selection"),(0,i.k)("ctrl+2")},"command+numpad_2":()=>{MB.action("entry:design:zoom:selection"),(0,i.k)("command+numpad_2")},"ctrl+numpad_2":()=>{MB.action("entry:design:zoom:selection"),(0,i.k)("ctrl+numpad_2")},"command+f":()=>{MB.action("entry:findReplacePanel:toggle:show"),(0,i.k)("command+f")},"ctrl+f":()=>{MB.action("entry:findReplacePanel:toggle:show"),(0,i.k)("ctrl+f")},"alt+1":()=>{MB.action("entry:directory:nav:key",{key:1}),(0,i.k)("alt+1")},"alt+2":()=>{MB.action("entry:directory:nav:key",{key:2}),(0,i.k)("alt+2")},"command+p":()=>{MB.action("entry:preview:root-or-current:project"),(0,i.k)("command+p")},"ctrl+p":()=>{MB.action("entry:preview:root-or-current:project"),(0,i.k)("ctrl+p")}},priority:_.e7.Normal,isGlobal:!1}},89719:(I,F,n)=>{"use strict";n.d(F,{Ei:()=>c,NZ:()=>d,X4:()=>s,ec:()=>f,ew:()=>h,hm:()=>g,j_:()=>m,o6:()=>v});var E=n(46198),a=n(63077),P=n(35517),_=n(73752),i=n(29184),S=n(35269);const x=async b=>{let{projectCid:A}=b;return fetchGetJSON("/api/upper/web_v1/sharing/initial?cid="+A)},s=async b=>{let{projectCid:A,sharing:j}=b;return(await(0,_.Gf)("/api/flat/web_v1/project_share/"+A,{...j})).project_share},g=async b=>{let{projectCid:A,sharingCid:j}=b;try{return await(0,_.Bh)("/api/flat/web_v1/project_share/"+j+"?project_cid="+A)}catch(X){await(0,P.Vz)(X)}},c=async b=>{let{sharing:A}=b;try{return await(0,_.IP)("/api/flat/web_v1/project_share/"+A.cid,{project_share:A})}catch(j){await(0,P.Vz)(j)}},p=()=>{const b=document.getElementById("workspace");E.render((0,S.jsx)(a.Z,{locale:(0,i.F)(),errorType:404,customDes:I18N.ToolBar.ReEnter,isShowPrimaryBtn:!1}),b)},f=async b=>{try{if(!b.accessToken||b.project.access_token===b.accessToken)return m(b.project);{const{project:A,accessToken:j}=b,{project_share:X}=await(0,_.EE)("/api/flat/web_v1/project_share/"+A.cid+"?access_token="+j);return{sharing:{...X,type:"advanced",view_mode:X.device_model}}}}catch(A){await p()}},m=b=>{const{cid:A,access_token:j,access:X,building:ie,comment_permission:Z,password:ee,visibility:N,wechat:$}=b,ye=new URLSearchParams(location.search),ue=ye.get("screen"),V=ye.get("canvasId"),te=ye.get("view_mode")||"read_only",fe=!!ye.get("selection"),Fe=fe?ye.get("selection").split(","):[];return{sharing:{type:"default",project_cid:A,access_token:j,view_access:X,view_sticky:ie,comment_permission:Z,password:ee,visibility:N,wechat:$,view_mode:te,screen_visible_switch:fe,screen_visible_list:Fe,page_begin:ue,canvas_begin:V}}},d=async b=>{let{projectCid:A}=b;try{const{project_shares:j}=await(0,_.EE)("/api/flat/web_v1/project_share/"+A+"/all");return j.sort((X,ie)=>new Date(ie.created_at).getTime()-new Date(X.created_at).getTime())}catch(j){await(0,P.Vz)(j)}},B=async b=>{try{const{result:A}=await fetchGetJSON("/api/accesses/v4/project/"+b+"/permission_check?permission=P:update");return A}catch(A){await apiErrorModals(A)}},k=async b=>{let A=null;try{A=await fetchGetJSON("/flpak/w-p2meta/"+b)}catch(j){await apiErrorModals(j)}return A},U={access_token:"",comment_permission:"",device_model:"",highlight:!0,password:"",project_cid:"",screen_visible_switch:!1,screen_visible_list:[],shell_type:"device",simulator_type:"device",sticky:!0,view_access:"private",view_count:0,view_prd:!1,wechat:!1},C=()=>({sharing:U}),h=async b=>{let A,j;try{A=await(0,_.EE)("/api/upper/web_v1/basics/"+b+"/get_details"),A&&JSON.stringify(A)!=="{}"&&(j=!0)}catch(X){A=X,j=!1}return{result:A,statusOk:j}},v=async b=>{let A,j;try{A=await(0,_.EE)("/api/accesses/v4/project/"+b+"/permission_check?permission=P:update"),A&&JSON.stringify(A)!=="{}"&&(j=!0)}catch(X){A=X,j=!1}return{result:A,statusOk:j}}},68035:(I,F,n)=>{"use strict";n.d(F,{K:()=>x,L:()=>s});var E=n(63077),a=n(86478),P=n(7485),_=n(18166),i=n(29184),S=n(35269);const x=g=>{if((0,_.EG)(g))return s()},s=()=>(setTimeout(()=>{var g;return(g=MB)==null||(g=g.messageBucket)==null?void 0:g.send("mobileLoadProjectError",{errMsg:"\u753B\u5E03\u65E0\u9875\u9762\uFF0C\u65E0\u6CD5\u9884\u89C8"})},1e3),(0,S.jsx)(E.Z,{errorType:404,locale:(0,i.F)(),customTitle:I18N.dModule.project_screen_err_title,customDes:I18N.ToolBar.ReEnter,isShowSecondaryBtn:!1,primaryClick:()=>(0,a.HM)("zh-CN","\u539F\u578B-\u5206\u4EAB\u94FE\u63A5\u9875\u9762\u4E3A\u7A7A")}))},10737:(I,F,n)=>{"use strict";n.d(F,{Z:()=>x});var E=n(37780),a=n(77646),P=n(77200),_=n(9038);const i=s=>s.container.previewSetting.isShowSplash,S=(0,a.P1)([P.CL,P.vo,P.gz,i,P.GP,P.yT,P.Uq,P.EB],(s,g,c,p,f,m,d,B)=>{let{activePageKey:k,activeCanvasKey:U}=d;return{screen:s,project:g,isImmersive:c,isShowSplash:p,previewOptions:f,isPanelPreviewMode:m,activePageKey:k,activeCanvasKey:U,isPreviewCombo:B}}),x=(0,E.$j)(s=>S(s))(_.Z)},86478:(I,F,n)=>{"use strict";n.d(F,{HM:()=>f});var E=n(63077),a=n(45090),P=n(7485),_=n(46198),i=n(95534),S=n(38546),x=n(35269);const s=document.getElementById("workspace"),g=(0,a.ZP)(E.Z).withConfig({displayName:"utils__CustomizedCrashedPageStyle",componentId:"sc-1g7yepo-0"})([".btn-list{display:flex;flex-direction:row-reverse;justify-content:center;.primary{margin-left:20px;}.regular{margin-left:0 !important;}}"]),c=(m,d,B)=>{ReactDOM.render(_jsx(_Fragment,{children:_jsx(g,{locale:getMBLocale(),errorType:m.status||401,customTitle:d,customDes:B})}),s)},p=async m=>{var d;let B,k,U,C,h;try{({user:h}=await fetchGetJSON("/api/web/v3/initial"))}catch(v){console.warn("[crashedPageWithUser]",v);const b=ENV.IS_WONDER_SHARE?LoginModalWS:LoginModal;B=()=>{ReactDOM.render(_jsx(b,{isOpen:!0,type:"signin",source:"proto-org-preview",onConfirm:()=>location.reload()},Math.random()),document.getElementById("IBOT_MODAL_ROOT"))},k=I18N.Common.signin,C=()=>{ReactDOM.render(_jsx(b,{isOpen:!0,type:"signup",source:"proto-org-preview",onConfirm:()=>location.reload()},Math.random()),document.getElementById("IBOT_MODAL_ROOT"))},U=I18N.Common.signup,h={}}ReactDOM.render(_jsx(_Fragment,{children:_jsx(g,{locale:getMBLocale(),errorType:m.status||401,identity:1,account:(d=h)==null?void 0:d.email,primaryBtnText:k,primaryBtnClick:B,secondaryBtnText:U,secondaryBtnClick:C})}),s)},f=(m,d)=>{let B="";m==="zh-CN"?B="/":m==="jp"?B="https://mockitt.wondershare.jp":B="https://mockitt.wondershare.com",location.replace(B)}},73542:(I,F,n)=>{"use strict";n.d(F,{Fh:()=>f,JT:()=>i,T_:()=>s,Xr:()=>x,Yi:()=>g,uP:()=>S});var E=n(59387),a=n(94223),P=n(77321);const _=/^image\/(png|jpg|jpeg|gif|svg|svg\+xml)$/i,i=2,S=5,x=(m,d,B,k,U)=>{if(!_.test(m.type))throw Object.assign(new Error(I18N.dUtils.damaged_file),{desc:I18N.dUtils.support_file_type,asset:m});const C=(0,E.tD)(B,k),{trial:h,plan:v,maxPicBytes:b}=C,A=b/1024/1024,j=(0,E.pq)(v,h),X=!!MB.currentOrg,{current_plan:ie}=MB.user,Z=X?A:ie==="free"?i:S;if(m.size>Z*1024*1024)throw d==="library"?(ModalHelper&&ModalHelper.libraryNotice&&ModalHelper.libraryNotice("\u4E0A\u4F20\u56FE\u7247\u5BB9\u91CF\u8FC7\u5927","error"),new Error("dashboard upload failed")):k?(j&&(j===I18N.Common.business_plan||j===I18N.Common.business_trial_plan)?MB.action("modal:update:state",{orgfullBeyondNotice:{isOpen:!0,beyondType:"picSize"}}):MB.action("modal:update:state",{rightsAndInterestsModal:{isOpen:!0,type:P.U2.OrgMaxPicSize}}),new Error("NoErrorTips")):(MB.action("modal:update:state",{rightsAndInterestsModal:{isOpen:!0,type:P.U2.SoloMaxPicSize}}),new Error("NoErrorTips"))},s=async m=>{const d=await new Promise((k,U)=>{const C=new FileReader;C.onerror=()=>U(new Error(I18N.dUtils.unsupported)),C.onload=h=>k(h.target.result),C.readAsDataURL(m)}),B=await new Promise((k,U)=>{const C=new Image;C.onerror=()=>U(new Error(I18N.dUtils.unsupported)),C.onload=()=>k(C),C.src=d});return{data:d,width:B.width,height:B.height}},g=m=>{m.payload&&m.payload.status===401?MB.global.popupHelper.alertAsync({title:I18N.dUtils.err_info_modal.INVALID_COOKIE.title,desc:I18N.dUtils.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dUtils.confirm}).then(()=>{(0,a.ll)(location.origin+"/signin")}):MB.global.popupHelper.alertAsync({title:m.message,desc:m.desc,isHTML:m.isHTML,confirmText:m.confirmText}).then(()=>{m.type==="free"&&MB.global.popupHelper.chargeAsync({mode:"solo",productId:8988,hours:"yearly",payEntrance:"\u56FE\u7247\u9650\u5236-\u5347\u7EA7\u4E2A\u4EBA"})})},c=(m,d)=>m.endsWith(d)?m:m+("-"+d),p=(m,d)=>m.startsWith("#")?"#"+c(m.slice(1),d):null,f=(m,d)=>{if(m.attributes){const B=m.getAttribute("id");B&&B.length>0&&m.setAttribute("id",c(B,d));const k=m.getAttribute("class");if(k&&k.length>0){const C=k.split(/\s+/).map(h=>c(h,d)).join(" ");m.setAttribute("class",C)}for(const C of["href","xlink:href"]){const h=m.getAttribute(C);if(h&&h.length>0){const v=p(h,d);v&&m.setAttribute(C,v)}}const U=["clip-path","color-profile","fill","filter","marker-start","marker-mid","marker-end","mask","stroke","style"];for(const C of U){const h=m.getAttribute(C);if(h&&h.length>0){const v=h.replace(/url\((.*?)\)/gi,(b,A)=>{const j=p(A,d);return j==null?b:"url("+j+")"});v&&m.setAttribute(C,v)}}for(const C of["begin","end"]){const h=m.getAttribute(C);if(h&&h.length>0){const v=h.split(/\s*;\s+/).map(b=>{if(b.endsWith(".end")||b.endsWith(".start")){const[A,j]=b.split(".");return c(A,d)+"."+j}return b});m.setAttribute(C,v.join("; "))}}if(m.childNodes)for(const C of m.childNodes)f(C,d)}}},80824:(I,F,n)=>{"use strict";n.d(F,{r:()=>_});var E=n(53375),a=n.n(E);const P=i=>{if(!i)return"\u514D\u8D39\u7248";const{edition:S,current_plan:x,trial:s}=i;if(S==="premium_lifetime")return"\u5C0A\u4EAB\u7EC8\u8EAB\u7248";if(S==="standard_lifetime")return"\u7EC8\u8EAB\u7248";if(x==="free")return"\u514D\u8D39\u7248";if(x==="solo")return s?"\u8BD5\u7528\u7248":"\u6807\u51C6\u7248"},_=i=>{if(!i)return"free";const{plan:S,paid:x,trial:s,next_billing_on:g}=i,c=a()(g).startOf("day"),p=a()().startOf("day"),f=c.isSameOrBefore(p);let m;return f?m="free":(x&&(m="paid"),S==="solo"&&s&&(m="trial"),S==="free"&&(m="free")),m}},9569:(I,F,n)=>{"use strict";n.d(F,{C:()=>P,S:()=>_});var E=n(1372);const a=i=>("0"+parseInt(i).toString(16)).slice(-2),P=i=>!i||i==="rgba(0, 0, 0, 0)"||i==="transparent"?"transparent":(i=i.match(/^rgb[a]*\((\d+),\s*(\d+),\s*(\d+)/),"#"+a(i[1])+a(i[2])+a(i[3])),_=i=>(0,E.LW)((0,E.LS)(i))},98388:(I,F,n)=>{"use strict";n.d(F,{PX:()=>B,z:()=>m});var E=n(53375),a=n.n(E),P=n(43827),_=n.n(P),i=n(57480),S=n.n(i),x=n(29184);function s(k){return k<10?"0"+k:k}function g(k,U,C){const h=new Date(k),v=h.getFullYear(),b=s(h.getMonth()+1),A=s(h.getDate()),j=s(h.getHours()),X=s(h.getMinutes());return U==="time"?j+":"+X:U==="datetime"?""+b+C+A+" "+j+":"+X:""+v+C+b+C+A+" "+j+":"+X}const c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Spt","Oct","Nov","Dec"];function p(k,U){const C=new Date(k),h=C.getFullYear(),v=c[C.getMonth()],b=s(C.getDate()),A=s(C.getHours()),j=s(C.getMinutes());return U==="time"?A+":"+j:U==="datetime"?v+" "+b+" "+A+":"+j:v+" "+b+", "+h+" "+A+":"+j}function f(k,U,C){if(U===void 0&&(U="datetime"),C===void 0&&(C="."),!k)return"";let h=k;typeof k!="number"&&(h=parseInt(k,10)),h.length===10&&(h=h*1e3);let v="";const b=(0,x.F)();return b==="zh-CN"?v=g(h,U,C):(b==="en-US"||b==="en")&&(v=p(h,U,C)),v}function m(k){const C=d()-k;let h="";if(C<=3e3)h=I18N.Common.just_now||"\u521A\u521A";else if(C>3e3&&C<6e4)h=Math.floor(C/1e3)+I18N.Common.num_seconds_ago||"\u79D2\u524D";else if(C>=6e4&&C<36e5)h=Math.floor(C/6e4)+I18N.Common.num_minutes_ago||"\u5206\u949F\u524D";else{h=f(k,"full");const v=new Date(new Date().setHours(0,0,0,0)).getTime(),b=new Date(new Date().getFullYear(),0,1).getTime();k>b&&(h=f(k,"datetime")),k>v&&(h=f(k,"time"))}return h}function d(){return new Date().getTime()}const B=k=>{a().locale(k==="zh-CN"?"zh-cn":k),a().extend(_()),a().extend(S())}},32541:(I,F,n)=>{"use strict";n.d(F,{K:()=>P,N:()=>a});var E=n(41768);const a=_=>{switch(_){case"iphone":case"ipad":case"apple_watch":return"ios";case"android":return"android";default:return"others"}},P=(_,i)=>{let{width:S,orientation:x}=i;const s=x==="landscape";let g="customize";return!s&&_.width===S||s&&_.height===S?g=_.device:Object.entries(E.YE).forEach(c=>{let[p]=c;(!s&&p.width===S||s&&p.height===S)&&(g=p.device)}),!_.template&&!_.combo&&["android","ipad","iphone"].includes(_.device)&&["android","ipad","iphone"].includes(g)}},94586:(I,F,n)=>{"use strict";n.d(F,{F:()=>P});var E=n(68543),a=n(32541);const P=_=>{const i=(0,a.N)(_);return((0,E.V5)()?"mac":(0,E.ED)()?"windows":"other-os")+" "+i+" "+_}},68543:(I,F,n)=>{"use strict";n.d(F,{B0:()=>f,CL:()=>i,Dt:()=>g,ED:()=>P,IF:()=>m,Md:()=>d,Rv:()=>_,V5:()=>a,_j:()=>B,d:()=>E,i7:()=>S,li:()=>k,tq:()=>s,vU:()=>x});const E=()=>window.MB_DESKTOP_VERSION||window.isElectron||/Electron/i.test(navigator.userAgent),a=()=>/(Macintosh)/i.test(navigator.userAgent),P=()=>/(Windows)/i.test(navigator.userAgent),_=()=>/(Lark)/i.test(navigator.userAgent),i=()=>/MicroMessenger/i.test(navigator.userAgent),S=()=>/Chrome/i.test(navigator.userAgent),x=()=>/Firefox/i.test(navigator.userAgent),s=()=>/(iPod|iPhone|iPad|Android|MobileClient)/.test(navigator.userAgent),g=()=>/Android/i.test(navigator.userAgent),c=()=>/(iPad)/.test(navigator.userAgent),p=()=>/(iPod|iPhone|iPad)/.test(navigator.userAgent),f=()=>!!(window.webkit&&window.webkit.messageHandlers),m=()=>navigator.standalone,d=()=>/\/uichina$/.test(location.pathname),B=()=>/\/forum$/.test(location.pathname),k=()=>/(MobileClient)/.test(navigator.userAgent)},60962:(I,F,n)=>{"use strict";n.d(F,{BC:()=>S,fK:()=>x});var E=n(51904),a=n(59387),P=n(80824),_=n(77321);const i={paid:"paid",trial:"trial",free:"free",paidExpire:"expired",trialExpire:"expired",defaultExpire:"expired"};(0,E.Wb)();const S=s=>{let{currentUser:g,selectedOrg:c,limitType:p,planName:f}=s;const m=c?(0,a.NF)(c):(0,P.r)(g),d=i[m],k={limitReason:(0,_.hd)({limitType:p,user:g,org:c}),currentPlanProduct:f,currentPlanCategory:c?"org":"solo",currentType:d,currentEditMember:(c==null?void 0:c.totalSeats)||"",currentViewMember:(c==null?void 0:c.totalViewerSeats)||""};return E.xd.limitPopupNew(k)},x=s=>{let{objectClick:g,limitType:c,currentUser:p,selectedOrg:f,planName:m}=s;const d=f?(0,a.NF)(f):(0,P.r)(p),B=i[d],k=(0,_.hd)({limitType:c,user:p,org:f}),U={objectClick:g,limitReason:k,currentPlanProduct:m,currentPlanCategory:f?"org":"solo",currentType:B,currentEditMember:(f==null?void 0:f.totalSeats)||"",currentViewMember:(f==null?void 0:f.totalViewerSeats)||""};return E.xd.limitPopupClick(U)}},61033:(I,F,n)=>{"use strict";n.d(F,{Mn:()=>s,U1:()=>P,tv:()=>_,wb:()=>a});var E=n(25101);const a=ENV.NO_TRACK?()=>{}:E.wb,P=ENV.NO_TRACK?()=>{}:function(){(0,E.U1)(...arguments)},_=ENV.NO_TRACK?()=>{}:E.pj,i=ENV.IS_WONDER_SHARE?g=>{if(!window.gtag)return console.error("gtag is not a function");window.gtag("config","UA-4839360-64",{user_id:g,transport_type:"beacon"})}:()=>{},S={"https://mockitt.wondershare.com/proto":"B3-V8\u539F\u578B\u5185\u5206\u4EAB"},x=()=>{const g=Object.keys(S).sort((c,p)=>p.length-c.length);return S[g.find(c=>window.location.href.indexOf(c)!==-1)]},s=async g=>{try{await fetch("https://mockitt.wondershare.com/invite_track?entry="+x()+"&entry_term="+g)}catch(c){console.error(c)}}},94223:(I,F,n)=>{"use strict";n.d(F,{_5:()=>_,gn:()=>x,ll:()=>S});var E=n(74223);const a="jsid",P=()=>{try{const g=new URLSearchParams(location.search).get(a);g?window.localStorage.setItem(a,g):window.localStorage.removeItem(a)}catch(s){window.localStorage.removeItem(a)}},_=function(s){s===void 0&&(s=!1);try{if(ENV.IS_ON_PREMISES||ENV.IS_WONDER_SHARE)return"";const g=window.localStorage.getItem(a);return g?s?"&jsid="+g:"?jsid="+g:""}catch(g){return""}};function i(s){const g=/^[^?#]+\?([^#]+)/.test(s),c=_(g),p=c&&(s==null?void 0:s.includes(c==null?void 0:c.slice(1)));return""+s+(p?"":c)}const S=s=>{const g=i(s);location.href=g},x=(s,g,c)=>{const p=i(s);(0,E.MI)(p,g,c)}},97881:(I,F,n)=>{"use strict";n.d(F,{Gk:()=>s,H8:()=>i,MR:()=>_});var E=n(68937),a=n(11685),P=n(34896);const _=g=>{let{node:c,basketKey:p,scale:f}=g;const{transform:m,rect:d}=c.worldBoundingBox,{x:B,y:k}=m.clone().scale(f/100,f/100).apply({x:d.x,y:d.y}),U=sdkStore.getHotItem(p),{x:C,y:h}=E.S.mul(E.S.xy(U.hotAttr.w,U.hotAttr.h),f/100),{x:v,y:b}=E.S.mul(E.S.xy(c.widget.xTL,c.widget.yTL),f/100),A=Math.round(k-b),j=Math.round(B-v),X=Math.round(C),ie=Math.round(h);return{top:A,left:j,width:X,height:ie,right:j+X,bottom:A+ie}},i=g=>{let{editingBasketKey:c,editingBasketRefPage:p}=g;if(c){var f;const m=(f=sdkStore.getHotItem(c))==null?void 0:f.hotAttr;return(m==null?void 0:m.basket)==="bMuban"?(m==null?void 0:m.refRBPageKey)||p:(0,P.pf)(c)?(0,P.Hr)(c).pop():c}return p},S=50,x=50,s=g=>{const{hotAttr:{layout:c,w:p,h:f,type:m,refRBPageKey:d}}=sdkStore.getHotItem(g),B=m===a.l.WBasket?d:g,k=sdkStore.getSubHotItemList(B).filter(v=>v.hotAttr.type===a.l.Canvas).sort((v,b)=>v.hotAttr.order-b.hotAttr.order),U={};let C=0,h=0;return k.forEach((v,b)=>{const{x:A,y:j,w:X,h:ie}=sdkStore.getHotItem(v.key).hotAttr,Z=X*.5,ee=ie*.5;if(c==="row"){U[v.key]={offsetX:0,offsetY:b===0?0:h+Math.max(ee-j,0)};const N=b===0?0:Math.min(j-ee,0),$=Math.max(j+ee,f);h=h+($-N)+x}else{U[v.key]={offsetX:b===0?0:C+Math.max(Z-A,0),offsetY:0};const N=b===0?0:Math.min(A-Z,0),$=Math.max(A+Z,p);C=C+($-N)+S}}),U}},95534:(I,F,n)=>{"use strict";n.d(F,{Z:()=>g});var E=n(49650),a=n(7485),P=n(7627),_=n.n(P),i=n(14974),S=n(71464),x=n(27004),s=n(35269);class g extends a.PureComponent{constructor(){super(...arguments),(0,E.Z)(this,"setComponentRef",p=>this.modal=p),(0,E.Z)(this,"getEntry",()=>{const p=new URLSearchParams(location.search),f=p&&p.get("view_mode");return f?S.I[f]:""})}componentDidMount(){const{dispatch:p,onConfirm:f}=this.props,m=this;window.onmessage=async function(d){if(d.data==="loginSuccess")typeof p=="function"&&p({type:"modal:update:state",payload:{loginModal:{isOpen:!1}}}),f();else if(d.data==="close"){var B;m==null||(B=m.modal)==null||B.close()}},x.x.userSourceTrack(this.getEntry())}render(){const{isOpen:p,onClose:f,type:m,source:d}=this.props,B=this.getEntry(),k=B?"&entry="+B:"",U=location.origin+"/embed/auth_box?type="+m+(d?"&source="+d:"")+k;return(0,s.jsx)(i.B,{isOpen:p,onClose:f,ref:this.setComponentRef,className:"login-modal",children:(0,s.jsx)("iframe",{src:U})})}}(0,E.Z)(g,"propTypes",{source:_().string,isOpen:_().bool,type:_().string,dispatch:_().func,onConfirm:_().func,onClose:_().func}),(0,E.Z)(g,"defaultProps",{type:"signin"})},38546:(I,F,n)=>{"use strict";n.d(F,{Z:()=>g});var E=n(49650),a=n(7485),P=n(7627),_=n.n(P),i=n(14974),S=n(94223),x=n(24397),s=n(35269);class g extends a.PureComponent{constructor(){super(...arguments),(0,E.Z)(this,"setComponentRef",p=>this.modal=p)}componentDidMount(){const p=this;window.onmessage=async function(f){if(f.data==="loginSuccess"||f.data==="registerSuccess"){const m=btoa("client=web&type=to_url&url="+location.href),d="https://accounts.wondershare.com/v3/user/oauth-client/authorize?response_type=code&redirect_uri="+location.origin+"/wondershare/callback&scope=user%20normal&state="+m+"&source=37&app_key=689b3b14b4e225a9ddadd80a5ef81ca3&product_id=8038";(0,S.ll)(d)}else f.data==="close"&&p.modal.close()}}render(){const{isOpen:p,onClose:f,type:m}=this.props,d="https://accounts.wondershare.com/web/"+(m==="signin"?"login":"register")+"?redirect_uri="+location.origin+"&source=37&site=mockitt.wondershare.com&mode=1";return(0,s.jsxs)(i.I,{isOpen:p,onClose:f,ref:this.setComponentRef,className:"login-modal",children:[(0,s.jsx)("iframe",{src:d}),(0,s.jsx)("button",{className:"btn-close-modal",onClick:f,children:(0,s.jsx)(x.q,{name:"common/close"})})]})}}(0,E.Z)(g,"propTypes",{isOpen:_().bool,type:_().string,onClose:_().func}),(0,E.Z)(g,"defaultProps",{type:"signin"})},2470:(I,F,n)=>{"use strict";var E=n(46198),a=n(44475),P=n(7485),_=n(39110),i=n(21202);const S={"sk-bouncedelay":"ZBrU7Yes6CevGkk6hArA"};n(34268),n(87645),n(11460);var x=n(46807),s=n(10737),g=n(23555),c=n(68543);const p=e=>{const{isEmbedV1:t=!1}=e||{};return{isDesktop:!((0,c.tq)()||t),isInApp:!1,isMultiLink:!1,isMobile:(0,c.tq)(),isIOSClient:(0,c.B0)(),isStandAlone:(0,c.IF)(),isEmbedV1:t,isEmbedV2:!1,isHTMLZip:!1,isUIChina:(0,c.Md)(),isForum:(0,c._j)(),isElectron:(0,c.d)(),isSquare:!1,isFeishu:(0,c.Rv)(),isWechat:(0,c.CL)(),...e}},f=e=>{const{isMobile:t,isEmbedV2:o,isSquare:r}=e;return t?s.Z:o||r?x.Z:g.Z};var m=n(51293),d=n(86478),B=n(75985),k=n(9733),U=n(27444);const C=e=>new URLSearchParams(e).toString(),h=e=>{const t={};for(const[o,r]of new URLSearchParams(e).entries())t[o]=r;return t},v={},b={USER_COMBO:"user-combo",ORG_COMBO:"org-combo",PROJECT_MAIN:"project-main",PROJECT_TRASHCAN:"project-trashcan",PROJECT_TEMPLATE:"project-template",PANEL_TEMPLATE:"panel-template"},A={P:"v3"},j={PROTOTYPE:"prototype",DESIGN_DRAFT:"design-draft",MIND_MAP:"mind-map",FLOW_CHART:"flow-chart",ABOARD:"aboard"},X="proto2",ie=e=>e===X?j.PROTOTYPE:e;var Z=n(68633);const ee=C(A),N=e=>({cid:e.cid,mtime:e.mtime,name:e.name,type:e.type,ttag:e.ttag||ee,upper_cid:e.upper_cid,upper_type:e.upper_type}),$=(e,t)=>{t(e.cid,CID_PROJECT_META),t(e.upper_cid,CID_REF_EXTERNAL_UPPER)},ye=(e,t)=>(e=N(e),e.cid=t(e.cid,CID_PROJECT_META),e.upper_cid=t(e.upper_cid,CID_REF_EXTERNAL_UPPER),e),ue=C(v),V=e=>({cid:e.cid,mtime:e.mtime,name:e.name,ttag:e.ttag||ue,type:e.type,user_id:e.user_id,user_name:e.user_name,ctime:e.ctime,width:e.width,height:e.height,is_single_state:e.is_single_state,panel_screen_meta_cid:e.panel_screen_meta_cid,project_meta_cid:e.project_meta_cid}),te=(e,t)=>{t(e.cid,CID_SCREEN_GLUE),e.panel_screen_meta_cid&&t(e.panel_screen_meta_cid,CID_REF_SCREEN_META),t(e.project_meta_cid,CID_REF_PROJECT_META)},fe=(e,t)=>(e=V(e),e.cid=t(e.cid,CID_SCREEN_GLUE),e.panel_screen_meta_cid&&(e.panel_screen_meta_cid=t(e.panel_screen_meta_cid,CID_REF_SCREEN_META)),e.project_meta_cid=t(e.project_meta_cid,CID_REF_PROJECT_META),e),Fe=e=>({cid:e.cid,mtime:e.mtime,name:e.name,parent_cid:e.parent_cid,position:e.position,expanded:e.expanded,orientation:e.orientation,width:e.width,height:e.height,bgcolor:e.bgcolor,bgimage:e.bgimage,deleter_name:e.deleter_name,deleted_at:e.deleted_at,screen_glue_cid:e.screen_glue_cid,project_meta_cid:e.project_meta_cid,artboard_id:e.artboard_id,artboard_image_url:e.artboard_image_url}),Je=(e,t)=>{t(e.cid,CID_SCREEN_META),e.parent_cid&&t(e.parent_cid,CID_REF_SCREEN_META),e.artboard_id&&t(e.artboard_id,CID_REF_EXTERNAL_ARTBOARD),t(e.screen_glue_cid,CID_REF_SCREEN_GLUE),t(e.project_meta_cid,CID_REF_PROJECT_META)},tt=(e,t)=>(e=Fe(e),e.cid=t(e.cid,CID_SCREEN_META),e.parent_cid&&(e.parent_cid=t(e.parent_cid,CID_REF_SCREEN_META)),e.artboard_id&&(e.artboard_id=t(e.artboard_id,CID_REF_EXTERNAL_ARTBOARD)),e.screen_glue_cid=t(e.screen_glue_cid,CID_REF_SCREEN_GLUE),e.project_meta_cid=t(e.project_meta_cid,CID_REF_PROJECT_META),e),Te=e=>({cid:e.cid,mtime:e.mtime,name:e.name,position:e.position,fh:e.fh,hh:e.hh,timestamp:e.timestamp,icon:e.icon}),dt=(e,t)=>{t(e.cid,CID_SCREEN_STATE)},_t=(e,t)=>(e=Te(e),e.cid=t(e.cid,CID_SCREEN_STATE),e),yt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,debug:e.debug}),rt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,ani_name:"none",ani_count:1,ani_duration:e.ani_duration,ani_delay:e.ani_delay,link_type:e.link_type,widget_cids:e.widget_cids,target_cid:e.target_cid,targetstate_cid:e.targetstate_cid,state_cid:e.state_cid,gesture:e.gesture,transition:e.transition,timer:e.timer,reset:e.reset,menu_offset:e.menu_offset,scroll_offset:e.scroll_offset,screen_target_cid:e.screen_target_cid,ani_hide_duration:e.ani_hide_duration}),Et=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,primary_fixed:e.primary_fixed,screen_glue_cid:e.screen_glue_cid,screen_meta_cid:e.screen_meta_cid,screen_state_cid:e.screen_state_cid,overflow_behavior:e.overflow_behavior,scroll:e.scroll}),ht=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,primary_fixed:e.primary_fixed}),bt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,primary_fixed:e.primary_fixed,image:e.image}),Ye=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,primary_fixed:e.primary_fixed,checked:e.checked}),Ue=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,primary_fixed:e.primary_fixed,checked:e.checked}),nt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,primary_fixed:e.primary_fixed,checked:e.checked,switch_disabled:e.switch_disabled,thumb_checked_style:e.thumb_checked_style,thumb_unchecked_style:e.thumb_unchecked_style,track_checked_style:e.track_checked_style,track_unchecked_style:e.track_unchecked_style}),kt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,primary_fixed:e.primary_fixed,checked:e.checked,switch_disabled:e.switch_disabled,thumb_checked_style:e.thumb_checked_style,thumb_unchecked_style:e.thumb_unchecked_style,track_checked_style:e.track_checked_style,track_unchecked_style:e.track_unchecked_style}),mt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,primary_fixed:e.primary_fixed,checked:e.checked}),pt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,primary_fixed:e.primary_fixed,checked:e.checked}),at=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,primary_fixed:e.primary_fixed,checked:e.checked}),Mt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,primary_fixed:e.primary_fixed,checked:e.checked}),wt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,primary_fixed:e.primary_fixed,numeric:e.numeric}),Ct=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,primary_fixed:e.primary_fixed,numeric:e.numeric}),Pt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,primary_fixed:e.primary_fixed,numeric:e.numeric}),St=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,primary_fixed:e.primary_fixed,numeric:e.numeric}),Rt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,primary_fixed:e.primary_fixed,numeric:e.numeric,image:e.image}),jt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha}),xt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:0,border:e.border,text:"",border_radius:"",box_shadow:e.box_shadow,text_shadow:""}),Ft=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:"",text_shadow:""}),Ut=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:"",text_shadow:""}),O=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:"",text_shadow:""}),L=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,td:e.td,bo:e.bo,i:e.i}),J=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,td:e.td,bo:e.bo,i:e.i}),le=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:"",text_shadow:""}),Oe=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:"",text_shadow:""}),Ke=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:"",text_shadow:""}),ot=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:"",text_shadow:""}),ct=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:"",text_shadow:""}),Xe=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,text:e.text,border_radius:"",box_shadow:"",text_shadow:""}),Ve=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,td:e.td,bo:e.bo,i:e.i,input_type:e.input_type,border_visibility:e.border_visibility}),qe=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding,border_visibility:e.border_visibility}),Re=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:e.border,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,td:e.td,bo:e.bo,i:e.i}),ut=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:0,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:e.box_shadow,text_shadow:"",is:e.is,icon:e.icon,fs:e.fs,view_box:e.view_box,path:e.path}),ft=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,th:e.th,background:e.background,tc:e.tc,border:0,text:e.text,border_radius:"",box_shadow:"",text_shadow:"",fs:e.fs,ha:e.ha,lh:e.lh,bo:e.bo,i:e.i,td:e.td,padding:e.padding,point:e.point,fills:e.fills}),gt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,va:e.va,td:e.td,bo:e.bo,i:e.i,icon:e.icon,is:e.is,view_box:e.view_box,path:e.path,border_visibility:e.border_visibility,fills:e.fills}),Lt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,va:e.va,td:e.td,bo:e.bo,i:e.i}),_n=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding,_ttPlacement:e._ttPlacement,_ttOffset:e._ttOffset,_ttArrowSize:e._ttArrowSize}),vt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding,border_visibility:e.border_visibility,fills:e.fills}),Yt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding,side_num:e.side_num,fills:e.fills}),Dt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding,side_num:e.side_num,radius:e.radius,fills:e.fills}),mn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,fs:e.fs,td:e.td,bo:e.bo,i:e.i,tableData:e.tableData,innerBorderV:e.innerBorderV,innerBorderH:e.innerBorderH,outerBorder:e.outerBorder,styleType:e.styleType}),Zt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding,fills:e.fills}),Rn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:"",border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",image:e.image,p:e.p,clip:e.clip,filter:e.filter,clip_type:e.clip_type,image_rect:e.image_rect}),jn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:0,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:"",border_radius:"",box_shadow:e.box_shadow,text_shadow:""}),pn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:0,tc:0,border:e.border,primary_fixed:e.primary_fixed,text:"",border_radius:"",box_shadow:e.box_shadow,text_shadow:"",points:e.points}),an=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:0,tc:0,border:0,primary_fixed:e.primary_fixed,text:"",border_radius:"",box_shadow:e.box_shadow,text_shadow:"",points:e.points,arrow_types:e.arrow_types,arrow_stroke:e.arrow_stroke}),Xt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:"",text_shadow:e.text_shadow,fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding}),un=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:"",text_shadow:e.text_shadow,fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding,clip:e.clip,border_visibility:e.border_visibility,fills:e.fills}),dn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:"",border_radius:e.border_radius,box_shadow:"",text_shadow:e.text_shadow,is:e.is,icon:e.icon}),Nt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:"",border_radius:e.border_radius,box_shadow:"",text_shadow:e.text_shadow,is:e.is,icon:e.icon}),zt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:"",border_radius:e.border_radius,box_shadow:"",text_shadow:e.text_shadow,is:e.is,icon:e.icon,view_box:e.view_box,path:e.path,svgAttr:e.svgAttr,fills:e.fills}),Gt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:0,tc:e.tc,border:0,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:"",text_shadow:e.text_shadow,fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,clip:e.clip,size_type:e.size_type,font_direction:e.font_direction}),hn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:0,tc:0,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed}),fn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:0,tc:0,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed}),gn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:0,border:0,ro:e.ro,primary_fixed:e.primary_fixed,fills:e.fills}),yn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:0,border:0,ro:e.ro,primary_fixed:e.primary_fixed,fills:e.fills}),En=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ro:e.ro,primary_fixed:e.primary_fixed,border_radius:e.border_radius,ha:e.ha,va:e.va,data:e.data}),bn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,primary_fixed:e.primary_fixed}),$t=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,expanded:e.expanded}),Qt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:1073741823,o:100,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio}),kn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",is_autoplay:e.is_autoplay,is_loop:e.is_loop,is_keep_alive:e.is_keep_alive,is_hidden:e.is_hidden}),qt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",is_autoplay:e.is_autoplay,is_loop:e.is_loop,is_muted:e.is_muted,is_hide_controls:e.is_hide_controls}),Mn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:"",box_shadow:"",text_shadow:"",background:e.background,foreground:e.foreground}),wn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding,fills:e.fills}),Cn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,chartType:e.chartType,chartCategory:e.chartCategory,chartTheme:e.chartTheme,grid:e.grid,showAxis:e.showAxis,textAngle:e.textAngle,legend:e.legend,showToolTip:e.showToolTip,smooth:e.smooth,showHelpMark:e.showHelpMark,chartBorderRadius:e.chartBorderRadius,chartInnerRadius:e.chartInnerRadius,chartData:e.chartData,progress:e.progress,shLabel:e.shLabel,unit:e.unit}),Kt=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding,min:e.min,max:e.max,sliderSize:e.sliderSize,is:e.is,ic:e.ic,number:e.number}),Pn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,border_radius:e.border_radius,fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding,pagesNumber:e.pagesNumber,checkedTextSize:e.checkedTextSize,checkedTextColor:e.checkedTextColor,number:e.number}),u=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,border_radius:e.border_radius,fs:e.fs,ha:e.ha,va:e.va,lh:e.lh,td:e.td,bo:e.bo,i:e.i,padding:e.padding,pagesNumber:e.pagesNumber,checkedBg:e.checkedBg,checkedBorder:e.checkedBorder,checkedTextSize:e.checkedTextSize,checkedTextColor:e.checkedTextColor,number:e.number}),R=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,data:e.data}),G=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,data:e.data,optionData:e.optionData,border_radius:e.border_radius,border:e.border,background:e.background,canExpandOneMenu:e.canExpandOneMenu}),re=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,data:e.data,optionData:e.optionData,fs:e.fs,tc:e.tc,checkedTextSize:e.checkedTextSize,checkedTextColor:e.checkedTextColor,checkedBg:e.checkedBg,background:e.background,border:e.border,border_radius:e.border_radius}),q=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,optionData:e.optionData,fs:e.fs,textColor:e.textColor,borderColor:e.borderColor,disabled:e.disabled,checkedTc:e.checkedTc,checkedBgColor:e.checkedBgColor,layout:e.layout,selectionControlType:e.selectionControlType,gap:e.gap}),de=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",optionData:e.optionData,mutualWay:e.mutualWay,fs:e.fs,td:e.td,bo:e.bo,i:e.i,va:e.va,ha:e.ha,dropMenuEcho:e.dropMenuEcho,is_multiple:e.is_multiple}),we=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,optionData:e.optionData,panelData:e.panelData,expandData:e.expandData,selectedData:e.selectedData,isShowIcon:e.isShowIcon,canExpandOneMenu:e.canExpandOneMenu,navigationMenuType:e.navigationMenuType}),me=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,optionData:e.optionData,fs:e.fs,checkedTextSize:e.checkedTextSize,checkedTextColor:e.checkedTextColor,checkedBorder:e.checkedBorder,checkedBoldType:e.checkedBoldType,checkedFontStyle:e.checkedFontStyle,checkedTextDecoration:e.checkedTextDecoration,tc:e.tc}),he=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,ro:e.ro,primary_fixed:e.primary_fixed,optionData:e.optionData,fs:e.fs,tc:e.tc,background:e.background,border:e.border,border_visibility:e.border_visibility,isShowIcon:e.isShowIcon,isShowText:e.isShowText,iconSize:e.iconSize,iconColor:e.iconColor,selectedTextColor:e.selectedTextColor,selectedIconColor:e.selectedIconColor,isShowSelectedText:e.isShowSelectedText,isShowSelectedIcon:e.isShowSelectedIcon}),ge=e=>({cid:e.cid,mtime:e.mtime,name:e.name,bitFlag:e.bitFlag,gid:e.gid,link_cids:e.link_cids,v:e.v,locked:e.locked,display_name:e.display_name,z:e.z,o:e.o,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,ani_name:e.ani_name,ani_count:e.ani_count,ani_duration:e.ani_duration,ani_delay:e.ani_delay,th:e.th,background:e.background,tc:e.tc,border:e.border,ro:e.ro,primary_fixed:e.primary_fixed,text:e.text,border_radius:e.border_radius,box_shadow:e.box_shadow,text_shadow:"",fs:e.fs,ha:e.ha,va:e.va,td:e.td,bo:e.bo,i:e.i,border_visibility:e.border_visibility,fills:e.fills}),Q=e=>({cid:e.cid,mtime:e.mtime,name:e.name,left:e.left,top:e.top,width:e.width,height:e.height,aspect_ratio:e.aspect_ratio,data:e.data,display_name:e.display_name,bind_widget_cid:e.bind_widget_cid,ctime:e.ctime,order:e.order}),oe=536870911,z=1073741823,H=null,Y=e=>{switch(e.name){case"debug":return yt(e);case"link":return rt(e);case"panel":return Et(e);case"lr":return ht(e);case"map_view":return bt(e);case"mcheckbox":return Ye(e);case"mradiobutton":return Ue(e);case"ios_switch":return nt(e);case"android_switch":return kt(e);case"ios_check":return mt(e);case"android_check":return pt(e);case"android_radio":return at(e);case"switch":return Mt(e);case"iphone_keyboard":return wt(e);case"ipad_keyboard":return Ct(e);case"android_keyboard":return Pt(e);case"keyboard":return St(e);case"unified_keyboard":return Rt(e);case"search_bar":return jt(e);case"tab_bar":return xt(e);case"ios_status_bar":return Ft(e);case"iphone_x_status_bar":return Ut(e);case"android_status_bar":return O(e);case"navigation_bar":return L(e);case"nav_bar":return J(e);case"status_bar":return le(e);case"legacy_iphone_status_bar":return Oe(e);case"legacy_iphone_x_status_bar":return Ke(e);case"legacy_android_status_bar":return ot(e);case"legacy_ipad_status_bar":return ct(e);case"webpage":return Xe(e);case"mtext_input":return Ve(e);case"mtextarea":return qe(e);case"mselect":return Re(e);case"tab_item":return ut(e);case"sticky":return ft(e);case"button":return gt(e);case"text_field":return Lt(e);case"mtooltip":return _n(e);case"rounded_rect":return vt(e);case"polygon":return Yt(e);case"star":return Dt(e);case"table":return mn(e);case"circle_rect":return Zt(e);case"image_view":return Rn(e);case"rectangle":return jn(e);case"line":return pn(e);case"arrow":return an(e);case"label":return Xt(e);case"text_view":return un(e);case"icon_button":return dn(e);case"svg_icon_button":return Nt(e);case"svg_icon_path":return zt(e);case"rich_text":return Gt(e);case"hr":return hn(e);case"ve":return fn(e);case"triangleb":return gn(e);case"triangletl":return yn(e);case"carousel":return En(e);case"mfile_input":return bn(e);case"group":return $t(e);case"pg":return Qt(e);case"audio":return kn(e);case"video":return qt(e);case"qrcode":return Mn(e);case"placeholder":return wn(e);case"chart":return Cn(e);case"digital_stepper":return Kt(e);case"pagination_mobile":return Pn(e);case"pagination_web":return u(e);case"slider":return R(e);case"collapse":return G(e);case"segmented_control":return re(e);case"selection_control":return q(e);case"drop_menu":return de(e);case"navigation_menu":return we(e);case"tabs":return me(e);case"mobile_tab_bars":return he(e);case"button_solid":return ge(e);case"annotate":return Q(e)}throw new Error("unexpected data name from: "+JSON.stringify(e))},ce=null,ke=(e,t)=>{e.forEach(o=>{t(o),ke(o.children,t)})},Ne=(e,t)=>{const{name:o,cid:r,gid:l,link_cids:M}=e;if(t(r,CID_ITEM),l&&t(l,CID_ITEM_GROUP),M&&M.split(",").forEach(y=>t(y,CID_REF_ITEM)),o==="link"){const{widget_cids:y,target_cid:w,targetstate_cid:D,state_cid:K}=e;if(y)for(const se of y.split(","))t(se,CID_REF_ITEM);w&&t(w,CID_REF_SCREEN_META),D&&t(D,CID_REF_SCREEN_STATE),K&&t(K,CID_REF_SCREEN_META)}if(o==="panel"){const{screen_state_cid:y,screen_meta_cid:w,screen_glue_cid:D}=e;y&&t(y,CID_REF_SCREEN_STATE),w&&t(w,CID_REF_SCREEN_META),D&&t(D,CID_REF_SCREEN_GLUE)}o==="annotate"&&e.bind_widget_cid&&t(e.bind_widget_cid,CID_REF_ITEM)},je=(e,t)=>{e=filterEntry(e),JSON_TYPE_KEY_LIST.forEach(K=>{e[K]&&(e[K]=JSON.parse(JSON.stringify(e[K])))});const{name:o,cid:r,gid:l,link_cids:M,tableData:y,optionData:w,data:D}=e;if(e.cid=t(r,CID_ITEM),l&&(e.gid=t(l,CID_ITEM_GROUP)),M&&(e.link_cids=M.split(",").map(K=>t(K,CID_REF_ITEM)).join(",")),o==="table"){const se=y.links.map(ne=>ne.map(_e=>_e?_e.split(",").map(be=>t(be,CID_REF_ITEM)).join(","):""));e.tableData.links=se}if(ce.indexOf(o)!==-1){const K=[...w];ke(K,se=>{se.data.link_cids&&(se.data.link_cids=t(se.data.link_cids,CID_REF_ITEM))}),e.optionData=K}if(o==="carousel"){const K=D.slides.map(se=>se.link_cids?{...se,link_cids:t(se.link_cids,CID_REF_ITEM)}:{...se});e.data={...D,slides:K}}if(o==="link"){const{widget_cids:K,target_cid:se,targetstate_cid:ne,state_cid:_e}=e;K&&(e.widget_cids=K.split(",").map(be=>t(be,CID_REF_ITEM)).join(",")),se&&(e.target_cid=t(se,CID_REF_SCREEN_META)),ne&&(e.targetstate_cid=t(ne,CID_REF_SCREEN_STATE)),_e&&(e.state_cid=t(_e,CID_REF_SCREEN_META))}if(o==="panel"){const{screen_state_cid:K,screen_meta_cid:se,screen_glue_cid:ne}=e;K&&(e.screen_state_cid=t(K,CID_REF_SCREEN_STATE)),se&&(e.screen_meta_cid=t(se,CID_REF_SCREEN_META)),ne&&(e.screen_glue_cid=t(ne,CID_REF_SCREEN_GLUE))}return o==="annotate"&&e.bind_widget_cid&&(e.bind_widget_cid=t(e.bind_widget_cid,CID_REF_ITEM)),e},Pe=(e,t)=>{switch(e.name){case"carousel":for(const o of e.data.slides)o.asset&&t(o.asset);break}e.image&&t(e.image)},Ce=C(v),Ae=e=>({cid:e.cid,mtime:e.mtime,ttag:e.ttag||Ce,type:e.type,ctime:e.ctime,project_meta_cid:e.project_meta_cid}),Ie=(e,t)=>{t(e.cid,CID_SCREEN_GLUE),t(e.project_meta_cid,CID_REF_PROJECT_META)},pe=(e,t)=>(e=Ae(e),e.cid=t(e.cid,CID_SCREEN_GLUE),e.project_meta_cid=t(e.project_meta_cid,CID_REF_PROJECT_META),e),Ee=e=>({cid:e.cid,mtime:e.mtime,screen_glue_cid:e.screen_glue_cid,project_meta_cid:e.project_meta_cid}),De=(e,t)=>{t(e.cid,CID_SCREEN_META),t(e.screen_glue_cid,CID_REF_SCREEN_GLUE),t(e.project_meta_cid,CID_REF_PROJECT_META)},Se=(e,t)=>(e=Ee(e),e.cid=t(e.cid,CID_SCREEN_META),e.screen_glue_cid=t(e.screen_glue_cid,CID_REF_SCREEN_GLUE),e.project_meta_cid=t(e.project_meta_cid,CID_REF_PROJECT_META),e),Be=e=>({cid:e.cid,mtime:e.mtime,name:e.name}),Le=(e,t)=>{t(e.cid,CID_SCREEN_STATE)},W=(e,t)=>(e=Be(e),e.cid=t(e.cid,CID_SCREEN_STATE),e),Me=e=>({cid:e.cid,type:e.type,name:e.name,mtime:e.mtime,z:e.z,pageType:e.pageType}),et=e=>({cid:e.cid,type:e.type,name:e.name,mtime:e.mtime,parentCid:e.parentCid,blend:e.blend,shadows:e.shadows,blur:e.blur,mask:e.mask,complex:e.complex,locked:e.locked,constraint:e.constraint,exports:e.exports,strokeShape:e.strokeShape,strokeFills:e.strokeFills,x:e.x,y:e.y,w:e.w,h:e.h,o:e.o,z:e.z,v:e.v,aspectRatio:e.aspectRatio,fills:e.fills,clip:e.clip,layoutGrid:e.layoutGrid}),$e=e=>({cid:e.cid,type:e.type,name:e.name,mtime:e.mtime,parentCid:e.parentCid,blend:e.blend,shadows:e.shadows,blur:e.blur,mask:e.mask,complex:e.complex,locked:e.locked,constraint:e.constraint,exports:e.exports,strokeShape:e.strokeShape,strokeFills:e.strokeFills,x:e.x,y:e.y,w:e.w,h:e.h,o:e.o,z:e.z,v:e.v,aspectRatio:e.aspectRatio,fills:e.fills,clip:e.clip,layoutGrid:e.layoutGrid}),st=e=>({cid:e.cid,type:e.type,name:e.name,mtime:e.mtime,parentCid:e.parentCid,x:e.x,y:e.y,v:e.v,locked:e.locked,z:e.z,complex:e.complex,symbolCid:e.symbolCid,overrides:e.overrides,layoutGrid:e.layoutGrid}),Tt=e=>({cid:e.cid,type:e.type,name:e.name,mtime:e.mtime,parentCid:e.parentCid,blend:e.blend,shadows:e.shadows,blur:e.blur,mask:e.mask,complex:e.complex,locked:e.locked,constraint:e.constraint,exports:e.exports,x:e.x,y:e.y,o:e.o,v:e.v,z:e.z}),lt=e=>({cid:e.cid,type:e.type,name:e.name,mtime:e.mtime,parentCid:e.parentCid,blend:e.blend,shadows:e.shadows,blur:e.blur,mask:e.mask,complex:e.complex,locked:e.locked,constraint:e.constraint,exports:e.exports,strokeShape:e.strokeShape,strokeFills:e.strokeFills,combineType:e.combineType,fills:e.fills,x:e.x,y:e.y,o:e.o,v:e.v,z:e.z}),Ot=e=>({cid:e.cid,type:e.type,name:e.name,mtime:e.mtime,parentCid:e.parentCid,blend:e.blend,shadows:e.shadows,blur:e.blur,mask:e.mask,complex:e.complex,locked:e.locked,constraint:e.constraint,exports:e.exports,strokeShape:e.strokeShape,strokeFills:e.strokeFills,x:e.x,y:e.y,w:e.w,h:e.h,o:e.o,z:e.z,v:e.v,aspectRatio:e.aspectRatio,fills:e.fills,style:e.style,paragraphs:e.paragraphs,textAlign:e.textAlign,verticalAlign:e.verticalAlign,paragraphSpacing:e.paragraphSpacing,textAutoResize:e.textAutoResize}),en=e=>({cid:e.cid,type:e.type,name:e.name,mtime:e.mtime,parentCid:e.parentCid,blend:e.blend,shadows:e.shadows,blur:e.blur,mask:e.mask,complex:e.complex,locked:e.locked,constraint:e.constraint,exports:e.exports,strokeShape:e.strokeShape,strokeFills:e.strokeFills,x:e.x,y:e.y,aspectRatio:e.aspectRatio,o:e.o,z:e.z,v:e.v,fills:e.fills,vector:e.vector}),Pi=e=>({cid:e.cid,type:e.type,name:e.name,mtime:e.mtime,parentCid:e.parentCid,blend:e.blend,shadows:e.shadows,blur:e.blur,mask:e.mask,complex:e.complex,locked:e.locked,constraint:e.constraint,exports:e.exports,strokeShape:e.strokeShape,strokeFills:e.strokeFills,x:e.x,y:e.y,w:e.w,h:e.h,o:e.o,z:e.z,v:e.v,aspectRatio:e.aspectRatio,fills:e.fills,corner:e.corner}),Si=e=>({cid:e.cid,type:e.type,name:e.name,mtime:e.mtime,parentCid:e.parentCid,blend:e.blend,shadows:e.shadows,blur:e.blur,mask:e.mask,complex:e.complex,locked:e.locked,constraint:e.constraint,exports:e.exports,strokeShape:e.strokeShape,strokeFills:e.strokeFills,x:e.x,y:e.y,w:e.w,h:e.h,o:e.o,z:e.z,v:e.v,fills:e.fills,start:e.start,sweep:e.sweep,ratio:e.ratio}),vi=e=>({cid:e.cid,type:e.type,name:e.name,mtime:e.mtime,parentCid:e.parentCid,blend:e.blend,shadows:e.shadows,blur:e.blur,mask:e.mask,complex:e.complex,locked:e.locked,constraint:e.constraint,exports:e.exports,x:e.x,y:e.y,w:e.w,h:e.h,o:e.o,z:e.z,v:e.v}),Ti=e=>{switch(e.type){case"Page":return Me(e);case"Frame":return et(e);case"Symbol":return $e(e);case"Instance":return st(e);case"Group":return Tt(e);case"CombinedShape":return lt(e);case"RichText":return Ot(e);case"Vector":return en(e);case"RoundedRect":return Pi(e);case"Circle":return Si(e);case"Slice":return vi(e)}throw new Error("unexpected data type from: "+JSON.stringify(e))},Mo=(e,t)=>{const{cid:o,parentCid:r,symbolCid:l}=e;t(o,CID_ITEM),r&&t(r,CID_REF_ITEM),l&&t(l,CID_REF_ITEM)},wo=(e,t)=>{e=filterEntry(e);const{cid:o,parentCid:r,symbolCid:l}=e;return e.cid=t(o,CID_ITEM),r&&(e.parentCid=t(r,CID_REF_ITEM)),l&&(e.symbolCid=t(l,CID_REF_ITEM)),e};var Co=n(58129);const Po=(e,t)=>{let{name:o,mtime:r,locale:l}=t;const M=[filterEntryScreenGlue({cid:getRandomScreenGlueCid(),mtime:r,type:SCREEN_GLUE_TYPE.PROJECT_MAIN,ctime:r,project_meta_cid:e.cid})],y=[filterEntryScreenMeta({cid:getRandomScreenMetaCid(),mtime:r,screen_glue_cid:M[0].cid,project_meta_cid:e.cid})],w=[{type:"Page",name:T("i_Page"),cid:getRandomCid("p"),mtime:getLocalTimestamp(),z:0,pageType:1},{type:"Page",name:"Recycler",cid:getRandomCid("p"),mtime:getLocalTimestamp(),z:-1e4,pageType:0}],D=[createScreenObject(y[0].cid,[createScreenStateObject({cid:getRandomScreenStateCid(),mtime:r},w,e.type)])];return{screenGlueList:M,screenMetaList:y,screenObjectList:D}};var So=n(1372);const Oi=new Set(["android","iphone","ipad"]),Ln=new Set(["ipad_mini","ipad_pro_11","ipad_pro_12"]),Ai=new Set(["iphone_x","iphone_xs_max","iphone_11_pro","iphone_11_pro_max","iphone_12_pro","iphone_12_pro_max","iphone_13_pro","iphone_13_pro_max","iphone_14_pro","iphone_14_pro_max","ipad_mini","ipad_pro_11","ipad_pro_12"]),xi={iphone_14_pro_max:[919,148,134,898],iphone_14_pro:[839,130,134,818],iphone_13_pro_max:[913,147,134,892],iphone_13_pro:[831,129,134,810],iphone_12_pro_max:[913,147,134,892],iphone_12_pro:[831,129,134,810],iphone_x:[799,121,134,778],iphone_xs_max:[883,141,134,862],iphone_11_pro:[799,121,134,778],iphone_11_pro_max:[883,141,134,862],ipad_mini:[1011,227,314,1009],ipad_pro_11:[1181,260,314,1179],ipad_pro_12:[1353,355,314,1351]},Di={iphone_14_pro:48,iphone_13_pro:44,iphone_12_pro:44,iphone_x:44,iphone_11_pro:44,iphone_11_pro_max:44,iphone:20,ipad:24,ipad_3_4:20,ipad_pro:24,android:24,huawei_p40:58},Ii={iphone_14_pro:48,iphone_12_pro:44,iphone_13_pro:44,iphone_x:44,iphone_11_pro_max:44,iphone_11_pro:44,iphone:44,ipad:50,ipad_3_4:44,ipad_pro:50,android:56,huawei_p40:56},Bi=(e,t)=>{const o=t==="iphone_14_pro"||t==="iphone_14_pro_max"?"iphone_14_pro":t==="iphone_12_pro"||t==="iphone_x"||t==="iphone_xs_max"||t==="iphone_11_pro"||t==="iphone_11_pro_max"||t==="iphone_12_pro_max"||t==="iphone_13_pro"||t==="iphone_13_pro_max"?"iphone_x":e==="iphone"?"iphone":t==="ipad_3_4"?"ipad_3_4":t==="ipad_pro"?"ipad_pro":t==="ipad_mini"||t==="ipad_pro_11"||t==="ipad_pro_12"?"ipad":e==="android"&&t==="Huawei_p40"?"huawei_p40":e==="android"?"android":null;return{statusBarHeight:Di[o],navBarHeight:Ii[o]}},vo=(e,t)=>{let{name:o,mtime:r,width:l,height:M,device:y,model:w}=t;const D=[filterEntryScreenGlue({cid:getRandomScreenGlueCid(),mtime:r,name:o,type:SCREEN_GLUE_TYPE.PROJECT_MAIN,ctime:r,width:l,height:M,project_meta_cid:e.cid}),filterEntryScreenGlue({cid:getRandomScreenGlueCid(),mtime:r,name:o,type:SCREEN_GLUE_TYPE.PROJECT_TRASHCAN,ctime:r,width:l,height:M,project_meta_cid:e.cid})],K=[filterEntryScreenMeta({cid:getRandomScreenMetaCid(),mtime:r,name:T("s_home"),parent_cid:null,position:1,expanded:!1,orientation:"portrait",width:l,height:M,bgcolor:"#fff",screen_glue_cid:D[0].cid,project_meta_cid:e.cid}),filterEntryScreenMeta({cid:getRandomScreenMetaCid(),mtime:r,name:T("s_screen")+" 2",parent_cid:null,position:2,expanded:!1,orientation:"portrait",width:l,height:M,bgcolor:"#fff",screen_glue_cid:D[0].cid,project_meta_cid:e.cid})],se={device:y,model:w,name:o,width:l},{itemList:ne,extraInfo:_e}=Fn({hasNavBar:!0,...se}),{itemList:be,extraInfo:ve}=Fn({hasNavBar:!1,...se}),xe=[createScreenObject(K[0].cid,[createScreenStateObject({cid:getRandomScreenStateCid(),mtime:r,name:T("s_state")+" 1",position:1,timestamp:r,..._e},ne,e.type)]),createScreenObject(K[1].cid,[createScreenStateObject({cid:getRandomScreenStateCid(),mtime:r,name:T("s_state")+" 1",position:1,timestamp:r,...ve},be,e.type)])];return{screenGlueList:D,screenMetaList:K,screenObjectList:xe,itemListSecondScreen:be,extraInfoSecondScreen:ve}},Fn=e=>{let{hasNavBar:t,device:o,model:r,name:l,width:M}=e;const y=Oi.has(o),w=Ai.has(r),D=[],K={hh:0,fh:0};if(y){const{itemList:se,extraInfo:ne}=ji({name:l,width:M,device:o,model:r,hasNavBar:t});if(D.push(...se),Object.assign(K,ne),w){const{itemList:_e,extraInfo:be}=Ri({width:M,model:r});D.push(..._e),Object.assign(K,be)}}return{itemList:D,extraInfo:K}},Ri=e=>{let{width:t,model:o}=e;const[r,l,M,y]=xi[o],w=getLocalTimestamp(),D=Ln.has(o)?15:34,K=Ln.has(o)?0:1;return{extraInfo:{fh:D},itemList:[{cid:getRandomItemCid(),name:"rounded_rect",mtime:w,display_name:T("i_tab_bar"),background:[K,4177066239],width:t,left:0,top:y,height:D,border:[1,HEX8NUMBER_TRANSPARENT,1,"0"],v:!0},{cid:getRandomItemCid(),name:"rounded_rect",mtime:w,display_name:T("i_rounded_rect"),border:[0,HEX8NUMBER_TRANSPARENT,0,"0"],border_radius:"3",background:[1,255],top:r,left:l,width:M,height:5,v:!0}]}},ji=e=>{let{name:t,width:o,device:r,model:l,hasNavBar:M=!1}=e;const y=r==="android"&&l==="Huawei_p40"?"android_status_bar":l==="iphone_12_pro"||l==="iphone_13_pro"||l==="iphone_14_pro"||l==="iphone_x"||l==="iphone_xs_max"||l==="iphone_11_pro"||l==="iphone_11_pro_max"||l==="iphone_12_pro_max"||l==="iphone_13_pro_max"||l==="iphone_14_pro_max"||r==="android"?"iphone_x_status_bar":r==="iphone"||r==="ipad"?"ios_status_bar":null,{statusBarHeight:w,navBarHeight:D}=Bi(r,l),K=getLocalTimestamp(),se={};return r==="android"&&l==="Huawei_p40"&&Object.assign(se,{tc:"rgba(16, 16, 16, 1)",background:[1,4177066239]}),{extraInfo:{hh:w+(M?D:0)},itemList:[{cid:getRandomItemCid(),name:y,mtime:K,display_name:T("i_"+y),left:0,top:0,width:o,height:w,v:!0,...se},M&&{cid:getRandomItemCid(),name:"nav_bar",mtime:K,display_name:T("i_nav_bar"),left:0,top:w,height:D,text:t,width:o,v:!0}].filter(Boolean)}},Li=C(v),Un=e=>({cid:e.cid,mtime:e.mtime,name:e.name,ttag:e.ttag||Li,type:e.type,user_id:e.user_id,user_name:e.user_name,ctime:e.ctime,width:e.width,height:e.height,is_single_state:e.is_single_state,panel_screen_meta_cid:e.panel_screen_meta_cid,project_meta_cid:e.project_meta_cid}),To=(e,t)=>{t(e.cid,CID_SCREEN_GLUE),e.panel_screen_meta_cid&&t(e.panel_screen_meta_cid,CID_REF_SCREEN_META),t(e.project_meta_cid,CID_REF_PROJECT_META)},Oo=(e,t)=>(e=Un(e),e.cid=t(e.cid,CID_SCREEN_GLUE),e.panel_screen_meta_cid&&(e.panel_screen_meta_cid=t(e.panel_screen_meta_cid,CID_REF_SCREEN_META)),e.project_meta_cid=t(e.project_meta_cid,CID_REF_PROJECT_META),e),Fi=C(v),Nn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,ttag:e.ttag||Fi,type:e.type,user_id:e.user_id,user_name:e.user_name,ctime:e.ctime,width:e.width,height:e.height,is_single_state:e.is_single_state,panel_screen_meta_cid:e.panel_screen_meta_cid,screen_glue_cid:e.screen_glue_cid,project_meta_cid:e.project_meta_cid}),Ao=(e,t)=>{t(e.cid,CID_SCREEN_GLUE),t(e.screen_glue_cid,CID_REF_SCREEN_GLUE),t(e.project_meta_cid,CID_REF_PROJECT_META)},xo=(e,t)=>(e=Nn(e),e.cid=t(e.cid,CID_SCREEN_GLUE),e.screen_glue_cid=t(e.screen_glue_cid,CID_REF_SCREEN_GLUE),e.project_meta_cid=t(e.project_meta_cid,CID_REF_PROJECT_META),e),Do=(e,t)=>{let{name:o,mtime:r,width:l,height:M,locale:y}=t;const w=[filterEntryScreenGlue({cid:getRandomScreenGlueCid(),mtime:r,name:o,type:SCREEN_GLUE_TYPE.PROJECT_MAIN,ctime:r,width:l,height:M,project_meta_cid:e.cid})],D=[filterEntryScreenMeta({cid:getRandomScreenMetaCid(),mtime:r,name:T("s_home"),parent_cid:null,position:1,expanded:!1,orientation:"portrait",width:l,height:M,bgcolor:"#fff",screen_glue_cid:w[0].cid,project_meta_cid:e.cid})],K=[createScreenObjectWithDefaultState(D[0].cid,y)];return{screenGlueList:w,screenMetaList:D,screenObjectList:K}},Ui=C(v),zn=e=>({cid:e.cid,mtime:e.mtime,ttag:e.ttag||Ui,type:e.type,ctime:e.ctime,project_meta_cid:e.project_meta_cid}),Io=(e,t)=>{t(e.cid,CID_SCREEN_GLUE),t(e.project_meta_cid,CID_REF_PROJECT_META)},Bo=(e,t)=>(e=zn(e),e.cid=t(e.cid,CID_SCREEN_GLUE),e.project_meta_cid=t(e.project_meta_cid,CID_REF_PROJECT_META),e),Gn=e=>({cid:e.cid,mtime:e.mtime,screen_glue_cid:e.screen_glue_cid,project_meta_cid:e.project_meta_cid}),Ro=(e,t)=>{t(e.cid,CID_SCREEN_META),t(e.screen_glue_cid,CID_REF_SCREEN_GLUE),t(e.project_meta_cid,CID_REF_PROJECT_META)},jo=(e,t)=>(e=Gn(e),e.cid=t(e.cid,CID_SCREEN_META),e.screen_glue_cid=t(e.screen_glue_cid,CID_REF_SCREEN_GLUE),e.project_meta_cid=t(e.project_meta_cid,CID_REF_PROJECT_META),e),Lo=(e,t)=>{let{mtime:o,locale:r}=t;const l=[filterEntryScreenGlue({cid:getRandomScreenGlueCid(),mtime:o,type:SCREEN_GLUE_TYPE.PROJECT_MAIN,ctime:o,project_meta_cid:e.cid})],M=[filterEntryScreenMeta({cid:getRandomScreenMetaCid(),mtime:o,screen_glue_cid:l[0].cid,project_meta_cid:e.cid})],y=[createScreenObjectWithDefaultState(M[0].cid,r)];return{screenGlueList:l,screenMetaList:M,screenObjectList:y}},Ni=C(v),Kn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,ttag:e.ttag||Ni,type:e.type,user_id:e.user_id,user_name:e.user_name,ctime:e.ctime,project_meta_cid:e.project_meta_cid}),Fo=(e,t)=>{},Uo=(e,t)=>(e=Kn(e),e),zi=C(v),Wn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,ttag:e.ttag||zi,type:e.type,user_id:e.user_id,user_name:e.user_name,ctime:e.ctime,screen_glue_cid:e.screen_glue_cid,project_meta_cid:e.project_meta_cid}),No=(e,t)=>{},zo=(e,t)=>(e=Wn(e),e),Go=(e,t)=>{let{name:o,mtime:r,width:l,height:M,device:y,model:w}=t;const D=[filterEntryScreenGlue({cid:getRandomScreenGlueCid(),mtime:r,name:o,type:SCREEN_GLUE_TYPE.PROJECT_MAIN,ctime:r,width:l,height:M,project_meta_cid:e.cid}),filterEntryScreenGlue({cid:getRandomScreenGlueCid(),mtime:r,name:o,type:SCREEN_GLUE_TYPE.PROJECT_TRASHCAN,ctime:r,width:l,height:M,project_meta_cid:e.cid})],K=[filterEntryScreenMeta({cid:getRandomScreenMetaCid(),mtime:r,name:"page_list",screen_glue_cid:D[0].cid,project_meta_cid:e.cid}),filterEntryScreenMeta({cid:getRandomScreenMetaCid(),mtime:r,name:"widget_items",screen_glue_cid:D[0].cid,project_meta_cid:e.cid}),filterEntryScreenMeta({cid:getRandomScreenMetaCid(),mtime:r,name:"comment_items",screen_glue_cid:D[0].cid,project_meta_cid:e.cid})],ne=[{cid:getRandomItemCid("pg"),type:"Page",name:"\u9ED8\u8BA4\u5206\u9875",isDefault:!0,ctime:getLocalTimestamp(),sketchObjectID:"",z:0}],_e=[],be=[];return{screenGlueList:D,screenMetaList:K,screenObjectList:[createScreenObject(K[0].cid,[createScreenStateObject({cid:getRandomScreenStateCid(),mtime:r,timestamp:r},ne,e.type)]),createScreenObject(K[1].cid,[createScreenStateObject({cid:getRandomScreenStateCid(),mtime:r,timestamp:r},_e,e.type)]),createScreenObject(K[2].cid,[createScreenStateObject({cid:getRandomScreenStateCid(),mtime:r,timestamp:r},be,e.type)])]}},Hn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,position:e.position,theme:e.theme,strokeTheme:e.strokeTheme,nodeTheme:e.nodeTheme,fh:e.fh,hh:e.hh,timestamp:e.timestamp}),Ko=(e,t)=>{t(e.cid,CID_SCREEN_STATE)},Wo=(e,t)=>(e=Hn(e),e.cid=t(e.cid,CID_SCREEN_STATE),e),Gi=e=>({cid:e.cid,type:e.type,mtime:e.mtime,TID:e.TID,name:e.name,rect:e.rect,lineWidth:e.lineWidth,globalAlpha:e.globalAlpha,dash:e.dash,strokeStyle:e.strokeStyle,fillStyle:e.fillStyle,font:e.font,text:e.text,textRect:e.textRect,locked:e.locked,zIndex:e.zIndex,data:e.data,from:e.from,to:e.to,controlPoints:e.controlPoints,fromArrow:e.fromArrow,toArrow:e.toArrow}),Ki=e=>({cid:e.cid,type:e.type,mtime:e.mtime,TID:e.TID,name:e.name,rect:e.rect,lineWidth:e.lineWidth,globalAlpha:e.globalAlpha,dash:e.dash,strokeStyle:e.strokeStyle,fillStyle:e.fillStyle,font:e.font,text:e.text,textRect:e.textRect,locked:e.locked,zIndex:e.zIndex,data:e.data,rotate:e.rotate,borderRadius:e.borderRadius,image:e.image,lastImage:e.lastImage,imgNaturalWidth:e.imgNaturalWidth,imgNaturalHeight:e.imgNaturalHeight,imockImg:e.imockImg,img:e.img,anchors:e.anchors,rotatedAnchors:e.rotatedAnchors,hideAnchor:e.hideAnchor,hideSizeCP:e.hideSizeCP}),Ho=536870911,Wi=e=>{switch(e.type){case"Line":return Gi(e);case"Node":return Ki(e)}throw new Error("unexpected data type from: "+JSON.stringify(e))},Vo=(e,t)=>{const{cid:o,type:r,from:l,to:M,controlPoints:y}=e;t(o,CID_ITEM),r==="Line"&&(l&&t(l.id,CID_REF_ITEM),M&&t(M.id,CID_REF_ITEM),y&&y.forEach(w=>t(w.id,CID_REF_ITEM)))},Jo=(e,t)=>{e=filterEntry(e);const{cid:o,type:r,from:l,to:M,controlPoints:y}=e;return e.cid=t(o,CID_ITEM),r==="Line"&&(l&&(e.from.id=t(l.id,CID_REF_ITEM)),M&&(e.to.id=t(M.id,CID_REF_ITEM)),y&&(e.controlPoints=y.map(w=>({...w,id:t(w.id,CID_REF_ITEM)})))),e},Yo=(e,t)=>{e.image&&t(e.image),e.lastImage&&t(e.lastImage),e.imockImg&&t(e.imockImg),e.img&&t(e.img)},Vn=e=>({cid:e.cid,mtime:e.mtime,name:e.name,position:e.position}),Zo=(e,t)=>{t(e.cid,CID_SCREEN_STATE)},Xo=(e,t)=>(e=Vn(e),e.cid=t(e.cid,CID_SCREEN_STATE),e),Hi=e=>({cid:e.cid,mtime:e.mtime,name:e.name,theme:e.theme,backgroundColor:e.backgroundColor}),Vi=e=>({cid:e.cid,mtime:e.mtime,name:e.name,parentCid:e.parentCid,expanded:e.expanded,width:e.width,height:e.height,placement:e.placement,order:e.order,background_color:e.background_color,border_color:e.border_color,border_width:e.border_width,border_style:e.border_style,text:e.text,font_size:e.font_size,font_weight:e.font_weight,font_family:e.font_family,font_bold:e.font_bold,font_italic:e.font_italic,font_underline:e.font_underline,font_line_through:e.font_line_through,font_color:e.font_color,link:e.link,link_desc:e.link_desc,img_path:e.img_path,img_width:e.img_width,img_height:e.img_height}),Ji=e=>{switch(e.name){case"mindConfigNode":return Hi(e);case"mindNode":return Vi(e)}throw new Error("unexpected data name from: "+JSON.stringify(e))},$o=(e,t)=>{const{cid:o,parentCid:r}=e;t(o,CID_ITEM),r&&t(r,CID_ITEM_GROUP)},Qo=(e,t)=>{e=filterEntry(e);const{cid:o,parentCid:r}=e;return e.cid=t(o,CID_ITEM),r&&(e.parentCid=t(r,CID_ITEM_GROUP)),e},qo=(e,t)=>{e.img_path&&t(e.img_path)},Jn=e=>({cid:e.cid,mtime:e.mtime,name:e.name}),ec=(e,t)=>{},tc=(e,t)=>(e=Jn(e),e),Yi=e=>({cid:e.cid,type:e.type,mtime:e.mtime,isStraight:e.isStraight,fromCid:e.fromCid,fromDirection:e.fromDirection,startPoint:e.startPoint,toCid:e.toCid,toDirection:e.toDirection,endPoint:e.endPoint,dPathList:e.dPathList,lineStyle:e.lineStyle,comment:e.comment,commentStyle:e.commentStyle,x:e.x,y:e.y,z:e.z,width:e.width,height:e.height,pageCid:e.pageCid,groupCid:e.groupCid,name:e.name}),Zi=e=>({cid:e.cid,type:e.type,mtime:e.mtime,width:e.width,height:e.height,initialHeight:e.initialHeight,initialWidth:e.initialWidth,layup:e.layup,isEditing:e.isEditing,x:e.x,y:e.y,z:e.z,backgroundColor:e.backgroundColor,rawContent:e.rawContent,pageCid:e.pageCid,groupCid:e.groupCid,noteStyle:e.noteStyle,name:e.name}),Xi=e=>({cid:e.cid,type:e.type,mtime:e.mtime,name:e.name,isDefault:e.isDefault,sketchObjectID:e.sketchObjectID,ctime:e.ctime,etime:e.etime,z:e.z}),$i=e=>({cid:e.cid,type:e.type,mtime:e.mtime,name:e.name,isDefault:e.isDefault,pageCid:e.pageCid,pageSketchObjectID:e.pageSketchObjectID,sketchObjectID:e.sketchObjectID,z:e.z,ctime:e.ctime}),Qi=e=>({cid:e.cid,type:e.type,mtime:e.mtime,name:e.name,sketchObjectID:e.sketchObjectID,pageCid:e.pageCid,pageSketchObjectID:e.pageSketchObjectID,groupCid:e.groupCid,ctime:e.ctime,x:e.x,y:e.y,z:e.z,width:e.width,height:e.height,imageUrl:e.imageUrl,sliceUrl:e.sliceUrl,statusCid:e.statusCid,statusIndex:e.statusIndex,isActivedInStatus:e.isActivedInStatus,resource_type:e.resource_type,original_resource_type:e.original_resource_type}),qi=e=>({cid:e.cid,type:e.type,mtime:e.mtime,isEditing:e.isEditing,no:e.no,rawContent:e.rawContent,recordList:e.recordList,rect:e.rect,status:e.status,vec2:e.vec2,x:e.x,y:e.y,z:e.z,width:e.width,height:e.height,artboardCid:e.artboardCid,artboardVec2:e.artboardVec2,pageCid:e.pageCid,groupCid:e.groupCid}),er=e=>({cid:e.cid,type:e.type,mtime:e.mtime,commentCid:e.commentCid,content:e.content,isEditing:e.isEditing,cTime:e.cTime,mTime:e.mTime,user:e.user,replyUser:e.replyUser}),tr=e=>({cid:e.cid,type:e.type,mtime:e.mtime,layup:e.layup,iconName:e.iconName,x:e.x,y:e.y,z:e.z,width:e.width,height:e.height,complexRect:e.complexRect,pageCid:e.pageCid,groupCid:e.groupCid,name:e.name}),nr=e=>{switch(e.type){case"AboardLine":return Yi(e);case"Note":return Zi(e);case"Page":return Xi(e);case"Group":return $i(e);case"AboardsRef":return Qi(e);case"Comment":return qi(e);case"CommentRecord":return er(e);case"Stamp":return tr(e)}throw new Error("unexpected data type from: "+JSON.stringify(e))},ir=e=>{switch(e){case j.DESIGN_DRAFT:return{filterEntryProjectMeta:N,filterEntryScreenGlue:Ae,filterEntryScreenMeta:Ee,filterEntryScreenState:Be,filterEntryItem:Ti};case j.PROTOTYPE:case X:return{filterEntryProjectMeta:N,filterEntryScreenGlue:V,filterEntryScreenMeta:Fe,filterEntryScreenState:Te,filterEntryItem:Y};case j.FLOW_CHART:return{filterEntryProjectMeta:N,filterEntryScreenGlue:Un,filterEntryScreenMeta:Nn,filterEntryScreenState:Hn,filterEntryItem:Wi};case j.MIND_MAP:return{filterEntryProjectMeta:N,filterEntryScreenGlue:zn,filterEntryScreenMeta:Gn,filterEntryScreenState:Vn,filterEntryItem:Ji};case j.ABOARD:return{filterEntryProjectMeta:N,filterEntryScreenGlue:Kn,filterEntryScreenMeta:Wn,filterEntryScreenState:Jn,filterEntryItem:nr}}throw new Error("unexpected projectMetaType: "+e)},nc=e=>{switch(e){case PROJECT_META_TYPE.DESIGN_DRAFT:return{collectCidProjectMeta,collectCidScreenGlue:collectCidScreenGlueDesignDraft,collectCidScreenMeta:collectCidScreenMetaDesignDraft,collectCidScreenState:collectCidScreenStateDesignDraft,collectCidItem:collectCidItemDesignDraft};case PROJECT_META_TYPE.PROTOTYPE:case PROJECT_META_TYPE_PROTO2:return{collectCidProjectMeta,collectCidScreenGlue:collectCidScreenGluePrototype,collectCidScreenMeta:collectCidScreenMetaPrototype,collectCidScreenState:collectCidScreenStatePrototype,collectCidItem:collectCidItemPrototype};case PROJECT_META_TYPE.FLOW_CHART:return{collectCidProjectMeta,collectCidScreenGlue:collectCidScreenGlueFlowChart,collectCidScreenMeta:collectCidScreenMetaFlowChart,collectCidScreenState:collectCidScreenStateFlowChart,collectCidItem:collectCidItemFlowChart};case PROJECT_META_TYPE.MIND_MAP:return{collectCidProjectMeta,collectCidScreenGlue:collectCidScreenGlueMindMap,collectCidScreenMeta:collectCidScreenMetaMindMap,collectCidScreenState:collectCidScreenStateMindMap,collectCidItem:collectCidItemMindMap};case PROJECT_META_TYPE.ABOARD:return{collectCidProjectMeta,collectCidScreenGlue:collectCidScreenGlueAboard,collectCidScreenMeta:collectCidScreenMetaAboard,collectCidScreenState:collectCidScreenStateAboard,collectCidItem:collectCidItemAboard}}throw new Error("unexpected projectMetaType: "+e)},ic=e=>{switch(e){case PROJECT_META_TYPE.DESIGN_DRAFT:return{remapCidProjectMeta,remapCidScreenGlue:remapCidScreenGlueDesignDraft,remapCidScreenMeta:remapCidScreenMetaDesignDraft,remapCidScreenState:remapCidScreenStateDesignDraft,remapCidItem:remapCidItemDesignDraft};case PROJECT_META_TYPE.PROTOTYPE:case PROJECT_META_TYPE_PROTO2:return{remapCidProjectMeta,remapCidScreenGlue:remapCidScreenGluePrototype,remapCidScreenMeta:remapCidScreenMetaPrototype,remapCidScreenState:remapCidScreenStatePrototype,remapCidItem:remapCidItemPrototype};case PROJECT_META_TYPE.FLOW_CHART:return{remapCidProjectMeta,remapCidScreenGlue:remapCidScreenGlueFlowChart,remapCidScreenMeta:remapCidScreenMetaFlowChart,remapCidScreenState:remapCidScreenStateFlowChart,remapCidItem:remapCidItemFlowChart};case PROJECT_META_TYPE.MIND_MAP:return{remapCidProjectMeta,remapCidScreenGlue:remapCidScreenGlueMindMap,remapCidScreenMeta:remapCidScreenMetaMindMap,remapCidScreenState:remapCidScreenStateMindMap,remapCidItem:remapCidItemMindMap};case PROJECT_META_TYPE.ABOARD:return{remapCidProjectMeta,remapCidScreenGlue:remapCidScreenGlueAboard,remapCidScreenMeta:remapCidScreenMetaAboard,remapCidScreenState:remapCidScreenStateAboard,remapCidItem:remapCidItemAboard}}throw new Error("unexpected projectMetaType: "+e)},rc=e=>{switch(e){case PROJECT_META_TYPE.DESIGN_DRAFT:case PROJECT_META_TYPE.MIND_MAP:case PROJECT_META_TYPE.FLOW_CHART:case PROJECT_META_TYPE.ABOARD:return{};case PROJECT_META_TYPE.PROTOTYPE:case PROJECT_META_TYPE_PROTO2:return{MAX_Z:MAX_Z_PROTOTYPE,STICKY_Z:STICKY_Z_PROTOTYPE}}throw new Error("unexpected projectMetaType: "+e)},oc=e=>{switch(e){case PROJECT_META_TYPE.DESIGN_DRAFT:return createPresetProjectMetaDataDesignDraft;case PROJECT_META_TYPE.PROTOTYPE:case PROJECT_META_TYPE_PROTO2:return createPresetProjectMetaDataProtoType;case PROJECT_META_TYPE.FLOW_CHART:return createPresetProjectMetaDataFlowChart;case PROJECT_META_TYPE.MIND_MAP:return createPresetProjectMetaDataMindMap;case PROJECT_META_TYPE.ABOARD:return createPresetProjectMetaDataAboard}},cc=e=>{switch(e){case PROJECT_META_TYPE.PROTOTYPE:case PROJECT_META_TYPE_PROTO2:return collectAssetUrlPrototype;case PROJECT_META_TYPE.FLOW_CHART:return collectAssetUrlFlowChart;case PROJECT_META_TYPE.MIND_MAP:return collectAssetUrlMindMap;case PROJECT_META_TYPE.ABOARD:return collectAssetUrlAboard;default:throw new Error("unexpected projectMetaType: "+e)}},tn="v1",Yn="screen",Zn="screen-patch",Xn=C({PB:tn,PBT:Yn}),rr=C({PB:tn,PBT:Zn}),or="data",cr="itemList",$n=function(e,t){return t===void 0&&(t=[]),{ttag:Xn,cid:e,stateList:t}},_c=function(e,t,o){o===void 0&&(o=[]),SET_LOCALE(t);const r=getRandomScreenStateCid();return{ttag:Xn,cid:e,stateList:[{cid:r,data:{cid:r,name:T("s_page_1_state"),mtime:getLocalTimestamp(),fh:0,hh:0,position:0},itemList:o}]}},Qn=function(e,t,o){e===void 0&&(e={}),t===void 0&&(t=[]);const{filterEntryScreenState:r,filterEntryItem:l}=ir(o);return{cid:e.cid,data:r(e),itemList:t.map(l)}},qn=e=>{let{ttag:t}=e;const{PB:o,PBT:r}=h(t);if(o!==tn||r!==Yn)throw new Error("[ScreenObject] invalid ttag: "+t)},mc=function(e,t){return t===void 0&&(t=[]),{ttag:rr,cid:e,statePatchList:t}},sr=e=>{let{ttag:t}=e;const{PB:o,PBT:r}=h(t);if(o!==tn||r!==Zn)throw new Error("[ScreenPatchObject] invalid ttag: "+t)},lr=e=>({screenMetaCid:e,dataMap:{},itemListMap:{}}),pc=e=>{const{dataMap:t,itemListMap:o}=e;if(!isCompactArrayShallowEqual(Object.keys(t),Object.keys(o)))throw new Error("[verifyScreenRuntimeState] stateCid mismatch")},_r=e=>{const{cid:t,stateList:o}=e,r=lr(t);for(const{cid:l,data:M,itemList:y}of o)r.dataMap[l]=M,r.itemListMap[l]=y;return r},mr=(e,t)=>{const{screenMetaCid:o,dataMap:r,itemListMap:l}=e,M=[];for(const y of Object.keys(r)){const w=r[y],D=l[y];M.push(Qn(w,D,t))}return $n(o,M)};var nn=n(93834);const It="cid",it="mtime",pr=1,Sn=(e,t)=>e[it]!==t[it],ar=(e,t)=>e[it]>=t[it],ur=(e,t)=>e[it]>t[it],dr=(e,t)=>e[it]<t[it]?{...e,[it]:t[it]+pr}:e,ei=(e,t)=>{for(let o=0,r=t.length;o<r;o++){const l=t[o],M=l[It],y=e.get(M);if(y===void 0)return!0;if(Sn(y,l))return!0;e.delete(M)}return!!e.size},ti=(e,t)=>{let o=0;for(let r=0,l=t.length;r<l;r++){const M=t[r],y=M[It],w=e.get(y);(w===void 0||Sn(w,M))&&o++,e.delete(y)}return o+=e.size,o},ni=(e,t)=>{const o=[],r=[];for(let l=0,M=t.length;l<M;l++){const y=t[l],w=y[It],D=e.get(w);D===void 0?o.push({[It]:w,[it]:y[it]}):Sn(D,y)&&r.push(dr(D,y)),e.delete(w)}return e.forEach(l=>{r.push(l)}),{deleteList:o,updateList:r}},vn=(e,t,o,r)=>{let l=!1;const M=e.reduce(Wt,new Map),y=t.reduce(Wt,new Map);for(const w of o){const D=w[It],K=M.get(D);if(K!==void 0&&ar(K,w)){r(void 0,w),l=!0;continue}const se=y.get(D);if(se!==void 0&&(y.delete(D),ur(se,w))){r(se,w),l=!0;continue}r(w,w)}return y.forEach(w=>{r(w,void 0),l=!0}),l},Wt=(e,t)=>e.set(t[It],t),ac=(e,t)=>ei(new Map(Object.entries(e)),Object.values(t)),uc=(e,t)=>ti(new Map(Object.entries(e)),Object.values(t)),dc=(e,t)=>ni(new Map(Object.entries(e)),Object.values(t)),hc=(e,t)=>{let{deleteList:o,updateList:r}=t;const l={};return vn(o,r,Object.values(e),(y,w)=>{y!==void 0&&(l[y[It]]=y)})?l:e},fc=(e,t)=>ei(e.reduce(Wt,new Map),t),gc=(e,t)=>ti(e.reduce(Wt,new Map),t),yc=(e,t)=>ni(e.reduce(Wt,new Map),t),hr=(e,t)=>{let{deleteList:o,updateList:r}=t;const l=[];return vn(o,r,e,(y,w)=>{y!==void 0&&l.push(y)})?l:e},Ec=(e,t)=>{if(e===void 0||t===void 0||e.dataMap!==t.dataMap&&hasObjectPatch(e.dataMap,t.dataMap))return!0;if(e.itemListMap!==t.itemListMap){const o=new Set([...Object.keys(e.itemListMap),...Object.keys(t.itemListMap)]);for(const r of o){const l=e.itemListMap[r]||[],M=t.itemListMap[r]||[];if(e.dataMap[r]!==void 0&&hasArrayWithKeyPatch(l,M))return!0}}return!1},bc=(e,t)=>{if(e===void 0)return 1;if(t===void 0)return Object.keys(e.dataMap).length+Object.keys(e.itemListMap).length;let o=0;if(e.dataMap!==t.dataMap&&(o+=countObjectPatch(e.dataMap,t.dataMap)),e.itemListMap!==t.itemListMap){const r=new Set([...Object.keys(e.itemListMap),...Object.keys(t.itemListMap)]);for(const l of r){const M=e.itemListMap[l]||[],y=t.itemListMap[l]||[];e.dataMap[l]!==void 0&&(o+=countArrayWithKeyPatch(M,y))}}return o},kc=function(e,t){t===void 0&&(t=fr);const o=[];if(e.dataMap!==t.dataMap){const{deleteList:r,updateList:l}=generateObjectPatch(e.dataMap,t.dataMap);(r.length||l.length)&&o.push({type:PB_PATCH_SCREEN_STATE_DATA,deleteList:r,updateList:l})}if(e.itemListMap!==t.itemListMap){const r=new Set([...Object.keys(e.itemListMap),...Object.keys(t.itemListMap)]);for(const l of r){const M=e.itemListMap[l]||[],y=t.itemListMap[l]||[];if(e.dataMap[l]===void 0)continue;const{deleteList:w,updateList:D}=generateArrayWithKeyPatch(M,y);(w.length||D.length)&&o.push({type:PB_PATCH_SCREEN_STATE_ITEM_LIST,stateCid:l,deleteList:w,updateList:D})}}return o},fr={screenMetaCid:void 0,dataMap:{},itemListMap:{}},gr=(e,t)=>{if(t.length===0)return e;let{dataMap:o,itemListMap:r}=e;for(const{type:l,stateCid:M,deleteList:y,updateList:w}of t)switch(l){case or:{const D=o,K={};o=vn(y,w,Object.values(D),(ne,_e)=>{ne===void 0?r=(0,nn.i7)(r,_e.cid):(K[ne.cid]=ne,r[ne.cid]===void 0&&(r[ne.cid]=[]))})?K:D;break}case cr:{if(o[M]===void 0)break;const D=r[M]||[],K=hr(D,{deleteList:y,updateList:w});r=(0,nn.iA)(r,M,K);break}}return e=(0,nn.iA)(e,"dataMap",o),e=(0,nn.iA)(e,"itemListMap",r),e},ii=function(e,t,o){if(t===void 0&&(t=[]),qn(e),t.length===0)return e;let r=_r(e);for(const l of t){if(sr(l),l.cid!==e.cid)throw new Error("[applyScreenPatchObjectList] unexpected patch cid: "+l.cid+", expect: "+e.cid);r=gr(r,l.statePatchList)}return e=mr(r,o),e},yr=async e=>{let{projectBufferData:t,parseConcatGzipDataToObjectList:o,projectMetaType:r}=e;const l=await o(t);return Er(l,r)},Er=(e,t)=>{const o={},r=M=>{let y=o[M];return y===void 0&&(y=[],o[M]=y),y};return e.forEach(M=>r(M.cid).push(M)),Object.values(o).map(M=>{let[y,...w]=M;return y=ri(y,t),w.length&&(y=ii(y,w,t)),y=ri(y,t),y})},ri=(e,t)=>{qn(e);const o=r=>r.mtime!==void 0?r:{...r,mtime:0};return $n(e.cid,e.stateList.map(r=>Qn(o(r.data),r.itemList.map(o),t)))},Mc=async e=>{let{projectScreenData:t,parseConcatGzipDataToObjectList:o,projectMetaType:r}=e;const[l,...M]=await o(t);return ii(l,M,r)};var br=n(35608),oi=n(30388);const{Blob:rn}=window,kr=e=>e instanceof ArrayBuffer?e:parseBlobAsArrayBuffer(e),wc=async e=>new rn([gzip(new Uint8Array(await parseBlobAsArrayBuffer(new rn([JSON.stringify(e)]))))]),Cc=async e=>JSON.parse(await parseBlobAsText(new rn([gunzip(new Uint8Array(await kr(e)))]))),Mr=e=>{const t=[];let o=0,r=1;for(;r>0;){const l=new br.Inflate;if(l.push(new Uint8Array(e,o)),l.err)throw new Error("[gunzipAsArrayBufferList|pako] errorCode: "+l.err+", message: "+l.msg);t.push(l.result),o+=l.strm.total_in,r=l.strm.avail_in}return t},wr=async e=>{const t=e instanceof ArrayBuffer?e:await(0,oi.H)(e),o=Mr(t),r=[];for(const l of o){const M=await(0,oi.n8)(new rn([l]));for(const y of M.split("\n"))y&&y.length>2&&r.push(JSON.parse(y))}return r},{fetch:on}=window,Pc=async e=>{const t=await on(e,{credentials:"same-origin"});if(!t.ok)throw new Error("[fetchGetHead] failed with "+t.status+": "+e)},Tn=async(e,t)=>{const o=new Error(e);return o.payload={...await t.json().catch(()=>null),status:t.status},o},Cr=async e=>{const t=await on(e,{credentials:"same-origin"});if(!t.ok)throw await Tn("[fetchGetJSON] failed with "+t.status+": "+e,t);return t.json()},Sc=async(e,t)=>{const o=await on(e,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t),credentials:"same-origin"});if(!o.ok)throw await Tn("[fetchPostJSON] failed with "+o.status+": "+e,o);return o.json()},Pr=async(e,t)=>{const o=await on(e,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t),credentials:"same-origin"});if(!o.ok)throw await Tn("[fetchPostBlob] failed with "+o.status+": "+e,o);return o.blob()},Sr=async e=>{let{projectMetaCid:t,projectMetaType:o,screenMetaCidList:r,projectBasicEncryptedPassword:l,accessToken:M=""}=e;if(r.length===0)return[];const y="/project-buffer/"+ie(o)+"/all/"+t+"?password="+l+"&access_token="+M,w=await Pr(y,{localKeyList:r});return await yr({projectBufferData:w,parseConcatGzipDataToObjectList:wr,projectMetaType:o})},Bt=async e=>{let{projectMetaList:t,screenMetaList:o,projectBasicEncryptedPassword:r="",accessToken:l=""}=e;const M=[];for(const y of t){const w=o.filter(K=>K.project_meta_cid===y.cid).map(K=>K.cid);w.length>2048&&console.warn("[fdPSOL] big proj: "+w.length);const D=(0,U.eO)(w,1024);for(const K of D)M.push(...await Sr({projectMetaCid:y.cid,projectMetaType:y.type,screenMetaCidList:K,projectBasicEncryptedPassword:r,accessToken:l}))}return M},vc=async e=>{let{userLocale:t}=e;const{user_combo_groups:o,screen_aligns:r,project_metas:l,screen_glues:M,screen_metas:y}=await fetchGetJSON("/api/library/v3/project_upper/user_combo_groups");console.log("[fdUSG] pm#"+l.length+" sg#"+M.length+" sm#"+y.length+" | ucg#"+o.length+" sa#"+r.length);const w=await Bt({projectMetaList:l,screenMetaList:y});return{userComboGroupList:o,screenAlignList:r,projectMetaList:l,screenGlueList:M,screenMetaList:y,projectScreenObjectList:w}},Tc=async e=>{let{projectBasicCid:t,userLocale:o}=e;const{project_basic:r,screen_aligns:l,project_metas:M,screen_glues:y,screen_metas:w}=await fetchGetJSON("/api/upper/web_v1/basics/"+t);console.log("[fdPB] pm#"+M.length+" sg#"+y.length+" sm#"+w.length+" | sa#"+l.length);const D=await Bt({projectMetaList:M,screenMetaList:w});return{projectBasic:r,screenAlignList:l,projectMetaList:M,screenGlueList:y,screenMetaList:w,projectScreenObjectList:D}},vr=async e=>{let{projectBasicAccessToken:t,projectBasicEncryptedPassword:o="",userLocale:r,projectVersion:l}=e;const{project_basic:M,screen_aligns:y,project_metas:w,screen_glues:D,screen_metas:K}=await Cr("/api/upper/web_v1/basics/"+t+"?password="+o+(l?"&version="+l:"")),se=D.find(be=>be.type===b.PROJECT_TRASHCAN),ne=se?K.filter(be=>be.screen_glue_cid!==se.cid):K;console.log("[fdPB+] pm#"+w.length+" sg#"+D.length+" sm#"+K.length+"/"+ne.length+" | sa#"+y.length);const _e=await Bt({projectMetaList:w,screenMetaList:ne,projectBasicEncryptedPassword:o,accessToken:t});return{projectBasic:M,screenAlignList:y,projectMetaList:w,screenGlueList:D,screenMetaList:ne,projectScreenObjectList:_e}},Oc=async e=>{let{projectBasicAccessToken:t,projectBasicEncryptedPassword:o="",userLocale:r}=e;const{project_basic:l,screen_aligns:M,project_metas:y,screen_glues:w,screen_metas:D}=await fetchGetJSON("/api/upper/web_v1/basics/"+t+"?password="+o);console.log("[fdPBbAT] pm#"+y.length+" sg#"+w.length+" sm#"+D.length+" | sa#"+M.length);const K=await Bt({projectMetaList:y,screenMetaList:D,projectBasicEncryptedPassword:o,accessToken:t});return{projectBasic:l,screenAlignList:M,projectMetaList:y,screenGlueList:w,screenMetaList:D,projectScreenObjectList:K}},Ac=async e=>{let{projectUpperCid:t,isFromIframe:o=!1}=e;const{market_template:r,screen_aligns:l,project_metas:M,screen_glues:y,screen_metas:w}=await fetchGetJSON("/api/community/v1/market_template/"+t+(o?"?is_from_iframe=true":""));console.log("[fdMT] pm#"+M.length+" sg#"+y.length+" sm#"+w.length+" | sa#"+l.length);const D=await Bt({projectMetaList:M,screenMetaList:w});return{projectUpper:r,screenAlignList:l,projectMetaList:M,screenGlueList:y,screenMetaList:w,projectScreenObjectList:D}},xc=async e=>{let{projectUpperCid:t,isFromIframe:o=1}=e;const{data:r,market_template:l,project_metas:M}=await fetchGetJSON("/api/community/v1/market_template/"+t+(o?"?is_from_iframe=true":""));return{screenMetaList:r,projectUpper:l,projectMetaList:M}},Dc=async e=>{let{projectUpperCid:t}=e;const{reviewable_project:o,screen_aligns:r,project_metas:l,screen_glues:M,screen_metas:y}=await fetchGetJSON("/api/community/v1/reviewable_project/"+t);console.log("[fdRP] pm#"+l.length+" sg#"+M.length+" sm#"+y.length+" | sa#"+r.length);const w=await Bt({projectMetaList:l,screenMetaList:y});return{projectUpper:o,screenAlignList:r,projectMetaList:l,screenGlueList:M,screenMetaList:y,projectScreenObjectList:w}},Ic=async e=>{let{projectUpperCid:t}=e;const{reviewable_project:o,screen_aligns:r,project_metas:l}=await fetchGetJSON("/api/community/v1/reviewable_project/"+t);return{projectUpper:o,projectMetaList:l,screenAlignList:r}},Bc=async e=>{let{projectUpperCid:t}=e;const{product:o,screen_aligns:r,project_metas:l,screen_glues:M,screen_metas:y}=await fetchGetJSON("/api/upper/web_v1/product/"+t);console.log("[fdCP] pm#"+l.length+" sg#"+M.length+" sm#"+y.length+" | sa#"+r.length);const w=await Bt({projectMetaList:l,screenMetaList:y});return{projectUpper:o,screenAlignList:r,projectMetaList:l,screenGlueList:M,screenMetaList:y,projectScreenObjectList:w}},Rc=async(e,t)=>{let{teamCid:o,userLocale:r}=e;const{name:l,type:M,attr:y={},device:w,model:D,width:K,height:se,subProject:ne,zboardTag:_e,visibility:be}=t,ve=UPPER_META_PROJECT_BASIC,{userId:xe,upperCid:ze,zboardTabs:We,projectMetaCid:He}=await fetchPostJSON("/project-buffer/"+M+"/check-init/project-upper?upperType="+ve,{presetOption:{locale:r,name:l,type:M,device:w,model:D,width:K,height:se},railsExtra:{team_cid:o,visibility:be,name:l,type:M,attr:y,device:w,model:D,width:K,height:se,subProject:ne,zboardTag:_e}});return{userId:xe,upperCid:ze,upperType:ve,zboardTabs:We,projectMetaCid:He}},jc=async e=>{let{projectBasicCid:t,projectBasicType:o,teamCid:r}=e;const l=UPPER_META_PROJECT_BASIC,{userId:M,upperCid:y,projectMetaCid:w}=await fetchPostJSON("/project-buffer/"+o+"/check-duplicate/project-upper?upperAction=duplicate-project-basic&upperCid="+t,{railsExtra:{team_cid:r}});return{userId:M,upperCid:y,upperType:l,projectMetaCid:w}},Lc=async e=>{let{upperCid:t,projectMetaCid:o,projectMetaType:r,screenGlueCid:l,screenMetaCidList:M,screenGlueCidList:y=[],nextUpperCid:w,nextProjectMetaCid:D,nextScreenGlueCid:K}=e;const{userId:se}=await fetchPostJSON("/project-buffer/"+r+"/check-transfer/screen-meta?upperCid="+t,{projectMetaCid:o,screenGlueCid:l,screenMetaCidList:M,screenGlueCidList:y,nextUpperCid:w,nextProjectMetaCid:D,nextScreenGlueCid:K});return{userId:se,upperCid:t,nextUpperCid:w}},Fc=async e=>{let{encryptedPassword:t,accessToken:o}=e;const{urlHtmlZip:r}=await fetchPostJSON("/nodekiq/build-html-zip",{encryptedPassword:t,accessToken:o});return{urlHtmlZip:r}},Uc=async e=>{let{encryptedPassword:t,accessToken:o}=e;const{urlApk:r}=await fetchPostJSON("/nodekiq/build-apk",{encryptedPassword:t,accessToken:o});return{urlApk:r}};var On=n(73752);const Nc=e=>{let{isVersions:t}=e;return{requestPreviewSetting:si,requestPreviewInitialData:ci,requestProjectFullDataByAccessToken:li,updateProjectBasicsInfo:Ar,requestPreviewInitialData4ReadOnlyV2:Tr}},ci=async e=>{let{projectAccessToken:t,projectEncryptedPassword:o}=e;const r=o?"&password="+o:"";return(0,On.EE)("/api/upper/web_v1/design/readonly_initial?access_token="+t+r)},Tr=async e=>{let{projectAccessToken:t,view_mode:o}=e;return fetchGetJSON("/api/flat/web_v1/preview/initial?access_token="+t+"&view_mode="+o)},si=e=>{let{projectAccessToken:t,password:o}=e;return(0,On.EE)("/api/upper/web_v1/preview/setting?access_token="+t+"&password="+(o||""))},Or=e=>{let{projectAccessToken:t,password:o}=e;return(0,On.EE)("/api/flat/web_v1/preview/setting?access_token="+t+"&password="+(o||""))},li=async e=>{let{projectAccessToken:t,projectEncryptedPassword:o,userLocale:r,projectVersion:l}=e;const M=await vr({projectBasicAccessToken:t,projectBasicEncryptedPassword:o,userLocale:r,projectVersion:l});if(!M)return;const{projectMetaList:[y],screenGlueList:w,screenMetaList:D,projectScreenObjectList:K,projectBasic:se,screenAlignList:ne}=M;return{projectMeta:y,screenGlueList:w,screenMetaList:D,projectScreenObjectList:K,projectBasic:se,screenAlignList:ne}},Ar=(e,t)=>fetchPutJSON("/api/upper/web_v1/basics/"+e,{...t}),zc=(e,t)=>fetchGetJSON("/api/upper/web_v1/basics/auth/"+e+"?password="+t),Gc={requestPreviewSetting:si,requestPreviewSettingV2:Or,requestPreviewInitialData:ci,requestProjectFullDataByAccessToken:li};var xr=n(70103),_i=n(37780),Dr=n(23895),Ir=n(47719),Ze=n(35269);const Br={canUploadToSquare:!1},mi=function(e){e===void 0&&(e="POPUP-HELPER-ROOT");const t=document.createElement("div");t.id=e,document.body.appendChild(t);const o=(0,xr.MT)(Dr.Z);E.render((0,Ze.jsx)(_i.zt,{store:o,children:(0,Ze.jsx)(Ir.Z,{})}),t);const{confirmAsync:r,alertAsync:l,alertAsyncWide:M,alertAsyncBlocked:y,promptGetPasswordAsync:w,loginAsync:D,teamSelectModalAsync:K,sharingAsync:se,chargeAsync:ne,upgradeChatGPTAsync:_e}=Rr(o.dispatch);return{confirmAsync:r,alertAsync:l,alertAsyncWide:M,alertAsyncBlocked:y,promptGetPasswordAsync:w,loginAsync:D,teamSelectModalAsync:K,sharingAsync:se,chargeAsync:ne,upgradeChatGPTAsync:_e,destroy:()=>{E.unmountComponentAtNode(t),t.remove()}}},Rr=e=>({confirmAsync:ne=>{let{className:_e,title:be,desc:ve,isHTML:xe,confirmText:ze,cancelText:We,isClose:He,theme:Qe}=ne;return new Promise(At=>e({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,className:_e,title:be,desc:ve,isHTML:xe,type:"alert",alertType:"confirm",canClose:He!==!1,canCancel:!0,canConfirm:!0,cancelText:We,confirmText:ze,theme:Qe,onCancel:()=>At(!1),onConfirm:()=>At(!0)}}}))},alertAsync:ne=>{let{title:_e,desc:be,isHTML:ve,confirmText:xe}=ne;return new Promise(ze=>e({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:_e,desc:be,isHTML:ve,type:"alert",alertType:"alert",canClose:!0,canCancel:!1,canConfirm:!0,confirmText:xe,onConfirm:()=>ze()}}}))},alertAsyncWide:ne=>{let{title:_e,desc:be,isHTML:ve,confirmText:xe}=ne;return new Promise(ze=>e({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:_e,desc:be,isHTML:ve,type:"functional",alertType:"alert",canClose:!0,canCancel:!1,canConfirm:!0,confirmText:xe,onConfirm:()=>ze()}}}))},alertAsyncBlocked:ne=>{let{title:_e,desc:be,isHTML:ve,confirmText:xe}=ne;return new Promise(ze=>e({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:_e,desc:be,isHTML:ve,type:"alert",alertType:"alert",canClose:!1,canCancel:!1,canConfirm:!0,confirmText:xe,onConfirm:()=>ze()}}}))},promptGetPasswordAsync:(ne,_e)=>new Promise(be=>e({type:"modal:update:state",payload:{previewAuthModal:{isOpen:ne,isWrongPwd:_e,onConfirm:ve=>ve&&be(ve)}}})),loginAsync:ne=>{let{onCancel:_e=Ht,onConfirm:be=Ht,type:ve="signin",source:xe}=ne;return e({type:"modal:update:state",payload:{loginModal:{source:xe,isOpen:!0,type:ve,onCancel:_e,onConfirm:be}}})},teamSelectModalAsync:ne=>{let{projectCid:_e="",onCancel:be=Ht,onConfirm:ve=Ht}=ne;return e({type:"modal:update:state",payload:{teamSelectModal:{isOpen:!0,projectCid:_e,onCancel:be,onConfirm:ve}}})},sharingAsync:ne=>{let{project:_e,theme:be,isGuestMode:ve,screenMetaList:xe=[],onUpdateProject:ze=Ht,extraInfo:We=Br,screenMetaCidToVisit:He,user:Qe}=ne;return e({type:"modal:update:state",payload:{sharingModal:{isOpen:!0,project:_e,theme:be,extraInfo:We,isGuestMode:ve,screenMetaList:xe,onUpdateProject:ze,screenMetaCidToVisit:He,user:Qe}}})},chargeAsync:ne=>e({type:"modal:update:state",payload:{chargeOverlay:{isOpen:!0,...ne}}}),upgradeChatGPTAsync:ne=>e({type:"modal:update:state",payload:{upgradeChatGPTModal:{isOpen:!0,...ne}}})}),Ht=()=>{},Kc=e=>localStorageGetItem(e+"_pwd"),Wc=(e,t)=>localStorageSetItem(e+"_pwd",t),pi=async(e,t)=>{let o;try{o=await checkAuthorization(e,t)}catch(r){o=r}return o},Hc=async e=>{const t=createPopupHelper();let o=!1,r=md5(await t.promptGetPasswordAsync(!0,!1));for((await pi(e,r)).status===403&&(o=!0);o;)r=md5(await t.promptGetPasswordAsync(!0,o)),(await pi(e,r)).status===403?o=!0:o=!1;return t.promptGetPasswordAsync(!1),r},Vc=(e,t,o)=>{if(!e)return!0;if(t){var r;return(o==null||(r=o.permissions.find(M=>M.user_id===e.id))==null?void 0:r.role)===void 0}else return!(e.id===o.owner_id)},jr={api:{}},Lr=e=>{Object.assign(jr,e)};var ai=n(27239),cn=n(85322),ui=n(24011),An=n(95485);const di=async e=>{let{projectMetaCid:t}=e;await(0,An.By)({userId:void 0,flpakKey:t,onTransferError:An.$p,onReadOnlyError:An.Yo,isDummyCmt:!0,__fetchFlpakAsync:a.Ev},void 0)};var Jc=n(35517);const Fr=async e=>{let{projectBasicCid:t,accessToken:o,password:r}=e;try{const{userId:l,flatKey:M}=await fetchGetJSON("/api/flat/web_v1/proj2-preview-info?prj2Cid="+t+"&access_token="+o+"&password="+r);return{userId:l,flatKey:M}}catch(l){await apiErrorModals(l)}},Yc=async e=>{let{projectBasic:t,password:o,accessToken:r}=e;{const l=r||t.access_token,{userId:M,flatKey:y}=await Fr({projectBasicCid:t.cid,accessToken:l,password:o});console.log("[p2edit] uId="+M+" key="+y+" pbCid="+t.cid);const w=!!M,D=w&&!getIsInPreviewViewMode();await initRootSdk({userId:M,flpakKey:y,onTransferError,onReadOnlyError,isAllowDat:w?"RO":!1,isAllowCmt:w,isAllowCur:D,token:l,passwd:o},t)}};var Ur=n(63167);const hi=function(e,t,o){const r=t.getGuidesData()||"[]",l=new Set(JSON.parse(r)),M=new Set,y=new Map;return{checkGuideHasShown:w=>l.has(w),checkGuideToBeShown:w=>M.has(w),getState:()=>({commonGuidesHasShown:Array.from(l),commonGuidesToBeShown:Array.from(M),mountGuidesMap:y}),tryToShowGuide:w=>{var D;if(l.has(w)||!((D=MB)!=null&&(D=D.user)!=null&&D.id))return;const K=document.getElementById("MD_"+w);if(K){K.style.display="block";return}M.add(w),(0,Ur.k)(w,e,o)},markGuideAsRead:w=>{l.add(w),t.setGuidesData(JSON.stringify(Array.from(l)))},batchMarkGuideAsRead:w=>{w.forEach(D=>l.add(D)),t.setGuidesData(JSON.stringify(Array.from(l)))},closeGuide:w=>{const D=document.getElementById("MD_"+w);D&&D.parentNode&&D.parentNode.removeChild(D)},closeAllGuide:()=>{const w=document.getElementById("GUIDES");w&&w.parentNode&&w.parentNode.removeChild(w)},removeGuide:w=>{l.delete(w),t.setGuidesData(JSON.stringify(Array.from(l)))},tryToContinueMountGuide:(w,D)=>{const K=y.get(w);K&&typeof(K==null?void 0:K.handleContinue)=="function"&&K.handleContinue(D)},tryToResizeMountGuide:w=>{const D=y.get(w);D&&typeof(D==null?void 0:D.handleResize)=="function"&&D.handleResize()},tryToCloseMountGuide:w=>{const D=y.get(w);D&&typeof(D==null?void 0:D.handleClose)=="function"&&D.handleClose()},registerMountGuideCallback:(w,D)=>{const K=y.get(w)||{};y.set(w,{...K,...D})},removeMountGuideCallback:(w,D)=>{if(!D){y.delete(w);return}const K=y.get(w)||{};y.set(w,{...K,[D]:void 0})}}},Zc=e=>{let{store:t,commonGuidesData:o,isDesign:r,isPreview:l}=e;MB.commonGuideHelper=hi(t,{getGuidesData:()=>o,setGuidesData:updateUserCommonGuidesData},{isDesign:r,isPreview:l})},Nr=e=>{let{store:t,isDesign:o,isPreview:r}=e;const l={guide:{dashboard_guides:"",workspace_guides:"",square_guides:null,workspace_guides_version:"",default_team_cid:"",root_project_team_cid:"",workspace_guides_2203:"",workspace_guides_2203_version:"",aboard_guides:""},guide_project_template_cid:"",guide_project_template_2203_cid:"",guide_flow_template_cid:"",guide_design_template_cid:"",guide_prototype_template_cid:""},{guide:{workspace_guides:M}}=l;MB.commonGuideHelper=hi(t,{getGuidesData:()=>M,setGuidesData:()=>{}},{isDesign:o,isPreview:r})};var fi=n(68035);const{MB:Ge}=window;Ge.f.inSharing=!0;const Xc=e=>{let{initialData:t,designOptions:o,previewOptions:r,sharing:l,password:M,api:{updateProjectBasicsInfo:y}}=e;const{runnerController:w,messageBucket:D,webpackInterface:K,PreviewApp:se}=createPreviewRelated(getPreviewComponentByOptions(r));return setExternal({api:{updateProjectBasicsInfo:y}}),Object.assign(Ge,{runnerController:w,messageBucket:D,webpackInterface:K,global:{popupHelper:createPopupHelper(),designOptions:o}}),Ge.webpackInterface.store.dispatch({type:"preview:update:state",payload:{previewOptions:r}}),{requestData:async ne=>{let{projectAccessToken:_e,isPasswordRequired:be,projectBasicCid:ve}=ne;const{user:xe,org:ze,preference:We,canEditByCurrentUser:He,project_basic:Qe,project_meta:At,space:bi}=t,Eo=getIsNeedInputPassword(xe,bi,Qe);let ln=loadProjectEncryptedPassword(_e);const bo=await tryCheckAuthorization(_e,ln);if(be&&Eo&&bo.status===403){var ki;Ge==null||(ki=Ge.messageBucket)==null||ki.send("ready"),ln=await checkAuthorizationWithPrompt(_e),saveProjectEncryptedPassword(_e,ln)}try{await requestProjectFullDataFlat4ReadOnly({projectBasic:Qe,password:ln||M,accessToken:_e})}catch(Jt){return setTimeout(()=>{var wi,Ci;return Ge==null||(wi=Ge.messageBucket)==null?void 0:wi.send("mobileLoadProjectError",{errMsg:"\u4EC5\u4F01\u4E1A\u6210\u5458\u53EF\u89C1-"+(Ge!=null&&(Ci=Ge.user)!=null&&Ci.id?"\u5DF2\u767B\u5F55\u4F46\u975E\u4F01\u4E1A\u6210\u5458":"\u672A\u767B\u5F55")})},1e3),crashedPageWithUser(Jt)}Ge.webpackInterface.store.dispatch({type:"entry:preview:update:current:sharing",payload:{sharing:l}}),Ge.webpackInterface.store.dispatch({type:"entry:init:preview:preference",payload:{preference:We||{}}});const ko=He&&(At.is_org_project?!(Qe!=null&&Qe.expired):!(Qe!=null&&Qe.expired)||xe.apps.length<=xe.free_projects_count);Object.assign(Ge,{user:xe||{},canEditByCurrentUser:ko,org:ze||void 0}),Ge.webpackInterface.store.dispatch({type:"entry:state:init"}),hideLoading();let Mi="[]";try{const{guide:Jt}=await requestUserCommonGuidesData();Mi=(Jt==null?void 0:Jt.workspace_guides)||"[]"}catch(Jt){console.error("\u83B7\u53D6 guide_data \u5931\u8D25")}return initCommonGuide({store:Ge.webpackInterface.store,commonGuidesData:Mi,isDesign:!1,isPreview:!0}),{projectAlike:Qe,projectMeta:At,projectShare:l}},renderPreview:(ne,_e,be,ve)=>{const xe=sharingVisibleCrashEffect(ve);if(xe)return xe;const ze=new KeyboardManager;return _jsx(KeyboardManagerContext.Provider,{value:ze,children:_jsx(TooltipsManagerProvider,{children:_jsx(se,{store:K.store,projectAlike:ne,projectMeta:_e,projectShare:ve})})})}}},zr=e=>{let{initialData:t,designOptions:o,previewOptions:r,sharing:l,api:{updateProjectBasicsInfo:M}}=e;const{isMobile:y,isIOSClient:w,isStandAlone:D}=r;(D||w)&&(document.documentElement.style.height="100vh");const{runnerController:K,messageBucket:se,webpackInterface:ne,PreviewApp:_e}=(0,m.o)(f(r));return Lr({api:{updateProjectBasicsInfo:M}}),Object.assign(Ge,{runnerController:K,messageBucket:se,webpackInterface:ne,global:{popupHelper:mi(),designOptions:o}}),Ge.webpackInterface.store.dispatch({type:"preview:update:state",payload:{previewOptions:r}}),{requestData:async be=>{let{projectAccessToken:ve,projectBasicCid:xe}=be;const{user:ze,org:We,preference:He,project_basic:Qe,project_meta:At}=t;return await di({projectMetaCid:At.cid}),Ge.webpackInterface.store.dispatch({type:"preview:set:current-projectShare",payload:{projectShare:l}}),Ge.webpackInterface.store.dispatch({type:"entry:init:preview:preference",payload:{preference:He||{}}}),Object.assign(Ge,{user:ze||{},canEditByCurrentUser:!1,org:We||void 0}),Ge.webpackInterface.store.dispatch({type:"entry:state:init"}),(0,ai.Z)(),{projectAlike:Qe,projectMeta:At}},renderPreview:(be,ve,xe,ze)=>{(0,fi.K)(ze);const We=new cn.Sm,He=new URLSearchParams(location.search),Qe=y?"preview":He.has("inspect")?"inspect":He.has("comment")?"comment":"preview";return(0,Ze.jsx)(cn.XC.Provider,{value:We,children:(0,Ze.jsx)(ui.Z,{children:(0,Ze.jsx)(_e,{store:ne.store,previewMode:Qe,projectAlike:be,projectMeta:ve,projectShare:ze})})})}}},$c=async e=>{let{initialData:t,previewOptions:o,api:r,projectAccessToken:l,projectEncryptedPassword:M,isPasswordRequired:y,$root:w,projectBasicCid:D,sharing:K,password:se}=e;const ne={isDesign:!0,isExperience:!1,isLoggedExperience:!1},{requestData:_e,renderPreview:be}=initPreview({api:r,initialData:t,previewOptions:o,designOptions:ne,sharing:K,password:se}),{projectAlike:ve,projectMeta:xe,projectShare:ze}=await _e({projectAccessToken:l,projectEncryptedPassword:M,isPasswordRequired:y,projectBasicCid:D}),We=location.hash||"",He=We&&We.startsWith("#screen=")&&We.substr(8);ReactDOM.render(be(ve,xe,He,ze),w)},Gr=async e=>{let{initialData:t,previewOptions:o,api:r,projectAccessToken:l,projectEncryptedPassword:M,isPasswordRequired:y,$root:w,projectBasicCid:D,sharing:K}=e;const se={isDesign:!0,isExperience:!1,isLoggedExperience:!1},{requestData:ne,renderPreview:_e}=zr({api:r,initialData:t,previewOptions:o,designOptions:se,sharing:K}),{projectAlike:be,projectMeta:ve}=await ne({projectAccessToken:l,projectEncryptedPassword:M,isPasswordRequired:y,projectBasicCid:D}),xe=location.hash||"",ze=xe&&xe.startsWith("#screen=")&&xe.substr(8);E.render(_e(be,ve,ze),w)};var xn=n(49650),Kr=n(29402),Wr=n(11969),Hr=n(90725),Vr=n(7966),gi=n(444);class Jr extends P.PureComponent{constructor(t){super(t);const{store:o,projectBasic:r,projectMeta:l,isHtmlZip:M}=t,{screenKey:y,canvasKey:w}=(0,gi.Qw)();this.state={visibleIsEmpty:!1};try{const D=(0,gi.FZ)(y);o.dispatch({type:"entry:root-project:readOnly:activate",payload:{projectBasic:r,projectMeta:l,screenCid:D,canvasCid:w,isHtmlZip:M}})}catch(D){this.state={visibleIsEmpty:!0}}}componentDidMount(){this.props.onComponentDidMount()}render(){const{store:t}=this.props;return this.state.visibleIsEmpty?(0,fi.L)():(0,Ze.jsx)(_i.zt,{store:t,children:(0,Ze.jsx)(Vr.Z,{children:(0,Ze.jsx)(Hr.Z,{})})})}}var Yr=n(32380),Qc=n(16426),Zr=n(98388),Xr=function(e){return e[e.Design=0]="Design",e[e.Experience=1]="Experience",e[e.ReadOnly=2]="ReadOnly",e[e.Version=3]="Version",e[e.HTMLZip=4]="HTMLZip",e[e.Community=5]="Community",e}(Xr||{}),$r=n(29184),Qr=n(11230);const qr=e=>{let{initialData:t,designOptions:o,onUpdateAiState:r,global:l,onUpdateSharing:M}=e;const{user:y,org:w,team:D,preference:K,MBServer:se,orgList:ne,user_fcg:_e,org_fcg:be,space:ve,canEditByCurrentUser:xe,solo_org:ze}=t,{currentUser:We,currentOrg:He}=(0,Qr.t)({user:y,org:w});(0,Zr.PX)((0,$r.F)()),Object.assign(MB,{user:We||{},currentOrg:He,canEditByCurrentUser:xe,global:{...l,popupHelper:mi(),experienceLoginModalHelper:Yr.m}}),Object.assign(window,{MBServer:se}),MB.action("current:update:state",{currentOrg:He,currentTeam:D,currentUser:We,orgList:ne,user_fcg:_e,org_fcg:be,currentSpace:ve}),MB.action("update:design:options",{designOptions:o}),y!=null&&y.id&&MB.action("entry:init:preference",{preference:K}),MB.action("entry:init:community:params"),r&&r({user:We,org:He}),M&&M()},qc=async e=>{let{designStore:t}=e,o="[]";try{const{guide:r}=await requestUserCommonGuidesData();o=r==null?void 0:r.workspace_guides}catch(r){console.error("\u83B7\u53D6 guide_data \u5931\u8D25")}await initCommonGuide({store:t,commonGuidesData:o,isDesign:!0,isPreview:!1})},es=async e=>{let{type:t,projectBasicCid:o}=e;switch(t){case DesignType.Design:return requestProjectFullDataFlat(o);case DesignType.Experience:return requestExperienceFullDataFlat(o);default:throw new Error(t+" not found in known design types for "+o)}},eo=e=>{let{designOptions:t,initialData:o,onComponentDidMount:r}=e,l=!1;const M=(0,Wr.t)(MB);return qr({initialData:o,designOptions:t,global:{designOptions:t},onUpdateSharing:()=>{}}),{requestData:async()=>{const{project_basic:y,project_meta:w}=o;return Nr({store:M,isDesign:!0,isPreview:!1}),await di({projectMetaCid:w.cid}),Object.assign(MB,{tag:y==null?void 0:y.version}),MB.action("update:design:options",{designOptions:MB.global.designOptions}),l=!0,{projectAlike:y,projectMeta:w}},renderDesign:y=>{let{projectAlike:w,projectMeta:D}=y;return l?(0,Ze.jsx)(Jr,{store:M,projectBasic:w,projectMeta:D,onComponentDidMount:r,isHtmlZip:!0}):null}}};var to=n(6725),no=n(34788),io=n.n(no);class ro extends P.PureComponent{render(){const{isCollapse:t,renderDesign:o,projectAlike:r,projectMeta:l}=this.props;return(0,Ze.jsx)("div",{ref:M=>this.$element=M,className:io()("mb-design-page",{"is-collapse":t}),children:o({projectAlike:r,projectMeta:l})})}}var oo=n(55042);class co extends P.PureComponent{constructor(t){super(t),(0,xn.Z)(this,"handleWheelChanged",y=>{if(y.deltaX===0)return;const w=document.getElementById("workspace"),D=w.scrollLeft+w.offsetWidth===w.scrollWidth&&y.deltaX>0,K=w.scrollLeft===0&&y.deltaX<0;(D||K)&&y.preventDefault()}),(0,xn.Z)(this,"handleDesignDidMount",()=>{MB.reduxEntry.setEntryMap(oo.T),this.setState({isLoading:!1,isDesignCollapse:!1})}),(0,xn.Z)(this,"keyboardManager",new cn.Sm),this.state={isLoading:!0,isDataLoaded:!1,isDesignCollapse:!0,isPreview:!1,projectAlike:null,projectMeta:null};const{designOptions:o,initialData:r}=t,{requestData:l,renderDesign:M}=eo({initialData:r,designOptions:o,onComponentDidMount:this.handleDesignDidMount});this.requestData=l,this.renderDesign=M}componentDidMount(){const{projectUpperCid:t}=this.props;Promise.all([this.requestData(t)]).then(o=>{let[{projectAlike:r,projectMeta:l}]=o;this.setState({projectAlike:r,projectMeta:l},()=>{this.setState({isDataLoaded:!0})});const M=document.getElementById("workspace");M&&M.addEventListener("wheel",this.handleWheelChanged)}).catch(o=>{})}componentWillUnmount(){const t=document.getElementById("workspace");t&&t.removeEventListener("wheel",this.handleWheelChanged,{capture:!0})}render(){const{isLoading:t,isDataLoaded:o,isDesignCollapse:r,projectAlike:l,projectMeta:M}=this.state,{renderDesign:y}=this;return(0,Ze.jsx)(cn.XC.Provider,{value:this.keyboardManager,children:(0,Ze.jsx)(ui.Z,{children:(0,Ze.jsxs)(to.X,{className:"example-app",children:[o&&(0,Ze.jsx)(ro,{isCollapse:r,projectAlike:l,projectMeta:M,renderDesign:y}),t&&(0,Ze.jsx)(Kr.S6,{className:"mb-loading"})]})})})}}var so=n(92029);const sn="hzv3",lo="pid",_o="pbj",mo="psol",ts="psv2am",ns=()=>isBasicObject(window[TAG_HTML_ZIP_V3]),Vt=()=>(0,so.hK)(window[sn],"missing htmlZipV3 data"),po=async()=>(Vt(),window[sn][lo]),yi=async()=>{Vt();const{project_basic:e,screen_aligns:t,project_metas:o,screen_glues:r,screen_metas:l}=window[sn][_o],M=window[sn][mo];return{projectBasic:e,screenAlignList:t,projectMetaList:o,screenGlueList:r,screenMetaList:l,projectScreenObjectList:M}},is=async()=>(Vt(),{artboards:Object.values(window[TAG_HTML_ZIP_V3][TAG_PROJECT_SKETCH_V2_ARTBOARD_MAP]).map(e=>{let{artboard:t}=e;return t})}),rs=async e=>(Vt(),window[TAG_HTML_ZIP_V3][TAG_PROJECT_SKETCH_V2_ARTBOARD_MAP][e]),os=async()=>{Vt();const{project_share:e}=window[TAG_HTML_ZIP_V3][TAG_PROJECT_BASIC_JSON];return{projectShare:e}},Ei={requestPreviewInitialData:po,requestProjectFullDataByAccessToken:async e=>{let{projectEncryptedPassword:t}=e;const{projectMetaList:[o],screenGlueList:r,screenMetaList:l,projectScreenObjectList:M,projectBasic:y,screenAlignList:w}=await yi(),{password:D}=y;if(D&&t!==D)throw new Error("error password");return{projectMeta:o,screenGlueList:r,screenMetaList:l,projectScreenObjectList:M,projectBasic:y,screenAlignList:w}},fetchDataProjectBasic:yi};var ao=n(61033),uo=n(49373),ho=n(89719),fo=n(89500);n.p="./mb-proto2/";const go=document.getElementById("workspace"),yo=async()=>{var e,t;const o=p({isHTMLZip:!0});(0,c.tq)()&&((e=document.querySelector("body"))==null||e.classList.add("mobile"));let r=await(0,a.vn)();const{projectUpper:l,projectMeta:M}=r;r={...r,projectName:l.name,project_basic:l,project_meta:M};const{sharing:y}=await(0,ho.ec)({project:l}),{projectName:w}=r,{generateLang:D}=await fo.Ar.loadLLG();await D(),document.title=""+(0,uo.FQ)(l.name||l.title),!ENV.IS_ON_PREMISES&&(0,ao.wb)();const{projectAccessToken:K,projectEncryptedPassword:se,isPasswordRequired:ne}=r,_e=(t=new URLSearchParams(location.search))==null?void 0:t.get("view_mode"),be=window.HZv5_PREVIEW_MODE||"";if(_e?_e==="device":be==="device")(0,ai.v)(w),await Gr({initialData:r,previewOptions:o,api:Ei,projectAccessToken:K,projectEncryptedPassword:se,isPasswordRequired:ne,sharing:y,$root:document.getElementById("workspace")});else{const xe={isDesign:!0,isExperience:!1,isLoggedExperience:!1};E.render((0,Ze.jsx)(co,{initialData:r,designOptions:xe,api:Ei,projectAccessToken:K,projectEncryptedPassword:se,isPasswordRequired:ne,sharing:y,isHtmlZip:!0}),go)}};document.addEventListener("DOMContentLoaded",async()=>{await yo()})},23555:(I,F,n)=>{"use strict";n.d(F,{Z:()=>_});var E=n(37780),a=n(77200),P=n(24767);const _=(0,E.$j)(i=>{const S=(0,a.kc)(i),x=(0,a.GP)(i),s=(0,a.Ds)(i),g=(0,a.ts)(i),c=(0,a.Nu)(i),p=(0,a.yT)(i);return{user:g,mode:s,theme:c,previewOptions:x,previewSetting:S,isHiddenToolBar:(0,a.qe)(i),isPanelPreviewMode:p}})(P.Z)},46807:(I,F,n)=>{"use strict";n.d(F,{Z:()=>_});var E=n(37780),a=n(77200),P=n(83610);const _=(0,E.$j)(i=>{const S=(0,a.kc)(i),x=(0,a.GP)(i),s=(0,a.S7)(i),g=(0,a.EB)(i);return{previewOptions:x,previewSetting:S,isCommunityComboPreview:s,isPreviewCombo:g}})(P.Z)},30388:(I,F,n)=>{"use strict";n.d(F,{H:()=>S,n8:()=>_});const{Blob:E,FileReader:a}=window,P=x=>s=>new Promise((g,c)=>{const p=new a;p.addEventListener("error",c),p.addEventListener("load",()=>g(p.result)),p[x](s)}),_=P("readAsText"),i=P("readAsDataURL"),S=P("readAsArrayBuffer")},27444:(I,F,n)=>{"use strict";n.d(F,{Up:()=>B,Uv:()=>p,Zv:()=>P,eO:()=>C,z6:()=>a});const E=(h,v,b)=>{if(h[v]===b)return h;const A=[...h];return A[v]=b,A},a=(h,v)=>v>=0&&v<=h.length-1?[...h.slice(0,v),...h.slice(v+1)]:h,P=(h,v,b)=>[...h.slice(0,v),b,...h.slice(v)],_=(h,v,b)=>b===v?h:b<v?[...h.slice(0,b),...h.slice(b+1,v+1),h[b],...h.slice(v+1)]:[...h.slice(0,v),h[b],...h.slice(v,b),...h.slice(b+1)],i=(h,v)=>[...h,v],S=(h,v)=>[v,...h],x=h=>{if(h.length===0)return h;const v=[...h];return v.pop(),v},s=h=>{if(h.length===0)return h;const v=[...h];return v.shift(),v},g=(h,v)=>v&&v.length?[...h,...v]:h,c=(h,v)=>h.includes(v)?h:[...h,v],p=(h,v)=>{const b=h.indexOf(v);return~b?[...h.slice(0,b),...h.slice(b+1)]:h},f=(h,v,b)=>{const A=h.indexOf(b);return~A?_(h,v,A):h},m=(h,v)=>{const b=h.findIndex(v);return~b?[...h.slice(0,b),...h.slice(b+1)]:h},d=(h,v,b)=>{const A=h.findIndex(v);return~A?_(h,b,A):h},B=(h,v,b)=>{const A=h.findIndex(v);if(!~A||h[A]===b)return h;const j=[...h];return j[A]=b,j},k=(h,v,b)=>{const A=h.findIndex(v);if(!~A)return[...h,b];if(h[A]===b)return h;const j=[...h];return j[A]=b,j},U=(h,v,b)=>h.find(v)===void 0?[...h,b]:h,C=(h,v)=>{const b=[];for(let A=0,j=h.length;A<j;A+=v)b.push(h.slice(A,A+v));return b}},92029:(I,F,n)=>{"use strict";n.d(F,{AY:()=>U,Bk:()=>k,M0:()=>N,Z_:()=>i,_L:()=>g,hK:()=>m});var E=n(53705),a=n(11972);const P=(V,te,fe)=>{throw new Error("[verify|"+V+"]"+(te?" "+te+";":"")+" "+(fe||""))},_=(V,te)=>(fe,Fe)=>{te(fe)||P(V,Fe,"get: "+(0,a.yY)(fe))},i=_("String",E.HD),S=_("Boolean",E.jn),x=_("Truthy",E.fQ),s=_("Number",E.hj),g=_("Integer",E.U),c=_("RegExp",E.Kj),p=_("ArrayBuffer",E.eP),f=_("ObjectAlike",E.$N),m=_("BasicObject",E.i3),d=(V,te,fe)=>{isObjectKey(V,te)||P("ObjectKey",fe,"expect to have key: "+te)},B=(V,te,fe)=>{isObjectContain(V,te)||P("ObjectContain",fe,"expect to contain: "+describe(te))},k=_("Array",E.PH),U=(V,te,fe)=>{(0,E._e)(V,te)||P("ArrayLength",fe,"expect length: "+te+", get: "+((0,E.PH)(V)?V.length:(0,a.yY)(V)))},C=_("Function",E.BV),h=_("PromiseAlike",E.om),v=(V,te,fe)=>{isOneOf(V,te)||P("OneOf",fe,"expect one of: ["+te+"], get: "+describe(V))},b=(V,te)=>{isFunctionThrow(V)||P("DoThrow",te)},A=(V,te)=>{isFunctionThrow(V)&&P("DoNotThrow",te)},j=async(V,te)=>{await isFunctionThrowAsync(V)||P("DoThrowAsync",te)},X=async(V,te)=>{await isFunctionThrowAsync(V)&&P("DoNotThrowAsync",te)},ie=(V,te)=>"\nactual: "+(0,a.yY)(V)+"\nexpect: "+(0,a.yY)(te),Z=(V,te,fe)=>{isStrictEqual(V,te)||P("StrictEqual",fe,ie(V,te))},ee=(V,te,fe)=>{isStrictEqual(V,te)&&P("NotStrictEqual",fe,ie(V,te))},N=function(V,te,fe){fe===void 0&&(fe="should stringify equal"),(0,E.LP)(V,te)||P("StringifyEqual",fe,ie(V,te))},$=function(V,te,fe){fe===void 0&&(fe="should not stringify equal"),isStringifyEqual(V,te)&&P("NotStringifyEqual",fe,ie(V,te))},ye=(V,te,fe)=>{V&&V.includes&&V.includes(te)||P("Includes",fe,"expect "+describe(V)+" to include "+te)},ue=(V,te,fe)=>{V&&V.includes&&!V.includes(te)||P("NotIncludes",fe,"expect "+describe(V)+" to not include "+te)}},75985:(I,F,n)=>{(function(){var E=n(55983),a=n(97279).utf8,P=n(85884),_=n(97279).bin,i=function(S,x){S.constructor==String?x&&x.encoding==="binary"?S=_.stringToBytes(S):S=a.stringToBytes(S):P(S)?S=Array.prototype.slice.call(S,0):!Array.isArray(S)&&S.constructor!==Uint8Array&&(S=S.toString());for(var s=E.bytesToWords(S),g=S.length*8,c=1732584193,p=-271733879,f=-1732584194,m=271733878,d=0;d<s.length;d++)s[d]=(s[d]<<8|s[d]>>>24)&16711935|(s[d]<<24|s[d]>>>8)&4278255360;s[g>>>5]|=128<<g%32,s[(g+64>>>9<<4)+14]=g;for(var B=i._ff,k=i._gg,U=i._hh,C=i._ii,d=0;d<s.length;d+=16){var h=c,v=p,b=f,A=m;c=B(c,p,f,m,s[d+0],7,-680876936),m=B(m,c,p,f,s[d+1],12,-389564586),f=B(f,m,c,p,s[d+2],17,606105819),p=B(p,f,m,c,s[d+3],22,-1044525330),c=B(c,p,f,m,s[d+4],7,-176418897),m=B(m,c,p,f,s[d+5],12,1200080426),f=B(f,m,c,p,s[d+6],17,-1473231341),p=B(p,f,m,c,s[d+7],22,-45705983),c=B(c,p,f,m,s[d+8],7,1770035416),m=B(m,c,p,f,s[d+9],12,-1958414417),f=B(f,m,c,p,s[d+10],17,-42063),p=B(p,f,m,c,s[d+11],22,-1990404162),c=B(c,p,f,m,s[d+12],7,1804603682),m=B(m,c,p,f,s[d+13],12,-40341101),f=B(f,m,c,p,s[d+14],17,-1502002290),p=B(p,f,m,c,s[d+15],22,1236535329),c=k(c,p,f,m,s[d+1],5,-165796510),m=k(m,c,p,f,s[d+6],9,-1069501632),f=k(f,m,c,p,s[d+11],14,643717713),p=k(p,f,m,c,s[d+0],20,-373897302),c=k(c,p,f,m,s[d+5],5,-701558691),m=k(m,c,p,f,s[d+10],9,38016083),f=k(f,m,c,p,s[d+15],14,-660478335),p=k(p,f,m,c,s[d+4],20,-405537848),c=k(c,p,f,m,s[d+9],5,568446438),m=k(m,c,p,f,s[d+14],9,-1019803690),f=k(f,m,c,p,s[d+3],14,-187363961),p=k(p,f,m,c,s[d+8],20,1163531501),c=k(c,p,f,m,s[d+13],5,-1444681467),m=k(m,c,p,f,s[d+2],9,-51403784),f=k(f,m,c,p,s[d+7],14,1735328473),p=k(p,f,m,c,s[d+12],20,-1926607734),c=U(c,p,f,m,s[d+5],4,-378558),m=U(m,c,p,f,s[d+8],11,-2022574463),f=U(f,m,c,p,s[d+11],16,1839030562),p=U(p,f,m,c,s[d+14],23,-35309556),c=U(c,p,f,m,s[d+1],4,-1530992060),m=U(m,c,p,f,s[d+4],11,1272893353),f=U(f,m,c,p,s[d+7],16,-155497632),p=U(p,f,m,c,s[d+10],23,-1094730640),c=U(c,p,f,m,s[d+13],4,681279174),m=U(m,c,p,f,s[d+0],11,-358537222),f=U(f,m,c,p,s[d+3],16,-722521979),p=U(p,f,m,c,s[d+6],23,76029189),c=U(c,p,f,m,s[d+9],4,-640364487),m=U(m,c,p,f,s[d+12],11,-421815835),f=U(f,m,c,p,s[d+15],16,530742520),p=U(p,f,m,c,s[d+2],23,-995338651),c=C(c,p,f,m,s[d+0],6,-198630844),m=C(m,c,p,f,s[d+7],10,1126891415),f=C(f,m,c,p,s[d+14],15,-1416354905),p=C(p,f,m,c,s[d+5],21,-57434055),c=C(c,p,f,m,s[d+12],6,1700485571),m=C(m,c,p,f,s[d+3],10,-1894986606),f=C(f,m,c,p,s[d+10],15,-1051523),p=C(p,f,m,c,s[d+1],21,-2054922799),c=C(c,p,f,m,s[d+8],6,1873313359),m=C(m,c,p,f,s[d+15],10,-30611744),f=C(f,m,c,p,s[d+6],15,-1560198380),p=C(p,f,m,c,s[d+13],21,1309151649),c=C(c,p,f,m,s[d+4],6,-145523070),m=C(m,c,p,f,s[d+11],10,-1120210379),f=C(f,m,c,p,s[d+2],15,718787259),p=C(p,f,m,c,s[d+9],21,-343485551),c=c+h>>>0,p=p+v>>>0,f=f+b>>>0,m=m+A>>>0}return E.endian([c,p,f,m])};i._ff=function(S,x,s,g,c,p,f){var m=S+(x&s|~x&g)+(c>>>0)+f;return(m<<p|m>>>32-p)+x},i._gg=function(S,x,s,g,c,p,f){var m=S+(x&g|s&~g)+(c>>>0)+f;return(m<<p|m>>>32-p)+x},i._hh=function(S,x,s,g,c,p,f){var m=S+(x^s^g)+(c>>>0)+f;return(m<<p|m>>>32-p)+x},i._ii=function(S,x,s,g,c,p,f){var m=S+(s^(x|~g))+(c>>>0)+f;return(m<<p|m>>>32-p)+x},i._blocksize=16,i._digestsize=16,I.exports=function(S,x){if(S==null)throw new Error("Illegal argument "+S);var s=E.wordsToBytes(i(S,x));return x&&x.asBytes?s:x&&x.asString?_.bytesToString(s):E.bytesToHex(s)}})()},46198:(I,F,n)=>{"use strict";function E(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(E)}catch(a){console.error(a)}}E(),I.exports=n(23801)},93168:(I,F,n)=>{"use strict";n.d(F,{Z:()=>S});var E=n(7485),a=n(79929),P=n(79573),_=n(14207);function i(x){var s=x.store,g=x.context,c=x.children,p=(0,E.useMemo)(function(){var d=(0,P.X)(s);return{store:s,subscription:d}},[s]),f=(0,E.useMemo)(function(){return s.getState()},[s]);(0,_.L)(function(){var d=p.subscription;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),f!==s.getState()&&d.notifyNestedSubs(),function(){d.tryUnsubscribe(),d.onStateChange=null}},[p,f]);var m=g||a.E;return E.createElement(m.Provider,{value:p},c)}const S=i},7485:(I,F,n)=>{"use strict";I.exports=n(67887)},84515:I=>{"use strict";I.exports=canvg},29750:I=>{"use strict";I.exports=dompurify},75177:I=>{"use strict";I.exports=html2canvas}},In={};function ae(I){var F=In[I];if(F!==void 0)return F.exports;var n=In[I]={id:I,loaded:!1,exports:{}};return Dn[I].call(n.exports,n,n.exports,ae),n.loaded=!0,n.exports}ae.m=Dn,ae.amdO={},(()=>{var I=[];ae.O=(F,n,E,a)=>{if(n){a=a||0;for(var P=I.length;P>0&&I[P-1][2]>a;P--)I[P]=I[P-1];I[P]=[n,E,a];return}for(var _=1/0,P=0;P<I.length;P++){for(var[n,E,a]=I[P],i=!0,S=0;S<n.length;S++)(a&!1||_>=a)&&Object.keys(ae.O).every(f=>ae.O[f](n[S]))?n.splice(S--,1):(i=!1,a<_&&(_=a));if(i){I.splice(P--,1);var x=E();x!==void 0&&(F=x)}}return F}})(),ae.n=I=>{var F=I&&I.__esModule?()=>I.default:()=>I;return ae.d(F,{a:F}),F},(()=>{var I=Object.getPrototypeOf?n=>Object.getPrototypeOf(n):n=>n.__proto__,F;ae.t=function(n,E){if(E&1&&(n=this(n)),E&8||typeof n=="object"&&n&&(E&4&&n.__esModule||E&16&&typeof n.then=="function"))return n;var a=Object.create(null);ae.r(a);var P={};F=F||[null,I({}),I([]),I(I)];for(var _=E&2&&n;typeof _=="object"&&!~F.indexOf(_);_=I(_))Object.getOwnPropertyNames(_).forEach(i=>P[i]=()=>n[i]);return P.default=()=>n,ae.d(a,P),a}})(),ae.d=(I,F)=>{for(var n in F)ae.o(F,n)&&!ae.o(I,n)&&Object.defineProperty(I,n,{enumerable:!0,get:F[n]})},ae.f={},ae.e=I=>Promise.all(Object.keys(ae.f).reduce((F,n)=>(ae.f[n](I,F),F),[])),ae.u=I=>""+{126:"lazy-lib-i18n",147:"lazy-lib-rehype",972:"lazy-lib-dl"}[I]+"-"+{126:"2aa1323f24962ee690fa",147:"b19e130d71a6816b983e",972:"58e8123e2490e2e9db9a"}[I]+".js",ae.miniCssF=I=>{},ae.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(I){if(typeof window=="object")return window}}(),ae.hmd=I=>(I=Object.create(I),I.children||(I.children=[]),Object.defineProperty(I,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+I.id)}}),I),ae.o=(I,F)=>Object.prototype.hasOwnProperty.call(I,F),(()=>{var I={},F="@mb2023/mb-proto:";ae.l=(n,E,a,P)=>{if(I[n]){I[n].push(E);return}var _,i;if(a!==void 0)for(var S=document.getElementsByTagName("script"),x=0;x<S.length;x++){var s=S[x];if(s.getAttribute("src")==n||s.getAttribute("data-webpack")==F+a){_=s;break}}_||(i=!0,_=document.createElement("script"),_.charset="utf-8",_.timeout=120,ae.nc&&_.setAttribute("nonce",ae.nc),_.setAttribute("data-webpack",F+a),_.src=n),I[n]=[E];var g=(p,f)=>{_.onerror=_.onload=null,clearTimeout(c);var m=I[n];if(delete I[n],_.parentNode&&_.parentNode.removeChild(_),m&&m.forEach(d=>d(f)),p)return p(f)},c=setTimeout(g.bind(null,void 0,{type:"timeout",target:_}),12e4);_.onerror=g.bind(null,_.onerror),_.onload=g.bind(null,_.onload),i&&document.head.appendChild(_)}})(),ae.r=I=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})},ae.nmd=I=>(I.paths=[],I.children||(I.children=[]),I),ae.j=96,ae.p="/mb-proto2/",(()=>{var I={96:0};ae.f.j=(E,a)=>{var P=ae.o(I,E)?I[E]:void 0;if(P!==0)if(P)a.push(P[2]);else{var _=new Promise((s,g)=>P=I[E]=[s,g]);a.push(P[2]=_);var i=ae.p+ae.u(E),S=new Error,x=s=>{if(ae.o(I,E)&&(P=I[E],P!==0&&(I[E]=void 0),P)){var g=s&&(s.type==="load"?"missing":s.type),c=s&&s.target&&s.target.src;S.message="Loading chunk "+E+" failed.\n("+g+": "+c+")",S.name="ChunkLoadError",S.type=g,S.request=c,P[1](S)}};ae.l(i,x,"chunk-"+E,E)}},ae.O.j=E=>I[E]===0;var F=(E,a)=>{var[P,_,i]=a,S,x,s=0;if(P.some(c=>I[c]!==0)){for(S in _)ae.o(_,S)&&(ae.m[S]=_[S]);if(i)var g=i(ae)}for(E&&E(a);s<P.length;s++)x=P[s],ae.o(I,x)&&I[x]&&I[x][0](),I[x]=0;return ae.O(g)},n=self.webpackChunk_mb2023_mb_proto=self.webpackChunk_mb2023_mb_proto||[];n.forEach(F.bind(null,0)),n.push=F.bind(null,n.push.bind(n))})(),ae.nc=void 0,ae.O(void 0,[736],()=>ae(76557)),ae.O(void 0,[736],()=>ae(61936));var Bn=ae.O(void 0,[736],()=>ae(2470));Bn=ae.O(Bn)})();

//# sourceMappingURL=preview-html-zip-6bc1d05c1f4bdc24dab1.js.map